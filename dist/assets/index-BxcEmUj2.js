var R0=Object.defineProperty;var M0=(e,t,n)=>t in e?R0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ie=(e,t,n)=>M0(e,typeof t!="symbol"?t+"":t,n);function P0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Tp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jp={exports:{}},wo={},Lp={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=Symbol.for("react.element"),_0=Symbol.for("react.portal"),I0=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),z0=Symbol.for("react.context"),F0=Symbol.for("react.forward_ref"),V0=Symbol.for("react.suspense"),B0=Symbol.for("react.memo"),U0=Symbol.for("react.lazy"),vf=Symbol.iterator;function W0(e){return e===null||typeof e!="object"?null:(e=vf&&e[vf]||e["@@iterator"],typeof e=="function"?e:null)}var Ap={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Mp={};function hs(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Ap}hs.prototype.isReactComponent={};hs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pp(){}Pp.prototype=hs.prototype;function Tc(e,t,n){this.props=e,this.context=t,this.refs=Mp,this.updater=n||Ap}var jc=Tc.prototype=new Pp;jc.constructor=Tc;Rp(jc,hs.prototype);jc.isPureReactComponent=!0;var bf=Array.isArray,_p=Object.prototype.hasOwnProperty,Lc={current:null},Ip={key:!0,ref:!0,__self:!0,__source:!0};function Op(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)_p.call(t,r)&&!Ip.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Pi,type:e,key:i,ref:a,props:s,_owner:Lc.current}}function H0(e,t){return{$$typeof:Pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ac(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pi}function q0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wf=/\/+/g;function Yo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?q0(""+e.key):t.toString(36)}function xa(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Pi:case _0:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Yo(a,0):r,bf(s)?(n="",e!=null&&(n=e.replace(wf,"$&/")+"/"),xa(s,t,n,"",function(c){return c})):s!=null&&(Ac(s)&&(s=H0(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(wf,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",bf(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+Yo(i,o);a+=xa(i,t,n,l,s)}else if(l=W0(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+Yo(i,o++),a+=xa(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Wi(e,t,n){if(e==null)return e;var r=[],s=0;return xa(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Q0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},va={transition:null},K0={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:va,ReactCurrentOwner:Lc};function Dp(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Wi,forEach:function(e,t,n){Wi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wi(e,function(){t++}),t},toArray:function(e){return Wi(e,function(t){return t})||[]},only:function(e){if(!Ac(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=hs;ie.Fragment=I0;ie.Profiler=D0;ie.PureComponent=Tc;ie.StrictMode=O0;ie.Suspense=V0;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K0;ie.act=Dp;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Lc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)_p.call(t,l)&&!Ip.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Pi,type:e.type,key:s,ref:i,props:r,_owner:a}};ie.createContext=function(e){return e={$$typeof:z0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$0,_context:e},e.Consumer=e};ie.createElement=Op;ie.createFactory=function(e){var t=Op.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:F0,render:e}};ie.isValidElement=Ac;ie.lazy=function(e){return{$$typeof:U0,_payload:{_status:-1,_result:e},_init:Q0}};ie.memo=function(e,t){return{$$typeof:B0,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=va.transition;va.transition={};try{e()}finally{va.transition=t}};ie.unstable_act=Dp;ie.useCallback=function(e,t){return st.current.useCallback(e,t)};ie.useContext=function(e){return st.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return st.current.useDeferredValue(e)};ie.useEffect=function(e,t){return st.current.useEffect(e,t)};ie.useId=function(){return st.current.useId()};ie.useImperativeHandle=function(e,t,n){return st.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return st.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return st.current.useReducer(e,t,n)};ie.useRef=function(e){return st.current.useRef(e)};ie.useState=function(e){return st.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return st.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return st.current.useTransition()};ie.version="18.3.1";Lp.exports=ie;var b=Lp.exports;const ln=Tp(b),G0=P0({__proto__:null,default:ln},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0=b,X0=Symbol.for("react.element"),J0=Symbol.for("react.fragment"),Z0=Object.prototype.hasOwnProperty,eb=Y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tb={key:!0,ref:!0,__self:!0,__source:!0};function $p(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Z0.call(t,r)&&!tb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:X0,type:e,key:i,ref:a,props:s,_owner:eb.current}}wo.Fragment=J0;wo.jsx=$p;wo.jsxs=$p;jp.exports=wo;var u=jp.exports,Yl={},zp={exports:{}},bt={},Fp={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,O){var _=R.length;R.push(O);e:for(;0<_;){var z=_-1>>>1,U=R[z];if(0<s(U,O))R[z]=O,R[_]=U,_=z;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],_=R.pop();if(_!==O){R[0]=_;e:for(var z=0,U=R.length,A=U>>>1;z<A;){var D=2*(z+1)-1,V=R[D],K=D+1,H=R[K];if(0>s(V,_))K<U&&0>s(H,V)?(R[z]=H,R[K]=_,z=K):(R[z]=V,R[D]=_,z=D);else if(K<U&&0>s(H,_))R[z]=H,R[K]=_,z=K;else break e}}return O}function s(R,O){var _=R.sortIndex-O.sortIndex;return _!==0?_:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,m=null,f=3,y=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=R)r(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(c)}}function S(R){if(w=!1,g(R),!v)if(n(l)!==null)v=!0,P(E);else{var O=n(c);O!==null&&J(S,O.startTime-R)}}function E(R,O){v=!1,w&&(w=!1,p(N),N=-1),y=!0;var _=f;try{for(g(O),m=n(l);m!==null&&(!(m.expirationTime>O)||R&&!B());){var z=m.callback;if(typeof z=="function"){m.callback=null,f=m.priorityLevel;var U=z(m.expirationTime<=O);O=e.unstable_now(),typeof U=="function"?m.callback=U:m===n(l)&&r(l),g(O)}else r(l);m=n(l)}if(m!==null)var A=!0;else{var D=n(c);D!==null&&J(S,D.startTime-O),A=!1}return A}finally{m=null,f=_,y=!1}}var C=!1,k=null,N=-1,M=5,T=-1;function B(){return!(e.unstable_now()-T<M)}function X(){if(k!==null){var R=e.unstable_now();T=R;var O=!0;try{O=k(!0,R)}finally{O?Q():(C=!1,k=null)}}else C=!1}var Q;if(typeof h=="function")Q=function(){h(X)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=X,Q=function(){j.postMessage(null)}}else Q=function(){x(X,0)};function P(R){k=R,C||(C=!0,Q())}function J(R,O){N=x(function(){R(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,P(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var _=f;f=O;try{return R()}finally{f=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var _=f;f=R;try{return O()}finally{f=_}},e.unstable_scheduleCallback=function(R,O,_){var z=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?z+_:z):_=z,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=_+U,R={id:d++,callback:O,priorityLevel:R,startTime:_,expirationTime:U,sortIndex:-1},_>z?(R.sortIndex=_,t(c,R),n(l)===null&&R===n(c)&&(w?(p(N),N=-1):w=!0,J(S,_-z))):(R.sortIndex=U,t(l,R),v||y||(v=!0,P(E))),R},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(R){var O=f;return function(){var _=f;f=O;try{return R.apply(this,arguments)}finally{f=_}}}})(Vp);Fp.exports=Vp;var nb=Fp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=b,vt=nb;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bp=new Set,si={};function Nr(e,t){ss(e,t),ss(e+"Capture",t)}function ss(e,t){for(si[e]=t,e=0;e<t.length;e++)Bp.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=Object.prototype.hasOwnProperty,sb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sf={},Ef={};function ib(e){return Xl.call(Ef,e)?!0:Xl.call(Sf,e)?!1:sb.test(e)?Ef[e]=!0:(Sf[e]=!0,!1)}function ab(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ob(e,t,n,r){if(t===null||typeof t>"u"||ab(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rc=/[\-:]([a-z])/g;function Mc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rc,Mc);He[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rc,Mc);He[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rc,Mc);He[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pc(e,t,n,r){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ob(t,n,s,r)&&(n=null),r||s===null?ib(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gn=rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hi=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Wp=Symbol.for("react.context"),Ic=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),eu=Symbol.for("react.suspense_list"),Oc=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Hp=Symbol.for("react.offscreen"),Nf=Symbol.iterator;function Ns(e){return e===null||typeof e!="object"?null:(e=Nf&&e[Nf]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Xo;function Is(e){if(Xo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xo=t&&t[1]||""}return`
`+Xo+e}var Jo=!1;function Zo(e,t){if(!e||Jo)return"";Jo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Jo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function lb(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=Zo(e.type,!1),e;case 11:return e=Zo(e.type.render,!1),e;case 1:return e=Zo(e.type,!0),e;default:return""}}function tu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mr:return"Fragment";case Rr:return"Portal";case Jl:return"Profiler";case _c:return"StrictMode";case Zl:return"Suspense";case eu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wp:return(e.displayName||"Context")+".Consumer";case Up:return(e._context.displayName||"Context")+".Provider";case Ic:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oc:return t=e.displayName||null,t!==null?t:tu(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return tu(e(t))}catch{}}return null}function ub(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tu(t);case 8:return t===_c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cb(e){var t=qp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qi(e){e._valueTracker||(e._valueTracker=cb(e))}function Qp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nu(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Cf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kp(e,t){t=t.checked,t!=null&&Pc(e,"checked",t,!1)}function ru(e,t){Kp(e,t);var n=zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?su(e,t.type,n):t.hasOwnProperty("defaultValue")&&su(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function su(e,t,n){(t!=="number"||$a(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Os=Array.isArray;function Yr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function iu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Os(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zn(n)}}function Gp(e,t){var n=zn(t.value),r=zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function jf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function au(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qi,Xp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qi=Qi||document.createElement("div"),Qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},db=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(e){db.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ws[t]=Ws[e]})});function Jp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ws.hasOwnProperty(e)&&Ws[e]?(""+t).trim():t+"px"}function Zp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var fb=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ou(e,t){if(t){if(fb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function lu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=null;function Dc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cu=null,Xr=null,Jr=null;function Lf(e){if(e=Oi(e)){if(typeof cu!="function")throw Error(I(280));var t=e.stateNode;t&&(t=ko(t),cu(e.stateNode,e.type,t))}}function eg(e){Xr?Jr?Jr.push(e):Jr=[e]:Xr=e}function tg(){if(Xr){var e=Xr,t=Jr;if(Jr=Xr=null,Lf(e),t)for(e=0;e<t.length;e++)Lf(t[e])}}function ng(e,t){return e(t)}function rg(){}var el=!1;function sg(e,t,n){if(el)return e(t,n);el=!0;try{return ng(e,t,n)}finally{el=!1,(Xr!==null||Jr!==null)&&(rg(),tg())}}function ai(e,t){var n=e.stateNode;if(n===null)return null;var r=ko(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var du=!1;if(dn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){du=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{du=!1}function mb(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Hs=!1,za=null,Fa=!1,fu=null,hb={onError:function(e){Hs=!0,za=e}};function pb(e,t,n,r,s,i,a,o,l){Hs=!1,za=null,mb.apply(hb,arguments)}function gb(e,t,n,r,s,i,a,o,l){if(pb.apply(this,arguments),Hs){if(Hs){var c=za;Hs=!1,za=null}else throw Error(I(198));Fa||(Fa=!0,fu=c)}}function Cr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ig(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Af(e){if(Cr(e)!==e)throw Error(I(188))}function yb(e){var t=e.alternate;if(!t){if(t=Cr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Af(s),e;if(i===r)return Af(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function ag(e){return e=yb(e),e!==null?og(e):null}function og(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=og(e);if(t!==null)return t;e=e.sibling}return null}var lg=vt.unstable_scheduleCallback,Rf=vt.unstable_cancelCallback,xb=vt.unstable_shouldYield,vb=vt.unstable_requestPaint,Le=vt.unstable_now,bb=vt.unstable_getCurrentPriorityLevel,$c=vt.unstable_ImmediatePriority,ug=vt.unstable_UserBlockingPriority,Va=vt.unstable_NormalPriority,wb=vt.unstable_LowPriority,cg=vt.unstable_IdlePriority,So=null,Gt=null;function Sb(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(So,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Cb,Eb=Math.log,Nb=Math.LN2;function Cb(e){return e>>>=0,e===0?32:31-(Eb(e)/Nb|0)|0}var Ki=64,Gi=4194304;function Ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ba(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Ds(o):(i&=a,i!==0&&(r=Ds(i)))}else a=n&~s,a!==0?r=Ds(a):i!==0&&(r=Ds(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dt(t),s=1<<n,r|=e[n],t&=~s;return r}function kb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Dt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=kb(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function mu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dg(){var e=Ki;return Ki<<=1,!(Ki&4194240)&&(Ki=64),e}function tl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _i(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function jb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function zc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var de=0;function fg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mg,Fc,hg,pg,gg,hu=!1,Yi=[],An=null,Rn=null,Mn=null,oi=new Map,li=new Map,Nn=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mf(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(t.pointerId)}}function ks(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Oi(t),t!==null&&Fc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ab(e,t,n,r,s){switch(t){case"focusin":return An=ks(An,e,t,n,r,s),!0;case"dragenter":return Rn=ks(Rn,e,t,n,r,s),!0;case"mouseover":return Mn=ks(Mn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return oi.set(i,ks(oi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,li.set(i,ks(li.get(i)||null,e,t,n,r,s)),!0}return!1}function yg(e){var t=ir(e.target);if(t!==null){var n=Cr(t);if(n!==null){if(t=n.tag,t===13){if(t=ig(n),t!==null){e.blockedOn=t,gg(e.priority,function(){hg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ba(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uu=r,n.target.dispatchEvent(r),uu=null}else return t=Oi(n),t!==null&&Fc(t),e.blockedOn=n,!1;t.shift()}return!0}function Pf(e,t,n){ba(e)&&n.delete(t)}function Rb(){hu=!1,An!==null&&ba(An)&&(An=null),Rn!==null&&ba(Rn)&&(Rn=null),Mn!==null&&ba(Mn)&&(Mn=null),oi.forEach(Pf),li.forEach(Pf)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,Rb)))}function ui(e){function t(s){return Ts(s,e)}if(0<Yi.length){Ts(Yi[0],e);for(var n=1;n<Yi.length;n++){var r=Yi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(An!==null&&Ts(An,e),Rn!==null&&Ts(Rn,e),Mn!==null&&Ts(Mn,e),oi.forEach(t),li.forEach(t),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)yg(n),n.blockedOn===null&&Nn.shift()}var Zr=gn.ReactCurrentBatchConfig,Ua=!0;function Mb(e,t,n,r){var s=de,i=Zr.transition;Zr.transition=null;try{de=1,Vc(e,t,n,r)}finally{de=s,Zr.transition=i}}function Pb(e,t,n,r){var s=de,i=Zr.transition;Zr.transition=null;try{de=4,Vc(e,t,n,r)}finally{de=s,Zr.transition=i}}function Vc(e,t,n,r){if(Ua){var s=pu(e,t,n,r);if(s===null)dl(e,t,r,Wa,n),Mf(e,r);else if(Ab(s,e,t,n,r))r.stopPropagation();else if(Mf(e,r),t&4&&-1<Lb.indexOf(e)){for(;s!==null;){var i=Oi(s);if(i!==null&&mg(i),i=pu(e,t,n,r),i===null&&dl(e,t,r,Wa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else dl(e,t,r,null,n)}}var Wa=null;function pu(e,t,n,r){if(Wa=null,e=Dc(r),e=ir(e),e!==null)if(t=Cr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ig(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wa=e,null}function xg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bb()){case $c:return 1;case ug:return 4;case Va:case wb:return 16;case cg:return 536870912;default:return 16}default:return 16}}var Tn=null,Bc=null,wa=null;function vg(){if(wa)return wa;var e,t=Bc,n=t.length,r,s="value"in Tn?Tn.value:Tn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return wa=s.slice(e,1<r?1-r:void 0)}function Sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function _f(){return!1}function wt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xi:_f,this.isPropagationStopped=_f,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=wt(ps),Ii=Ne({},ps,{view:0,detail:0}),_b=wt(Ii),nl,rl,js,Eo=Ne({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==js&&(js&&e.type==="mousemove"?(nl=e.screenX-js.screenX,rl=e.screenY-js.screenY):rl=nl=0,js=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:rl}}),If=wt(Eo),Ib=Ne({},Eo,{dataTransfer:0}),Ob=wt(Ib),Db=Ne({},Ii,{relatedTarget:0}),sl=wt(Db),$b=Ne({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),zb=wt($b),Fb=Ne({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vb=wt(Fb),Bb=Ne({},ps,{data:0}),Of=wt(Bb),Ub={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hb[e])?!!t[e]:!1}function Wc(){return qb}var Qb=Ne({},Ii,{key:function(e){if(e.key){var t=Ub[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(e){return e.type==="keypress"?Sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kb=wt(Qb),Gb=Ne({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=wt(Gb),Yb=Ne({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),Xb=wt(Yb),Jb=Ne({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zb=wt(Jb),ew=Ne({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tw=wt(ew),nw=[9,13,27,32],Hc=dn&&"CompositionEvent"in window,qs=null;dn&&"documentMode"in document&&(qs=document.documentMode);var rw=dn&&"TextEvent"in window&&!qs,bg=dn&&(!Hc||qs&&8<qs&&11>=qs),$f=" ",zf=!1;function wg(e,t){switch(e){case"keyup":return nw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function sw(e,t){switch(e){case"compositionend":return Sg(t);case"keypress":return t.which!==32?null:(zf=!0,$f);case"textInput":return e=t.data,e===$f&&zf?null:e;default:return null}}function iw(e,t){if(Pr)return e==="compositionend"||!Hc&&wg(e,t)?(e=vg(),wa=Bc=Tn=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bg&&t.locale!=="ko"?null:t.data;default:return null}}var aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ff(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aw[e.type]:t==="textarea"}function Eg(e,t,n,r){eg(r),t=Ha(t,"onChange"),0<t.length&&(n=new Uc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qs=null,ci=null;function ow(e){_g(e,0)}function No(e){var t=Or(e);if(Qp(t))return e}function lw(e,t){if(e==="change")return t}var Ng=!1;if(dn){var il;if(dn){var al="oninput"in document;if(!al){var Vf=document.createElement("div");Vf.setAttribute("oninput","return;"),al=typeof Vf.oninput=="function"}il=al}else il=!1;Ng=il&&(!document.documentMode||9<document.documentMode)}function Bf(){Qs&&(Qs.detachEvent("onpropertychange",Cg),ci=Qs=null)}function Cg(e){if(e.propertyName==="value"&&No(ci)){var t=[];Eg(t,ci,e,Dc(e)),sg(ow,t)}}function uw(e,t,n){e==="focusin"?(Bf(),Qs=t,ci=n,Qs.attachEvent("onpropertychange",Cg)):e==="focusout"&&Bf()}function cw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return No(ci)}function dw(e,t){if(e==="click")return No(t)}function fw(e,t){if(e==="input"||e==="change")return No(t)}function mw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:mw;function di(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xl.call(t,s)||!Ft(e[s],t[s]))return!1}return!0}function Uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wf(e,t){var n=Uf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uf(n)}}function kg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tg(){for(var e=window,t=$a();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$a(e.document)}return t}function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hw(e){var t=Tg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kg(n.ownerDocument.documentElement,n)){if(r!==null&&qc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Wf(n,i);var a=Wf(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pw=dn&&"documentMode"in document&&11>=document.documentMode,_r=null,gu=null,Ks=null,yu=!1;function Hf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yu||_r==null||_r!==$a(r)||(r=_r,"selectionStart"in r&&qc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ks&&di(Ks,r)||(Ks=r,r=Ha(gu,"onSelect"),0<r.length&&(t=new Uc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_r)))}function Ji(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},ol={},jg={};dn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Co(e){if(ol[e])return ol[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jg)return ol[e]=t[n];return e}var Lg=Co("animationend"),Ag=Co("animationiteration"),Rg=Co("animationstart"),Mg=Co("transitionend"),Pg=new Map,qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){Pg.set(e,t),Nr(t,[e])}for(var ll=0;ll<qf.length;ll++){var ul=qf[ll],gw=ul.toLowerCase(),yw=ul[0].toUpperCase()+ul.slice(1);Wn(gw,"on"+yw)}Wn(Lg,"onAnimationEnd");Wn(Ag,"onAnimationIteration");Wn(Rg,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(Mg,"onTransitionEnd");ss("onMouseEnter",["mouseout","mouseover"]);ss("onMouseLeave",["mouseout","mouseover"]);ss("onPointerEnter",["pointerout","pointerover"]);ss("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xw=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function Qf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gb(r,t,void 0,e),e.currentTarget=null}function _g(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Qf(s,o,c),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Qf(s,o,c),i=l}}}if(Fa)throw e=fu,Fa=!1,fu=null,e}function pe(e,t){var n=t[Su];n===void 0&&(n=t[Su]=new Set);var r=e+"__bubble";n.has(r)||(Ig(t,e,2,!1),n.add(r))}function cl(e,t,n){var r=0;t&&(r|=4),Ig(n,e,r,t)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function fi(e){if(!e[Zi]){e[Zi]=!0,Bp.forEach(function(n){n!=="selectionchange"&&(xw.has(n)||cl(n,!1,e),cl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zi]||(t[Zi]=!0,cl("selectionchange",!1,t))}}function Ig(e,t,n,r){switch(xg(t)){case 1:var s=Mb;break;case 4:s=Pb;break;default:s=Vc}n=s.bind(null,t,n,e),s=void 0,!du||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function dl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ir(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}sg(function(){var c=i,d=Dc(n),m=[];e:{var f=Pg.get(e);if(f!==void 0){var y=Uc,v=e;switch(e){case"keypress":if(Sa(n)===0)break e;case"keydown":case"keyup":y=Kb;break;case"focusin":v="focus",y=sl;break;case"focusout":v="blur",y=sl;break;case"beforeblur":case"afterblur":y=sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=If;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ob;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Xb;break;case Lg:case Ag:case Rg:y=zb;break;case Mg:y=Zb;break;case"scroll":y=_b;break;case"wheel":y=tw;break;case"copy":case"cut":case"paste":y=Vb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Df}var w=(t&4)!==0,x=!w&&e==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var h=c,g;h!==null;){g=h;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,p!==null&&(S=ai(h,p),S!=null&&w.push(mi(h,S,g)))),x)break;h=h.return}0<w.length&&(f=new y(f,v,null,n,d),m.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==uu&&(v=n.relatedTarget||n.fromElement)&&(ir(v)||v[fn]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?ir(v):null,v!==null&&(x=Cr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(w=If,S="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=Df,S="onPointerLeave",p="onPointerEnter",h="pointer"),x=y==null?f:Or(y),g=v==null?f:Or(v),f=new w(S,h+"leave",y,n,d),f.target=x,f.relatedTarget=g,S=null,ir(d)===c&&(w=new w(p,h+"enter",v,n,d),w.target=g,w.relatedTarget=x,S=w),x=S,y&&v)t:{for(w=y,p=v,h=0,g=w;g;g=Tr(g))h++;for(g=0,S=p;S;S=Tr(S))g++;for(;0<h-g;)w=Tr(w),h--;for(;0<g-h;)p=Tr(p),g--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=Tr(w),p=Tr(p)}w=null}else w=null;y!==null&&Kf(m,f,y,w,!1),v!==null&&x!==null&&Kf(m,x,v,w,!0)}}e:{if(f=c?Or(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var E=lw;else if(Ff(f))if(Ng)E=fw;else{E=cw;var C=uw}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=dw);if(E&&(E=E(e,c))){Eg(m,E,n,d);break e}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&su(f,"number",f.value)}switch(C=c?Or(c):window,e){case"focusin":(Ff(C)||C.contentEditable==="true")&&(_r=C,gu=c,Ks=null);break;case"focusout":Ks=gu=_r=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,Hf(m,n,d);break;case"selectionchange":if(pw)break;case"keydown":case"keyup":Hf(m,n,d)}var k;if(Hc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Pr?wg(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(bg&&n.locale!=="ko"&&(Pr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Pr&&(k=vg()):(Tn=d,Bc="value"in Tn?Tn.value:Tn.textContent,Pr=!0)),C=Ha(c,N),0<C.length&&(N=new Of(N,e,null,n,d),m.push({event:N,listeners:C}),k?N.data=k:(k=Sg(n),k!==null&&(N.data=k)))),(k=rw?sw(e,n):iw(e,n))&&(c=Ha(c,"onBeforeInput"),0<c.length&&(d=new Of("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=k))}_g(m,t)})}function mi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ha(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ai(e,n),i!=null&&r.unshift(mi(e,i,s)),i=ai(e,t),i!=null&&r.push(mi(e,i,s))),e=e.return}return r}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kf(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,s?(l=ai(n,i),l!=null&&a.unshift(mi(n,l,o))):s||(l=ai(n,i),l!=null&&a.push(mi(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var vw=/\r\n?/g,bw=/\u0000|\uFFFD/g;function Gf(e){return(typeof e=="string"?e:""+e).replace(vw,`
`).replace(bw,"")}function ea(e,t,n){if(t=Gf(t),Gf(e)!==t&&n)throw Error(I(425))}function qa(){}var xu=null,vu=null;function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,ww=typeof clearTimeout=="function"?clearTimeout:void 0,Yf=typeof Promise=="function"?Promise:void 0,Sw=typeof queueMicrotask=="function"?queueMicrotask:typeof Yf<"u"?function(e){return Yf.resolve(null).then(e).catch(Ew)}:wu;function Ew(e){setTimeout(function(){throw e})}function fl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ui(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ui(t)}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var gs=Math.random().toString(36).slice(2),qt="__reactFiber$"+gs,hi="__reactProps$"+gs,fn="__reactContainer$"+gs,Su="__reactEvents$"+gs,Nw="__reactListeners$"+gs,Cw="__reactHandles$"+gs;function ir(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fn]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xf(e);e!==null;){if(n=e[qt])return n;e=Xf(e)}return t}e=n,n=e.parentNode}return null}function Oi(e){return e=e[qt]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function ko(e){return e[hi]||null}var Eu=[],Dr=-1;function Hn(e){return{current:e}}function ge(e){0>Dr||(e.current=Eu[Dr],Eu[Dr]=null,Dr--)}function he(e,t){Dr++,Eu[Dr]=e.current,e.current=t}var Fn={},Je=Hn(Fn),ut=Hn(!1),hr=Fn;function is(e,t){var n=e.type.contextTypes;if(!n)return Fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ct(e){return e=e.childContextTypes,e!=null}function Qa(){ge(ut),ge(Je)}function Jf(e,t,n){if(Je.current!==Fn)throw Error(I(168));he(Je,t),he(ut,n)}function Og(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,ub(e)||"Unknown",s));return Ne({},n,r)}function Ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,hr=Je.current,he(Je,e),he(ut,ut.current),!0}function Zf(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Og(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,ge(ut),ge(Je),he(Je,e)):ge(ut),he(ut,n)}var nn=null,To=!1,ml=!1;function Dg(e){nn===null?nn=[e]:nn.push(e)}function kw(e){To=!0,Dg(e)}function qn(){if(!ml&&nn!==null){ml=!0;var e=0,t=de;try{var n=nn;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,To=!1}catch(s){throw nn!==null&&(nn=nn.slice(e+1)),lg($c,qn),s}finally{de=t,ml=!1}}return null}var $r=[],zr=0,Ga=null,Ya=0,Et=[],Nt=0,pr=null,an=1,on="";function er(e,t){$r[zr++]=Ya,$r[zr++]=Ga,Ga=e,Ya=t}function $g(e,t,n){Et[Nt++]=an,Et[Nt++]=on,Et[Nt++]=pr,pr=e;var r=an;e=on;var s=32-Dt(r)-1;r&=~(1<<s),n+=1;var i=32-Dt(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,an=1<<32-Dt(t)+s|n<<s|r,on=i+e}else an=1<<i|n<<s|r,on=e}function Qc(e){e.return!==null&&(er(e,1),$g(e,1,0))}function Kc(e){for(;e===Ga;)Ga=$r[--zr],$r[zr]=null,Ya=$r[--zr],$r[zr]=null;for(;e===pr;)pr=Et[--Nt],Et[Nt]=null,on=Et[--Nt],Et[Nt]=null,an=Et[--Nt],Et[Nt]=null}var xt=null,gt=null,ve=!1,Ot=null;function zg(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function em(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,gt=Pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:an,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,gt=null,!0):!1;default:return!1}}function Nu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cu(e){if(ve){var t=gt;if(t){var n=t;if(!em(e,t)){if(Nu(e))throw Error(I(418));t=Pn(n.nextSibling);var r=xt;t&&em(e,t)?zg(r,n):(e.flags=e.flags&-4097|2,ve=!1,xt=e)}}else{if(Nu(e))throw Error(I(418));e.flags=e.flags&-4097|2,ve=!1,xt=e}}}function tm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function ta(e){if(e!==xt)return!1;if(!ve)return tm(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bu(e.type,e.memoizedProps)),t&&(t=gt)){if(Nu(e))throw Fg(),Error(I(418));for(;t;)zg(e,t),t=Pn(t.nextSibling)}if(tm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=Pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=xt?Pn(e.stateNode.nextSibling):null;return!0}function Fg(){for(var e=gt;e;)e=Pn(e.nextSibling)}function as(){gt=xt=null,ve=!1}function Gc(e){Ot===null?Ot=[e]:Ot.push(e)}var Tw=gn.ReactCurrentBatchConfig;function Ls(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function na(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nm(e){var t=e._init;return t(e._payload)}function Vg(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=Dn(p,h),p.index=0,p.sibling=null,p}function i(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,h,g,S){return h===null||h.tag!==6?(h=bl(g,p.mode,S),h.return=p,h):(h=s(h,g),h.return=p,h)}function l(p,h,g,S){var E=g.type;return E===Mr?d(p,h,g.props.children,S,g.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sn&&nm(E)===h.type)?(S=s(h,g.props),S.ref=Ls(p,h,g),S.return=p,S):(S=La(g.type,g.key,g.props,null,p.mode,S),S.ref=Ls(p,h,g),S.return=p,S)}function c(p,h,g,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=wl(g,p.mode,S),h.return=p,h):(h=s(h,g.children||[]),h.return=p,h)}function d(p,h,g,S,E){return h===null||h.tag!==7?(h=dr(g,p.mode,S,E),h.return=p,h):(h=s(h,g),h.return=p,h)}function m(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=bl(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Hi:return g=La(h.type,h.key,h.props,null,p.mode,g),g.ref=Ls(p,null,h),g.return=p,g;case Rr:return h=wl(h,p.mode,g),h.return=p,h;case Sn:var S=h._init;return m(p,S(h._payload),g)}if(Os(h)||Ns(h))return h=dr(h,p.mode,g,null),h.return=p,h;na(p,h)}return null}function f(p,h,g,S){var E=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:o(p,h,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hi:return g.key===E?l(p,h,g,S):null;case Rr:return g.key===E?c(p,h,g,S):null;case Sn:return E=g._init,f(p,h,E(g._payload),S)}if(Os(g)||Ns(g))return E!==null?null:d(p,h,g,S,null);na(p,g)}return null}function y(p,h,g,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(g)||null,o(h,p,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hi:return p=p.get(S.key===null?g:S.key)||null,l(h,p,S,E);case Rr:return p=p.get(S.key===null?g:S.key)||null,c(h,p,S,E);case Sn:var C=S._init;return y(p,h,g,C(S._payload),E)}if(Os(S)||Ns(S))return p=p.get(g)||null,d(h,p,S,E,null);na(h,S)}return null}function v(p,h,g,S){for(var E=null,C=null,k=h,N=h=0,M=null;k!==null&&N<g.length;N++){k.index>N?(M=k,k=null):M=k.sibling;var T=f(p,k,g[N],S);if(T===null){k===null&&(k=M);break}e&&k&&T.alternate===null&&t(p,k),h=i(T,h,N),C===null?E=T:C.sibling=T,C=T,k=M}if(N===g.length)return n(p,k),ve&&er(p,N),E;if(k===null){for(;N<g.length;N++)k=m(p,g[N],S),k!==null&&(h=i(k,h,N),C===null?E=k:C.sibling=k,C=k);return ve&&er(p,N),E}for(k=r(p,k);N<g.length;N++)M=y(k,p,N,g[N],S),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?N:M.key),h=i(M,h,N),C===null?E=M:C.sibling=M,C=M);return e&&k.forEach(function(B){return t(p,B)}),ve&&er(p,N),E}function w(p,h,g,S){var E=Ns(g);if(typeof E!="function")throw Error(I(150));if(g=E.call(g),g==null)throw Error(I(151));for(var C=E=null,k=h,N=h=0,M=null,T=g.next();k!==null&&!T.done;N++,T=g.next()){k.index>N?(M=k,k=null):M=k.sibling;var B=f(p,k,T.value,S);if(B===null){k===null&&(k=M);break}e&&k&&B.alternate===null&&t(p,k),h=i(B,h,N),C===null?E=B:C.sibling=B,C=B,k=M}if(T.done)return n(p,k),ve&&er(p,N),E;if(k===null){for(;!T.done;N++,T=g.next())T=m(p,T.value,S),T!==null&&(h=i(T,h,N),C===null?E=T:C.sibling=T,C=T);return ve&&er(p,N),E}for(k=r(p,k);!T.done;N++,T=g.next())T=y(k,p,N,T.value,S),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?N:T.key),h=i(T,h,N),C===null?E=T:C.sibling=T,C=T);return e&&k.forEach(function(X){return t(p,X)}),ve&&er(p,N),E}function x(p,h,g,S){if(typeof g=="object"&&g!==null&&g.type===Mr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Hi:e:{for(var E=g.key,C=h;C!==null;){if(C.key===E){if(E=g.type,E===Mr){if(C.tag===7){n(p,C.sibling),h=s(C,g.props.children),h.return=p,p=h;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sn&&nm(E)===C.type){n(p,C.sibling),h=s(C,g.props),h.ref=Ls(p,C,g),h.return=p,p=h;break e}n(p,C);break}else t(p,C);C=C.sibling}g.type===Mr?(h=dr(g.props.children,p.mode,S,g.key),h.return=p,p=h):(S=La(g.type,g.key,g.props,null,p.mode,S),S.ref=Ls(p,h,g),S.return=p,p=S)}return a(p);case Rr:e:{for(C=g.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=s(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=wl(g,p.mode,S),h.return=p,p=h}return a(p);case Sn:return C=g._init,x(p,h,C(g._payload),S)}if(Os(g))return v(p,h,g,S);if(Ns(g))return w(p,h,g,S);na(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=s(h,g),h.return=p,p=h):(n(p,h),h=bl(g,p.mode,S),h.return=p,p=h),a(p)):n(p,h)}return x}var os=Vg(!0),Bg=Vg(!1),Xa=Hn(null),Ja=null,Fr=null,Yc=null;function Xc(){Yc=Fr=Ja=null}function Jc(e){var t=Xa.current;ge(Xa),e._currentValue=t}function ku(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function es(e,t){Ja=e,Yc=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Yc!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(Ja===null)throw Error(I(308));Fr=e,Ja.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var ar=null;function Zc(e){ar===null?ar=[e]:ar.push(e)}function Ug(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Zc(t)):(n.next=s.next,s.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function ed(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,mn(e,n)}return s=r.interleaved,s===null?(t.next=t,Zc(r)):(t.next=s.next,s.next=t),r.interleaved=t,mn(e,n)}function Ea(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zc(e,n)}}function rm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Za(e,t,n,r){var s=e.updateQueue;En=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var m=s.baseState;a=0,d=c=l=null,o=i;do{var f=o.lane,y=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,w=o;switch(f=t,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){m=v.call(y,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(y,m,f):v,f==null)break e;m=Ne({},m,f);break e;case 2:En=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=y,l=m):d=d.next=y,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=m),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yr|=a,e.lanes=a,e.memoizedState=m}}function sm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var Di={},Yt=Hn(Di),pi=Hn(Di),gi=Hn(Di);function or(e){if(e===Di)throw Error(I(174));return e}function td(e,t){switch(he(gi,t),he(pi,e),he(Yt,Di),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:au(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=au(t,e)}ge(Yt),he(Yt,t)}function ls(){ge(Yt),ge(pi),ge(gi)}function Hg(e){or(gi.current);var t=or(Yt.current),n=au(t,e.type);t!==n&&(he(pi,e),he(Yt,n))}function nd(e){pi.current===e&&(ge(Yt),ge(pi))}var we=Hn(0);function eo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hl=[];function rd(){for(var e=0;e<hl.length;e++)hl[e]._workInProgressVersionPrimary=null;hl.length=0}var Na=gn.ReactCurrentDispatcher,pl=gn.ReactCurrentBatchConfig,gr=0,Ee=null,De=null,ze=null,to=!1,Gs=!1,yi=0,jw=0;function Qe(){throw Error(I(321))}function sd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function id(e,t,n,r,s,i){if(gr=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Na.current=e===null||e.memoizedState===null?Mw:Pw,e=n(r,s),Gs){i=0;do{if(Gs=!1,yi=0,25<=i)throw Error(I(301));i+=1,ze=De=null,t.updateQueue=null,Na.current=_w,e=n(r,s)}while(Gs)}if(Na.current=no,t=De!==null&&De.next!==null,gr=0,ze=De=Ee=null,to=!1,t)throw Error(I(300));return e}function ad(){var e=yi!==0;return yi=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ee.memoizedState=ze=e:ze=ze.next=e,ze}function At(){if(De===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=ze===null?Ee.memoizedState:ze.next;if(t!==null)ze=t,De=e;else{if(e===null)throw Error(I(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},ze===null?Ee.memoizedState=ze=e:ze=ze.next=e}return ze}function xi(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=At(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((gr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=m,a=r):l=l.next=m,Ee.lanes|=d,yr|=d}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=o,Ft(r,t.memoizedState)||(lt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ee.lanes|=i,yr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yl(e){var t=At(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ft(i,t.memoizedState)||(lt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function qg(){}function Qg(e,t){var n=Ee,r=At(),s=t(),i=!Ft(r.memoizedState,s);if(i&&(r.memoizedState=s,lt=!0),r=r.queue,od(Yg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,vi(9,Gg.bind(null,n,r,s,t),void 0,null),Fe===null)throw Error(I(349));gr&30||Kg(n,t,s)}return s}function Kg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gg(e,t,n,r){t.value=n,t.getSnapshot=r,Xg(t)&&Jg(e)}function Yg(e,t,n){return n(function(){Xg(t)&&Jg(e)})}function Xg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function Jg(e){var t=mn(e,1);t!==null&&$t(t,e,1,-1)}function im(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Rw.bind(null,Ee,e),[t.memoizedState,e]}function vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zg(){return At().memoizedState}function Ca(e,t,n,r){var s=Ht();Ee.flags|=e,s.memoizedState=vi(1|t,n,void 0,r===void 0?null:r)}function jo(e,t,n,r){var s=At();r=r===void 0?null:r;var i=void 0;if(De!==null){var a=De.memoizedState;if(i=a.destroy,r!==null&&sd(r,a.deps)){s.memoizedState=vi(t,n,i,r);return}}Ee.flags|=e,s.memoizedState=vi(1|t,n,i,r)}function am(e,t){return Ca(8390656,8,e,t)}function od(e,t){return jo(2048,8,e,t)}function ey(e,t){return jo(4,2,e,t)}function ty(e,t){return jo(4,4,e,t)}function ny(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ry(e,t,n){return n=n!=null?n.concat([e]):null,jo(4,4,ny.bind(null,t,e),n)}function ld(){}function sy(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function iy(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ay(e,t,n){return gr&21?(Ft(n,t)||(n=dg(),Ee.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=n)}function Lw(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=pl.transition;pl.transition={};try{e(!1),t()}finally{de=n,pl.transition=r}}function oy(){return At().memoizedState}function Aw(e,t,n){var r=On(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ly(e))uy(t,n);else if(n=Ug(e,t,n,r),n!==null){var s=nt();$t(n,e,r,s),cy(n,t,r)}}function Rw(e,t,n){var r=On(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ly(e))uy(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Ft(o,a)){var l=t.interleaved;l===null?(s.next=s,Zc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Ug(e,t,s,r),n!==null&&(s=nt(),$t(n,e,r,s),cy(n,t,r))}}function ly(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function uy(e,t){Gs=to=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zc(e,n)}}var no={readContext:Lt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Mw={readContext:Lt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:am,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ca(4194308,4,ny.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ca(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Aw.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:im,useDebugValue:ld,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=im(!1),t=e[0];return e=Lw.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=Ht();if(ve){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Fe===null)throw Error(I(349));gr&30||Kg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,am(Yg.bind(null,r,i,e),[e]),r.flags|=2048,vi(9,Gg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Fe.identifierPrefix;if(ve){var n=on,r=an;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pw={readContext:Lt,useCallback:sy,useContext:Lt,useEffect:od,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:iy,useReducer:gl,useRef:Zg,useState:function(){return gl(xi)},useDebugValue:ld,useDeferredValue:function(e){var t=At();return ay(t,De.memoizedState,e)},useTransition:function(){var e=gl(xi)[0],t=At().memoizedState;return[e,t]},useMutableSource:qg,useSyncExternalStore:Qg,useId:oy,unstable_isNewReconciler:!1},_w={readContext:Lt,useCallback:sy,useContext:Lt,useEffect:od,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:iy,useReducer:yl,useRef:Zg,useState:function(){return yl(xi)},useDebugValue:ld,useDeferredValue:function(e){var t=At();return De===null?t.memoizedState=e:ay(t,De.memoizedState,e)},useTransition:function(){var e=yl(xi)[0],t=At().memoizedState;return[e,t]},useMutableSource:qg,useSyncExternalStore:Qg,useId:oy,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Lo={isMounted:function(e){return(e=e._reactInternals)?Cr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),s=On(e),i=un(r,s);i.payload=t,n!=null&&(i.callback=n),t=_n(e,i,s),t!==null&&($t(t,e,s,r),Ea(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),s=On(e),i=un(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_n(e,i,s),t!==null&&($t(t,e,s,r),Ea(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=On(e),s=un(n,r);s.tag=2,t!=null&&(s.callback=t),t=_n(e,s,r),t!==null&&($t(t,e,r,n),Ea(t,e,r))}};function om(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!di(n,r)||!di(s,i):!0}function dy(e,t,n){var r=!1,s=Fn,i=t.contextType;return typeof i=="object"&&i!==null?i=Lt(i):(s=ct(t)?hr:Je.current,r=t.contextTypes,i=(r=r!=null)?is(e,s):Fn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function ju(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ed(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lt(i):(i=ct(t)?hr:Je.current,s.context=is(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Tu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Lo.enqueueReplaceState(s,s.state,null),Za(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do n+=lb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function xl(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function Lu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Iw=typeof WeakMap=="function"?WeakMap:Map;function fy(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){so||(so=!0,zu=r),Lu(e,t)},n}function my(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Lu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lu(e,t),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function um(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Iw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Gw.bind(null,e,t,n),t.then(e,e))}function cm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var Ow=gn.ReactCurrentOwner,lt=!1;function Ze(e,t,n,r){t.child=e===null?Bg(t,null,n,r):os(t,e.child,n,r)}function fm(e,t,n,r,s){n=n.render;var i=t.ref;return es(t,s),r=id(e,t,n,r,i,s),n=ad(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(ve&&n&&Qc(t),t.flags|=1,Ze(e,t,r,s),t.child)}function mm(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!gd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hy(e,t,i,r,s)):(e=La(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:di,n(a,r)&&e.ref===t.ref)return hn(e,t,s)}return t.flags|=1,e=Dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function hy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(di(i,r)&&e.ref===t.ref)if(lt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,hn(e,t,s)}return Au(e,t,n,r,s)}function py(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Br,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Br,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,he(Br,mt),mt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,he(Br,mt),mt|=r;return Ze(e,t,s,n),t.child}function gy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Au(e,t,n,r,s){var i=ct(n)?hr:Je.current;return i=is(t,i),es(t,s),n=id(e,t,n,r,i,s),r=ad(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(ve&&r&&Qc(t),t.flags|=1,Ze(e,t,n,s),t.child)}function hm(e,t,n,r,s){if(ct(n)){var i=!0;Ka(t)}else i=!1;if(es(t,s),t.stateNode===null)ka(e,t),dy(t,n,r),ju(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Lt(c):(c=ct(n)?hr:Je.current,c=is(t,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&lm(t,a,r,c),En=!1;var f=t.memoizedState;a.state=f,Za(t,r,a,s),l=t.memoizedState,o!==r||f!==l||ut.current||En?(typeof d=="function"&&(Tu(t,n,d,r),l=t.memoizedState),(o=En||om(t,n,o,r,f,l,c))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Wg(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:_t(t.type,o),a.props=c,m=t.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Lt(l):(l=ct(n)?hr:Je.current,l=is(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||f!==l)&&lm(t,a,r,l),En=!1,f=t.memoizedState,a.state=f,Za(t,r,a,s);var v=t.memoizedState;o!==m||f!==v||ut.current||En?(typeof y=="function"&&(Tu(t,n,y,r),v=t.memoizedState),(c=En||om(t,n,c,r,f,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,i,s)}function Ru(e,t,n,r,s,i){gy(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Zf(t,n,!1),hn(e,t,i);r=t.stateNode,Ow.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=os(t,e.child,null,i),t.child=os(t,null,o,i)):Ze(e,t,o,i),t.memoizedState=r.state,s&&Zf(t,n,!0),t.child}function yy(e){var t=e.stateNode;t.pendingContext?Jf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jf(e,t.context,!1),td(e,t.containerInfo)}function pm(e,t,n,r,s){return as(),Gc(s),t.flags|=256,Ze(e,t,n,r),t.child}var Mu={dehydrated:null,treeContext:null,retryLane:0};function Pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function xy(e,t,n){var r=t.pendingProps,s=we.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),he(we,s&1),e===null)return Cu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Mo(a,r,0,null),e=dr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pu(n),t.memoizedState=Mu,e):ud(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Dw(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Dn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Dn(o,i):(i=dr(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Pu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Mu,r}return i=e.child,e=i.sibling,r=Dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ud(e,t){return t=Mo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ra(e,t,n,r){return r!==null&&Gc(r),os(t,e.child,null,n),e=ud(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dw(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=xl(Error(I(422))),ra(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Mo({mode:"visible",children:r.children},s,0,null),i=dr(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&os(t,e.child,null,a),t.child.memoizedState=Pu(a),t.memoizedState=Mu,i);if(!(t.mode&1))return ra(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(I(419)),r=xl(i,r,void 0),ra(e,t,a,r)}if(o=(a&e.childLanes)!==0,lt||o){if(r=Fe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mn(e,s),$t(r,e,s,-1))}return pd(),r=xl(Error(I(421))),ra(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Yw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,gt=Pn(s.nextSibling),xt=t,ve=!0,Ot=null,e!==null&&(Et[Nt++]=an,Et[Nt++]=on,Et[Nt++]=pr,an=e.id,on=e.overflow,pr=t),t=ud(t,r.children),t.flags|=4096,t)}function gm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ku(e.return,t,n)}function vl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ze(e,t,r.children,n),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gm(e,n,t);else if(e.tag===19)gm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(we,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&eo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),vl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&eo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}vl(t,!0,n,null,i);break;case"together":vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ka(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $w(e,t,n){switch(t.tag){case 3:yy(t),as();break;case 5:Hg(t);break;case 1:ct(t.type)&&Ka(t);break;case 4:td(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;he(Xa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(we,we.current&1),t.flags|=128,null):n&t.child.childLanes?xy(e,t,n):(he(we,we.current&1),e=hn(e,t,n),e!==null?e.sibling:null);he(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,py(e,t,n)}return hn(e,t,n)}var by,_u,wy,Sy;by=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_u=function(){};wy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,or(Yt.current);var i=null;switch(n){case"input":s=nu(e,s),r=nu(e,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=iu(e,s),r=iu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=qa)}ou(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(si.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(si.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Sy=function(e,t,n,r){n!==r&&(t.flags|=4)};function As(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zw(e,t,n){var r=t.pendingProps;switch(Kc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return ct(t.type)&&Qa(),Ke(t),null;case 3:return r=t.stateNode,ls(),ge(ut),ge(Je),rd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ta(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Bu(Ot),Ot=null))),_u(e,t),Ke(t),null;case 5:nd(t);var s=or(gi.current);if(n=t.type,e!==null&&t.stateNode!=null)wy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ke(t),null}if(e=or(Yt.current),ta(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[qt]=t,r[hi]=i,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<$s.length;s++)pe($s[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Cf(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":Tf(r,i),pe("invalid",r)}ou(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ea(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ea(r.textContent,o,e),s=["children",""+o]):si.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&pe("scroll",r)}switch(n){case"input":qi(r),kf(r,i,!0);break;case"textarea":qi(r),jf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[qt]=t,e[hi]=r,by(e,t,!1,!1),t.stateNode=e;e:{switch(a=lu(n,r),n){case"dialog":pe("cancel",e),pe("close",e),s=r;break;case"iframe":case"object":case"embed":pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<$s.length;s++)pe($s[s],e);s=r;break;case"source":pe("error",e),s=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=r;break;case"details":pe("toggle",e),s=r;break;case"input":Cf(e,r),s=nu(e,r),pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),pe("invalid",e);break;case"textarea":Tf(e,r),s=iu(e,r),pe("invalid",e);break;default:s=r}ou(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Zp(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xp(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ii(e,l):typeof l=="number"&&ii(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(si.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pe("scroll",e):l!=null&&Pc(e,i,l,a))}switch(n){case"input":qi(e),kf(e,r,!1);break;case"textarea":qi(e),jf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Yr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)Sy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=or(gi.current),or(Yt.current),ta(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(i=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:ea(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ea(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return Ke(t),null;case 13:if(ge(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&gt!==null&&t.mode&1&&!(t.flags&128))Fg(),as(),t.flags|=98560,i=!1;else if(i=ta(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[qt]=t}else as(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else Ot!==null&&(Bu(Ot),Ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?$e===0&&($e=3):pd())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return ls(),_u(e,t),e===null&&fi(t.stateNode.containerInfo),Ke(t),null;case 10:return Jc(t.type._context),Ke(t),null;case 17:return ct(t.type)&&Qa(),Ke(t),null;case 19:if(ge(we),i=t.memoizedState,i===null)return Ke(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)As(i,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=eo(e),a!==null){for(t.flags|=128,As(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>cs&&(t.flags|=128,r=!0,As(i,!1),t.lanes=4194304)}else{if(!r)if(e=eo(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),As(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ve)return Ke(t),null}else 2*Le()-i.renderingStartTime>cs&&n!==1073741824&&(t.flags|=128,r=!0,As(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,n=we.current,he(we,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return hd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Fw(e,t){switch(Kc(t),t.tag){case 1:return ct(t.type)&&Qa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ls(),ge(ut),ge(Je),rd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nd(t),null;case 13:if(ge(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));as()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(we),null;case 4:return ls(),null;case 10:return Jc(t.type._context),null;case 22:case 23:return hd(),null;case 24:return null;default:return null}}var sa=!1,Ye=!1,Vw=typeof WeakSet=="function"?WeakSet:Set,W=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function Iu(e,t,n){try{n()}catch(r){ke(e,t,r)}}var ym=!1;function Bw(e,t){if(xu=Ua,e=Tg(),qc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,m=e,f=null;t:for(;;){for(var y;m!==n||s!==0&&m.nodeType!==3||(o=a+s),m!==i||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)f=m,m=y;for(;;){if(m===e)break t;if(f===n&&++c===s&&(o=a),f===i&&++d===r&&(l=a),(y=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=y}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vu={focusedElem:e,selectionRange:n},Ua=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:_t(t.type,w),x);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){ke(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=ym,ym=!1,v}function Ys(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Iu(t,n,i)}s=s.next}while(s!==r)}}function Ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ou(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ey(e){var t=e.alternate;t!==null&&(e.alternate=null,Ey(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[hi],delete t[Su],delete t[Nw],delete t[Cw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ny(e){return e.tag===5||e.tag===3||e.tag===4}function xm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qa));else if(r!==4&&(e=e.child,e!==null))for(Du(e,t,n),e=e.sibling;e!==null;)Du(e,t,n),e=e.sibling}function $u(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($u(e,t,n),e=e.sibling;e!==null;)$u(e,t,n),e=e.sibling}var Be=null,It=!1;function xn(e,t,n){for(n=n.child;n!==null;)Cy(e,t,n),n=n.sibling}function Cy(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(So,n)}catch{}switch(n.tag){case 5:Ye||Vr(n,t);case 6:var r=Be,s=It;Be=null,xn(e,t,n),Be=r,It=s,Be!==null&&(It?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(It?(e=Be,n=n.stateNode,e.nodeType===8?fl(e.parentNode,n):e.nodeType===1&&fl(e,n),ui(e)):fl(Be,n.stateNode));break;case 4:r=Be,s=It,Be=n.stateNode.containerInfo,It=!0,xn(e,t,n),Be=r,It=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Iu(n,t,a),s=s.next}while(s!==r)}xn(e,t,n);break;case 1:if(!Ye&&(Vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ke(n,t,o)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,xn(e,t,n),Ye=r):xn(e,t,n);break;default:xn(e,t,n)}}function vm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Vw),t.forEach(function(r){var s=Xw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Be=o.stateNode,It=!1;break e;case 3:Be=o.stateNode.containerInfo,It=!0;break e;case 4:Be=o.stateNode.containerInfo,It=!0;break e}o=o.return}if(Be===null)throw Error(I(160));Cy(i,a,s),Be=null,It=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ke(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ky(t,e),t=t.sibling}function ky(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Wt(e),r&4){try{Ys(3,e,e.return),Ao(3,e)}catch(w){ke(e,e.return,w)}try{Ys(5,e,e.return)}catch(w){ke(e,e.return,w)}}break;case 1:Rt(t,e),Wt(e),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(Rt(t,e),Wt(e),r&512&&n!==null&&Vr(n,n.return),e.flags&32){var s=e.stateNode;try{ii(s,"")}catch(w){ke(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Kp(s,i),lu(o,a);var c=lu(o,i);for(a=0;a<l.length;a+=2){var d=l[a],m=l[a+1];d==="style"?Zp(s,m):d==="dangerouslySetInnerHTML"?Xp(s,m):d==="children"?ii(s,m):Pc(s,d,m,c)}switch(o){case"input":ru(s,i);break;case"textarea":Gp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Yr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Yr(s,!!i.multiple,i.defaultValue,!0):Yr(s,!!i.multiple,i.multiple?[]:"",!1))}s[hi]=i}catch(w){ke(e,e.return,w)}}break;case 6:if(Rt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ke(e,e.return,w)}}break;case 3:if(Rt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ui(t.containerInfo)}catch(w){ke(e,e.return,w)}break;case 4:Rt(t,e),Wt(e);break;case 13:Rt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fd=Le())),r&4&&vm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(c=Ye)||d,Rt(t,e),Ye=c):Rt(t,e),Wt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(m=W=d;W!==null;){switch(f=W,y=f.child,f.tag){case 0:case 11:case 14:case 15:Ys(4,f,f.return);break;case 1:Vr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ke(r,n,w)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){wm(m);continue}}y!==null?(y.return=f,W=y):wm(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Jp("display",a))}catch(w){ke(e,e.return,w)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(w){ke(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Rt(t,e),Wt(e),r&4&&vm(e);break;case 21:break;default:Rt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ny(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ii(s,""),r.flags&=-33);var i=xm(e);$u(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=xm(e);Du(e,o,a);break;default:throw Error(I(161))}}catch(l){ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uw(e,t,n){W=e,Ty(e)}function Ty(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||sa;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ye;o=sa;var c=Ye;if(sa=a,(Ye=l)&&!c)for(W=s;W!==null;)a=W,l=a.child,a.tag===22&&a.memoizedState!==null?Sm(s):l!==null?(l.return=a,W=l):Sm(s);for(;i!==null;)W=i,Ty(i),i=i.sibling;W=s,sa=o,Ye=c}bm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):bm(e)}}function bm(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||Ao(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sm(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sm(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&ui(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ye||t.flags&512&&Ou(t)}catch(f){ke(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function wm(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Sm(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ao(4,t)}catch(l){ke(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ke(t,s,l)}}var i=t.return;try{Ou(t)}catch(l){ke(t,i,l)}break;case 5:var a=t.return;try{Ou(t)}catch(l){ke(t,a,l)}}}catch(l){ke(t,t.return,l)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var Ww=Math.ceil,ro=gn.ReactCurrentDispatcher,cd=gn.ReactCurrentOwner,Tt=gn.ReactCurrentBatchConfig,ue=0,Fe=null,Pe=null,We=0,mt=0,Br=Hn(0),$e=0,bi=null,yr=0,Ro=0,dd=0,Xs=null,ot=null,fd=0,cs=1/0,en=null,so=!1,zu=null,In=null,ia=!1,jn=null,io=0,Js=0,Fu=null,Ta=-1,ja=0;function nt(){return ue&6?Le():Ta!==-1?Ta:Ta=Le()}function On(e){return e.mode&1?ue&2&&We!==0?We&-We:Tw.transition!==null?(ja===0&&(ja=dg()),ja):(e=de,e!==0||(e=window.event,e=e===void 0?16:xg(e.type)),e):1}function $t(e,t,n,r){if(50<Js)throw Js=0,Fu=null,Error(I(185));_i(e,n,r),(!(ue&2)||e!==Fe)&&(e===Fe&&(!(ue&2)&&(Ro|=n),$e===4&&Cn(e,We)),dt(e,r),n===1&&ue===0&&!(t.mode&1)&&(cs=Le()+500,To&&qn()))}function dt(e,t){var n=e.callbackNode;Tb(e,t);var r=Ba(e,e===Fe?We:0);if(r===0)n!==null&&Rf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rf(n),t===1)e.tag===0?kw(Em.bind(null,e)):Dg(Em.bind(null,e)),Sw(function(){!(ue&6)&&qn()}),n=null;else{switch(fg(r)){case 1:n=$c;break;case 4:n=ug;break;case 16:n=Va;break;case 536870912:n=cg;break;default:n=Va}n=Iy(n,jy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jy(e,t){if(Ta=-1,ja=0,ue&6)throw Error(I(327));var n=e.callbackNode;if(ts()&&e.callbackNode!==n)return null;var r=Ba(e,e===Fe?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ao(e,r);else{t=r;var s=ue;ue|=2;var i=Ay();(Fe!==e||We!==t)&&(en=null,cs=Le()+500,cr(e,t));do try{Qw();break}catch(o){Ly(e,o)}while(!0);Xc(),ro.current=i,ue=s,Pe!==null?t=0:(Fe=null,We=0,t=$e)}if(t!==0){if(t===2&&(s=mu(e),s!==0&&(r=s,t=Vu(e,s))),t===1)throw n=bi,cr(e,0),Cn(e,r),dt(e,Le()),n;if(t===6)Cn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Hw(s)&&(t=ao(e,r),t===2&&(i=mu(e),i!==0&&(r=i,t=Vu(e,i))),t===1))throw n=bi,cr(e,0),Cn(e,r),dt(e,Le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:tr(e,ot,en);break;case 3:if(Cn(e,r),(r&130023424)===r&&(t=fd+500-Le(),10<t)){if(Ba(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wu(tr.bind(null,e,ot,en),t);break}tr(e,ot,en);break;case 4:if(Cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Dt(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ww(r/1960))-r,10<r){e.timeoutHandle=wu(tr.bind(null,e,ot,en),r);break}tr(e,ot,en);break;case 5:tr(e,ot,en);break;default:throw Error(I(329))}}}return dt(e,Le()),e.callbackNode===n?jy.bind(null,e):null}function Vu(e,t){var n=Xs;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=ao(e,t),e!==2&&(t=ot,ot=n,t!==null&&Bu(t)),e}function Bu(e){ot===null?ot=e:ot.push.apply(ot,e)}function Hw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ft(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~dd,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),r=1<<n;e[n]=-1,t&=~r}}function Em(e){if(ue&6)throw Error(I(327));ts();var t=Ba(e,0);if(!(t&1))return dt(e,Le()),null;var n=ao(e,t);if(e.tag!==0&&n===2){var r=mu(e);r!==0&&(t=r,n=Vu(e,r))}if(n===1)throw n=bi,cr(e,0),Cn(e,t),dt(e,Le()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,ot,en),dt(e,Le()),null}function md(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(cs=Le()+500,To&&qn())}}function xr(e){jn!==null&&jn.tag===0&&!(ue&6)&&ts();var t=ue;ue|=1;var n=Tt.transition,r=de;try{if(Tt.transition=null,de=1,e)return e()}finally{de=r,Tt.transition=n,ue=t,!(ue&6)&&qn()}}function hd(){mt=Br.current,ge(Br)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ww(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Kc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qa();break;case 3:ls(),ge(ut),ge(Je),rd();break;case 5:nd(r);break;case 4:ls();break;case 13:ge(we);break;case 19:ge(we);break;case 10:Jc(r.type._context);break;case 22:case 23:hd()}n=n.return}if(Fe=e,Pe=e=Dn(e.current,null),We=mt=t,$e=0,bi=null,dd=Ro=yr=0,ot=Xs=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}ar=null}return e}function Ly(e,t){do{var n=Pe;try{if(Xc(),Na.current=no,to){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}to=!1}if(gr=0,ze=De=Ee=null,Gs=!1,yi=0,cd.current=null,n===null||n.return===null){$e=1,bi=t,Pe=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=We,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=cm(a);if(y!==null){y.flags&=-257,dm(y,a,o,i,t),y.mode&1&&um(i,c,t),t=y,l=c;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){um(i,c,t),pd();break e}l=Error(I(426))}}else if(ve&&o.mode&1){var x=cm(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dm(x,a,o,i,t),Gc(us(l,o));break e}}i=l=us(l,o),$e!==4&&($e=2),Xs===null?Xs=[i]:Xs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=fy(i,l,t);rm(i,p);break e;case 1:o=l;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(In===null||!In.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=my(i,o,t);rm(i,S);break e}}i=i.return}while(i!==null)}My(n)}catch(E){t=E,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Ay(){var e=ro.current;return ro.current=no,e===null?no:e}function pd(){($e===0||$e===3||$e===2)&&($e=4),Fe===null||!(yr&268435455)&&!(Ro&268435455)||Cn(Fe,We)}function ao(e,t){var n=ue;ue|=2;var r=Ay();(Fe!==e||We!==t)&&(en=null,cr(e,t));do try{qw();break}catch(s){Ly(e,s)}while(!0);if(Xc(),ue=n,ro.current=r,Pe!==null)throw Error(I(261));return Fe=null,We=0,$e}function qw(){for(;Pe!==null;)Ry(Pe)}function Qw(){for(;Pe!==null&&!xb();)Ry(Pe)}function Ry(e){var t=_y(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?My(e):Pe=t,cd.current=null}function My(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fw(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Pe=null;return}}else if(n=zw(n,t,mt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);$e===0&&($e=5)}function tr(e,t,n){var r=de,s=Tt.transition;try{Tt.transition=null,de=1,Kw(e,t,n,r)}finally{Tt.transition=s,de=r}return null}function Kw(e,t,n,r){do ts();while(jn!==null);if(ue&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(jb(e,i),e===Fe&&(Pe=Fe=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ia||(ia=!0,Iy(Va,function(){return ts(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tt.transition,Tt.transition=null;var a=de;de=1;var o=ue;ue|=4,cd.current=null,Bw(e,n),ky(n,e),hw(vu),Ua=!!xu,vu=xu=null,e.current=n,Uw(n),vb(),ue=o,de=a,Tt.transition=i}else e.current=n;if(ia&&(ia=!1,jn=e,io=s),i=e.pendingLanes,i===0&&(In=null),Sb(n.stateNode),dt(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(so)throw so=!1,e=zu,zu=null,e;return io&1&&e.tag!==0&&ts(),i=e.pendingLanes,i&1?e===Fu?Js++:(Js=0,Fu=e):Js=0,qn(),null}function ts(){if(jn!==null){var e=fg(io),t=Tt.transition,n=de;try{if(Tt.transition=null,de=16>e?16:e,jn===null)var r=!1;else{if(e=jn,jn=null,io=0,ue&6)throw Error(I(331));var s=ue;for(ue|=4,W=e.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Ys(8,d,i)}var m=d.child;if(m!==null)m.return=d,W=m;else for(;W!==null;){d=W;var f=d.sibling,y=d.return;if(Ey(d),d===c){W=null;break}if(f!==null){f.return=y,W=f;break}W=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ys(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,W=p;break e}W=i.return}}var h=e.current;for(W=h;W!==null;){a=W;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,W=g;else e:for(a=h;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ao(9,o)}}catch(E){ke(o,o.return,E)}if(o===a){W=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,W=S;break e}W=o.return}}if(ue=s,qn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(So,e)}catch{}r=!0}return r}finally{de=n,Tt.transition=t}}return!1}function Nm(e,t,n){t=us(n,t),t=fy(e,t,1),e=_n(e,t,1),t=nt(),e!==null&&(_i(e,1,t),dt(e,t))}function ke(e,t,n){if(e.tag===3)Nm(e,e,n);else for(;t!==null;){if(t.tag===3){Nm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){e=us(n,e),e=my(t,e,1),t=_n(t,e,1),e=nt(),t!==null&&(_i(t,1,e),dt(t,e));break}}t=t.return}}function Gw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(We&n)===n&&($e===4||$e===3&&(We&130023424)===We&&500>Le()-fd?cr(e,0):dd|=n),dt(e,t)}function Py(e,t){t===0&&(e.mode&1?(t=Gi,Gi<<=1,!(Gi&130023424)&&(Gi=4194304)):t=1);var n=nt();e=mn(e,t),e!==null&&(_i(e,t,n),dt(e,n))}function Yw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Py(e,n)}function Xw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Py(e,n)}var _y;_y=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lt=!1,$w(e,t,n);lt=!!(e.flags&131072)}else lt=!1,ve&&t.flags&1048576&&$g(t,Ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ka(e,t),e=t.pendingProps;var s=is(t,Je.current);es(t,n),s=id(null,t,r,e,s,n);var i=ad();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(r)?(i=!0,Ka(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ed(t),s.updater=Lo,t.stateNode=s,s._reactInternals=t,ju(t,r,e,n),t=Ru(null,t,r,!0,i,n)):(t.tag=0,ve&&i&&Qc(t),Ze(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ka(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Zw(r),e=_t(r,e),s){case 0:t=Au(null,t,r,e,n);break e;case 1:t=hm(null,t,r,e,n);break e;case 11:t=fm(null,t,r,e,n);break e;case 14:t=mm(null,t,r,_t(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Au(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),hm(e,t,r,s,n);case 3:e:{if(yy(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Wg(e,t),Za(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=us(Error(I(423)),t),t=pm(e,t,r,n,s);break e}else if(r!==s){s=us(Error(I(424)),t),t=pm(e,t,r,n,s);break e}else for(gt=Pn(t.stateNode.containerInfo.firstChild),xt=t,ve=!0,Ot=null,n=Bg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(as(),r===s){t=hn(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return Hg(t),e===null&&Cu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,bu(r,s)?a=null:i!==null&&bu(r,i)&&(t.flags|=32),gy(e,t),Ze(e,t,a,n),t.child;case 6:return e===null&&Cu(t),null;case 13:return xy(e,t,n);case 4:return td(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=os(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),fm(e,t,r,s,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,he(Xa,r._currentValue),r._currentValue=a,i!==null)if(Ft(i.value,a)){if(i.children===s.children&&!ut.current){t=hn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=un(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ku(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),ku(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ze(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,es(t,n),s=Lt(s),r=r(s),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,s=_t(r,t.pendingProps),s=_t(r.type,s),mm(e,t,r,s,n);case 15:return hy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),ka(e,t),t.tag=1,ct(r)?(e=!0,Ka(t)):e=!1,es(t,n),dy(t,r,s),ju(t,r,s,n),Ru(null,t,r,!0,e,n);case 19:return vy(e,t,n);case 22:return py(e,t,n)}throw Error(I(156,t.tag))};function Iy(e,t){return lg(e,t)}function Jw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new Jw(e,t,n,r)}function gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zw(e){if(typeof e=="function")return gd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ic)return 11;if(e===Oc)return 14}return 2}function Dn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function La(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")gd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Mr:return dr(n.children,s,i,t);case _c:a=8,s|=8;break;case Jl:return e=Ct(12,n,t,s|2),e.elementType=Jl,e.lanes=i,e;case Zl:return e=Ct(13,n,t,s),e.elementType=Zl,e.lanes=i,e;case eu:return e=Ct(19,n,t,s),e.elementType=eu,e.lanes=i,e;case Hp:return Mo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Up:a=10;break e;case Wp:a=9;break e;case Ic:a=11;break e;case Oc:a=14;break e;case Sn:a=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Ct(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function dr(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function Mo(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=Hp,e.lanes=n,e.stateNode={isHidden:!1},e}function bl(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function wl(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yd(e,t,n,r,s,i,a,o,l){return e=new e1(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ed(i),e}function t1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Oy(e){if(!e)return Fn;e=e._reactInternals;e:{if(Cr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(ct(n))return Og(e,n,t)}return t}function Dy(e,t,n,r,s,i,a,o,l){return e=yd(n,r,!0,e,s,i,a,o,l),e.context=Oy(null),n=e.current,r=nt(),s=On(n),i=un(r,s),i.callback=t!=null?t:null,_n(n,i,s),e.current.lanes=s,_i(e,s,r),dt(e,r),e}function Po(e,t,n,r){var s=t.current,i=nt(),a=On(s);return n=Oy(n),t.context===null?t.context=n:t.pendingContext=n,t=un(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_n(s,t,a),e!==null&&($t(e,s,a,i),Ea(e,s,a)),a}function oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xd(e,t){Cm(e,t),(e=e.alternate)&&Cm(e,t)}function n1(){return null}var $y=typeof reportError=="function"?reportError:function(e){console.error(e)};function vd(e){this._internalRoot=e}_o.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Po(e,t,null,null)};_o.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){Po(null,e,null,null)}),t[fn]=null}};function _o(e){this._internalRoot=e}_o.prototype.unstable_scheduleHydration=function(e){if(e){var t=pg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&yg(e)}};function bd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function km(){}function r1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=oo(a);i.call(c)}}var a=Dy(t,r,e,0,null,!1,!1,"",km);return e._reactRootContainer=a,e[fn]=a.current,fi(e.nodeType===8?e.parentNode:e),xr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=oo(l);o.call(c)}}var l=yd(e,0,!1,null,null,!1,!1,"",km);return e._reactRootContainer=l,e[fn]=l.current,fi(e.nodeType===8?e.parentNode:e),xr(function(){Po(t,l,n,r)}),l}function Oo(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=oo(a);o.call(l)}}Po(t,a,e,s)}else a=r1(n,t,e,s,r);return oo(a)}mg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ds(t.pendingLanes);n!==0&&(zc(t,n|1),dt(t,Le()),!(ue&6)&&(cs=Le()+500,qn()))}break;case 13:xr(function(){var r=mn(e,1);if(r!==null){var s=nt();$t(r,e,1,s)}}),xd(e,1)}};Fc=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=nt();$t(t,e,134217728,n)}xd(e,134217728)}};hg=function(e){if(e.tag===13){var t=On(e),n=mn(e,t);if(n!==null){var r=nt();$t(n,e,t,r)}xd(e,t)}};pg=function(){return de};gg=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};cu=function(e,t,n){switch(t){case"input":if(ru(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ko(r);if(!s)throw Error(I(90));Qp(r),ru(r,s)}}}break;case"textarea":Gp(e,n);break;case"select":t=n.value,t!=null&&Yr(e,!!n.multiple,t,!1)}};ng=md;rg=xr;var s1={usingClientEntryPoint:!1,Events:[Oi,Or,ko,eg,tg,md]},Rs={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i1={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ag(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||n1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aa.isDisabled&&aa.supportsFiber)try{So=aa.inject(i1),Gt=aa}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s1;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bd(t))throw Error(I(200));return t1(e,t,null,n)};bt.createRoot=function(e,t){if(!bd(e))throw Error(I(299));var n=!1,r="",s=$y;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=yd(e,1,!1,null,null,n,!1,r,s),e[fn]=t.current,fi(e.nodeType===8?e.parentNode:e),new vd(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ag(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return xr(e)};bt.hydrate=function(e,t,n){if(!Io(t))throw Error(I(200));return Oo(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!bd(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=$y;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Dy(t,null,e,1,n!=null?n:null,s,!1,i,a),e[fn]=t.current,fi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new _o(t)};bt.render=function(e,t,n){if(!Io(t))throw Error(I(200));return Oo(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!Io(e))throw Error(I(40));return e._reactRootContainer?(xr(function(){Oo(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1};bt.unstable_batchedUpdates=md;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Io(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Oo(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function zy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zy)}catch(e){console.error(e)}}zy(),zp.exports=bt;var vr=zp.exports,Tm=vr;Yl.createRoot=Tm.createRoot,Yl.hydrateRoot=Tm.hydrateRoot;const Do=b.createContext(null);Do.displayName="PanelGroupContext";const Te={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},wd=10,fr=b.useLayoutEffect,jm=G0.useId,a1=typeof jm=="function"?jm:()=>null;let o1=0;function Sd(e=null){const t=a1(),n=b.useRef(e||t||null);return n.current===null&&(n.current=""+o1++),e!=null?e:n.current}function Fy({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:s,forwardedRef:i,id:a,maxSize:o,minSize:l,onCollapse:c,onExpand:d,onResize:m,order:f,style:y,tagName:v="div",...w}){const x=b.useContext(Do);if(x===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:p,expandPanel:h,getPanelSize:g,getPanelStyle:S,groupId:E,isPanelCollapsed:C,reevaluatePanelConstraints:k,registerPanel:N,resizePanel:M,unregisterPanel:T}=x,B=Sd(a),X=b.useRef({callbacks:{onCollapse:c,onExpand:d,onResize:m},constraints:{collapsedSize:n,collapsible:r,defaultSize:s,maxSize:o,minSize:l},id:B,idIsFromProps:a!==void 0,order:f});b.useRef({didLogMissingDefaultSizeWarning:!1}),fr(()=>{const{callbacks:L,constraints:j}=X.current,P={...j};X.current.id=B,X.current.idIsFromProps=a!==void 0,X.current.order=f,L.onCollapse=c,L.onExpand=d,L.onResize=m,j.collapsedSize=n,j.collapsible=r,j.defaultSize=s,j.maxSize=o,j.minSize=l,(P.collapsedSize!==j.collapsedSize||P.collapsible!==j.collapsible||P.maxSize!==j.maxSize||P.minSize!==j.minSize)&&k(X.current,P)}),fr(()=>{const L=X.current;return N(L),()=>{T(L)}},[f,B,N,T]),b.useImperativeHandle(i,()=>({collapse:()=>{p(X.current)},expand:L=>{h(X.current,L)},getId(){return B},getSize(){return g(X.current)},isCollapsed(){return C(X.current)},isExpanded(){return!C(X.current)},resize:L=>{M(X.current,L)}}),[p,h,g,C,B,M]);const Q=S(X.current,s);return b.createElement(v,{...w,children:e,className:t,id:B,style:{...Q,...y},[Te.groupId]:E,[Te.panel]:"",[Te.panelCollapsible]:r||void 0,[Te.panelId]:B,[Te.panelSize]:parseFloat(""+Q.flexGrow).toFixed(1)})}const wi=b.forwardRef((e,t)=>b.createElement(Fy,{...e,forwardedRef:t}));Fy.displayName="Panel";wi.displayName="forwardRef(Panel)";let Uu=null,Aa=-1,kn=null;function l1(e,t){if(t){const n=(t&Hy)!==0,r=(t&qy)!==0,s=(t&Qy)!==0,i=(t&Ky)!==0;if(n)return s?"se-resize":i?"ne-resize":"e-resize";if(r)return s?"sw-resize":i?"nw-resize":"w-resize";if(s)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function u1(){kn!==null&&(document.head.removeChild(kn),Uu=null,kn=null,Aa=-1)}function Sl(e,t){var n,r;const s=l1(e,t);if(Uu!==s){if(Uu=s,kn===null&&(kn=document.createElement("style"),document.head.appendChild(kn)),Aa>=0){var i;(i=kn.sheet)===null||i===void 0||i.removeRule(Aa)}Aa=(n=(r=kn.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function Vy(e){return e.type==="keydown"}function By(e){return e.type.startsWith("pointer")}function Uy(e){return e.type.startsWith("mouse")}function $o(e){if(By(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Uy(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function c1(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function d1(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function f1(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:Rm(e),b:Rm(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;re(r,"Stacking order can only be calculated for elements with a common ancestor");const s={a:Am(Lm(n.a)),b:Am(Lm(n.b))};if(s.a===s.b){const i=r.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let o=i.length;for(;o--;){const l=i[o];if(l===a.a)return 1;if(l===a.b)return-1}}return Math.sign(s.a-s.b)}const m1=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function h1(e){var t;const n=getComputedStyle((t=Wy(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function p1(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||h1(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||m1.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Lm(e){let t=e.length;for(;t--;){const n=e[t];if(re(n,"Missing node"),p1(n))return n}return null}function Am(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Rm(e){const t=[];for(;e;)t.push(e),e=Wy(e);return t}function Wy(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Hy=1,qy=2,Qy=4,Ky=8,g1=c1()==="coarse";let zt=[],ns=!1,rr=new Map,zo=new Map;const Si=new Set;function y1(e,t,n,r,s){var i;const{ownerDocument:a}=t,o={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:s},l=(i=rr.get(a))!==null&&i!==void 0?i:0;return rr.set(a,l+1),Si.add(o),lo(),function(){var d;zo.delete(e),Si.delete(o);const m=(d=rr.get(a))!==null&&d!==void 0?d:1;if(rr.set(a,m-1),lo(),m===1&&rr.delete(a),zt.includes(o)){const f=zt.indexOf(o);f>=0&&zt.splice(f,1),Nd(),s("up",!0,null)}}}function x1(e){const{target:t}=e,{x:n,y:r}=$o(e);ns=!0,Ed({target:t,x:n,y:r}),lo(),zt.length>0&&(uo("down",e),e.preventDefault(),Gy(t)||e.stopImmediatePropagation())}function El(e){const{x:t,y:n}=$o(e);if(ns&&e.buttons===0&&(ns=!1,uo("up",e)),!ns){const{target:r}=e;Ed({target:r,x:t,y:n})}uo("move",e),Nd(),zt.length>0&&e.preventDefault()}function Nl(e){const{target:t}=e,{x:n,y:r}=$o(e);zo.clear(),ns=!1,zt.length>0&&(e.preventDefault(),Gy(t)||e.stopImmediatePropagation()),uo("up",e),Ed({target:t,x:n,y:r}),Nd(),lo()}function Gy(e){let t=e;for(;t;){if(t.hasAttribute(Te.resizeHandle))return!0;t=t.parentElement}return!1}function Ed({target:e,x:t,y:n}){zt.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Si.forEach(s=>{const{element:i,hitAreaMargins:a}=s,o=i.getBoundingClientRect(),{bottom:l,left:c,right:d,top:m}=o,f=g1?a.coarse:a.fine;if(t>=c-f&&t<=d+f&&n>=m-f&&n<=l+f){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&f1(r,i)>0){let v=r,w=!1;for(;v&&!v.contains(i);){if(d1(v.getBoundingClientRect(),o)){w=!0;break}v=v.parentElement}if(w)return}zt.push(s)}})}function Cl(e,t){zo.set(e,t)}function Nd(){let e=!1,t=!1;zt.forEach(r=>{const{direction:s}=r;s==="horizontal"?e=!0:t=!0});let n=0;zo.forEach(r=>{n|=r}),e&&t?Sl("intersection",n):e?Sl("horizontal",n):t?Sl("vertical",n):u1()}let kl=new AbortController;function lo(){kl.abort(),kl=new AbortController;const e={capture:!0,signal:kl.signal};Si.size&&(ns?(zt.length>0&&rr.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",Nl,e),r.addEventListener("pointerleave",El,e),r.addEventListener("pointermove",El,e))}),window.addEventListener("pointerup",Nl,e),window.addEventListener("pointercancel",Nl,e)):rr.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",x1,e),r.addEventListener("pointermove",El,e))}))}function uo(e,t){Si.forEach(n=>{const{setResizeHandlerState:r}=n,s=zt.includes(n);r(e,s,t)})}function v1(){const[e,t]=b.useState(0);return b.useCallback(()=>t(n=>n+1),[])}function re(e,t){if(!e)throw console.error(t),Error(t)}function br(e,t,n=wd){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function rn(e,t,n=wd){return br(e,t,n)===0}function ht(e,t,n){return br(e,t,n)===0}function b1(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const s=e[r],i=t[r];if(!ht(s,i,n))return!1}return!0}function Ur({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];re(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:s=0,collapsible:i,maxSize:a=100,minSize:o=0}=r;if(br(n,o)<0)if(i){const l=(s+o)/2;br(n,l)<0?n=s:n=o}else n=o;return n=Math.min(a,n),n=parseFloat(n.toFixed(wd)),n}function zs({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:s,trigger:i}){if(ht(e,0))return t;const a=[...t],[o,l]=r;re(o!=null,"Invalid first pivot index"),re(l!=null,"Invalid second pivot index");let c=0;if(i==="keyboard"){{const m=e<0?l:o,f=n[m];re(f,`Panel constraints not found for index ${m}`);const{collapsedSize:y=0,collapsible:v,minSize:w=0}=f;if(v){const x=t[m];if(re(x!=null,`Previous layout not found for panel index ${m}`),ht(x,y)){const p=w-x;br(p,Math.abs(e))>0&&(e=e<0?0-p:p)}}}{const m=e<0?o:l,f=n[m];re(f,`No panel constraints found for index ${m}`);const{collapsedSize:y=0,collapsible:v,minSize:w=0}=f;if(v){const x=t[m];if(re(x!=null,`Previous layout not found for panel index ${m}`),ht(x,w)){const p=x-y;br(p,Math.abs(e))>0&&(e=e<0?0-p:p)}}}}{const m=e<0?1:-1;let f=e<0?l:o,y=0;for(;;){const w=t[f];re(w!=null,`Previous layout not found for panel index ${f}`);const p=Ur({panelConstraints:n,panelIndex:f,size:100})-w;if(y+=p,f+=m,f<0||f>=n.length)break}const v=Math.min(Math.abs(e),Math.abs(y));e=e<0?0-v:v}{let f=e<0?o:l;for(;f>=0&&f<n.length;){const y=Math.abs(e)-Math.abs(c),v=t[f];re(v!=null,`Previous layout not found for panel index ${f}`);const w=v-y,x=Ur({panelConstraints:n,panelIndex:f,size:w});if(!ht(v,x)&&(c+=v-x,a[f]=x,c.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?f--:f++}}if(b1(s,a))return s;{const m=e<0?l:o,f=t[m];re(f!=null,`Previous layout not found for panel index ${m}`);const y=f+c,v=Ur({panelConstraints:n,panelIndex:m,size:y});if(a[m]=v,!ht(v,y)){let w=y-v,p=e<0?l:o;for(;p>=0&&p<n.length;){const h=a[p];re(h!=null,`Previous layout not found for panel index ${p}`);const g=h+w,S=Ur({panelConstraints:n,panelIndex:p,size:g});if(ht(h,S)||(w-=S-h,a[p]=S),ht(w,0))break;e>0?p--:p++}}}const d=a.reduce((m,f)=>f+m,0);return ht(d,100)?a:s}function w1({layout:e,panelsArray:t,pivotIndices:n}){let r=0,s=100,i=0,a=0;const o=n[0];re(o!=null,"No pivot index found"),t.forEach((m,f)=>{const{constraints:y}=m,{maxSize:v=100,minSize:w=0}=y;f===o?(r=w,s=v):(i+=w,a+=v)});const l=Math.min(s,100-i),c=Math.max(r,100-a),d=e[o];return{valueMax:l,valueMin:c,valueNow:d}}function Ei(e,t=document){return Array.from(t.querySelectorAll(`[${Te.resizeHandleId}][data-panel-group-id="${e}"]`))}function Yy(e,t,n=document){const s=Ei(e,n).findIndex(i=>i.getAttribute(Te.resizeHandleId)===t);return s!=null?s:null}function Xy(e,t,n){const r=Yy(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Jy(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Fo(e,t=document){const n=t.querySelector(`[${Te.resizeHandleId}="${e}"]`);return n||null}function S1(e,t,n,r=document){var s,i,a,o;const l=Fo(t,r),c=Ei(e,r),d=l?c.indexOf(l):-1,m=(s=(i=n[d])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null,f=(a=(o=n[d+1])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null;return[m,f]}function E1({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:s,panelGroupElement:i,setLayout:a}){b.useRef({didWarnAboutMissingResizeHandle:!1}),fr(()=>{if(!i)return;const o=Ei(n,i);for(let l=0;l<s.length-1;l++){const{valueMax:c,valueMin:d,valueNow:m}=w1({layout:r,panelsArray:s,pivotIndices:[l,l+1]}),f=o[l];if(f!=null){const y=s[l];re(y,`No panel data found for index "${l}"`),f.setAttribute("aria-controls",y.id),f.setAttribute("aria-valuemax",""+Math.round(c)),f.setAttribute("aria-valuemin",""+Math.round(d)),f.setAttribute("aria-valuenow",m!=null?""+Math.round(m):"")}}return()=>{o.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,s,i]),b.useEffect(()=>{if(!i)return;const o=t.current;re(o,"Eager values not found");const{panelDataArray:l}=o,c=Jy(n,i);re(c!=null,`No group found for id "${n}"`);const d=Ei(n,i);re(d,`No resize handles found for group id "${n}"`);const m=d.map(f=>{const y=f.getAttribute(Te.resizeHandleId);re(y,"Resize handle element has no handle id attribute");const[v,w]=S1(n,y,l,i);if(v==null||w==null)return()=>{};const x=p=>{if(!p.defaultPrevented)switch(p.key){case"Enter":{p.preventDefault();const h=l.findIndex(g=>g.id===v);if(h>=0){const g=l[h];re(g,`No panel data found for index ${h}`);const S=r[h],{collapsedSize:E=0,collapsible:C,minSize:k=0}=g.constraints;if(S!=null&&C){const N=zs({delta:ht(S,E)?k-E:E-S,initialLayout:r,panelConstraints:l.map(M=>M.constraints),pivotIndices:Xy(n,y,i),prevLayout:r,trigger:"keyboard"});r!==N&&a(N)}}break}}};return f.addEventListener("keydown",x),()=>{f.removeEventListener("keydown",x)}});return()=>{m.forEach(f=>f())}},[i,e,t,n,r,s,a])}function Mm(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Zy(e,t){const n=e==="horizontal",{x:r,y:s}=$o(t);return n?r:s}function N1(e,t,n,r,s){const i=n==="horizontal",a=Fo(t,s);re(a,`No resize handle element found for id "${t}"`);const o=a.getAttribute(Te.groupId);re(o,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=Zy(n,e),d=Jy(o,s);re(d,`No group element found for id "${o}"`);const m=d.getBoundingClientRect(),f=i?m.width:m.height;return(c-l)/f*100}function C1(e,t,n,r,s,i){if(Vy(e)){const a=n==="horizontal";let o=0;e.shiftKey?o=100:s!=null?o=s:o=10;let l=0;switch(e.key){case"ArrowDown":l=a?0:o;break;case"ArrowLeft":l=a?-o:0;break;case"ArrowRight":l=a?o:0;break;case"ArrowUp":l=a?0:-o;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:N1(e,t,n,r,i)}function k1({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let r=0,s=100;for(let i=0;i<e.length;i++){const a=n[i];re(a,`Panel constraints not found for index ${i}`);const{defaultSize:o}=a;o!=null&&(r++,t[i]=o,s-=o)}for(let i=0;i<e.length;i++){const a=n[i];re(a,`Panel constraints not found for index ${i}`);const{defaultSize:o}=a;if(o!=null)continue;const l=e.length-r,c=s/l;r++,t[i]=c,s-=c}return t}function jr(e,t,n){t.forEach((r,s)=>{const i=e[s];re(i,`Panel data not found for index ${s}`);const{callbacks:a,constraints:o,id:l}=i,{collapsedSize:c=0,collapsible:d}=o,m=n[l];if(m==null||r!==m){n[l]=r;const{onCollapse:f,onExpand:y,onResize:v}=a;v&&v(r,m),d&&(f||y)&&(y&&(m==null||rn(m,c))&&!rn(r,c)&&y(),f&&(m==null||!rn(m,c))&&rn(r,c)&&f())}})}function oa(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function T1({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:s,precision:i=3}){const a=n[s];let o;return a==null?o=e!=null?e.toPrecision(i):"1":r.length===1?o="1":o=a.toPrecision(i),{flexBasis:0,flexGrow:o,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function j1(e,t=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...s)},t)}}function Pm(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function ex(e){return`react-resizable-panels:${e}`}function tx(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:s,order:i}=t;return s?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function nx(e,t){try{const n=ex(e),r=t.getItem(n);if(r){const s=JSON.parse(r);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function L1(e,t,n){var r,s;const i=(r=nx(e,n))!==null&&r!==void 0?r:{},a=tx(t);return(s=i[a])!==null&&s!==void 0?s:null}function A1(e,t,n,r,s){var i;const a=ex(e),o=tx(t),l=(i=nx(e,s))!==null&&i!==void 0?i:{};l[o]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(a,JSON.stringify(l))}catch(c){console.error(c)}}function _m({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((i,a)=>i+a,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!ht(r,100)&&n.length>0)for(let i=0;i<t.length;i++){const a=n[i];re(a!=null,`No layout data found for index ${i}`);const o=100/r*a;n[i]=o}let s=0;for(let i=0;i<t.length;i++){const a=n[i];re(a!=null,`No layout data found for index ${i}`);const o=Ur({panelConstraints:t,panelIndex:i,size:a});a!=o&&(s+=a-o,n[i]=o)}if(!ht(s,0))for(let i=0;i<t.length;i++){const a=n[i];re(a!=null,`No layout data found for index ${i}`);const o=a+s,l=Ur({panelConstraints:t,panelIndex:i,size:o});if(a!==l&&(s-=l-a,n[i]=l,ht(s,0)))break}return n}const R1=100,Fs={getItem:e=>(Pm(Fs),Fs.getItem(e)),setItem:(e,t)=>{Pm(Fs),Fs.setItem(e,t)}},Im={};function rx({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:s,id:i=null,onLayout:a=null,keyboardResizeBy:o=null,storage:l=Fs,style:c,tagName:d="div",...m}){const f=Sd(i),y=b.useRef(null),[v,w]=b.useState(null),[x,p]=b.useState([]),h=v1(),g=b.useRef({}),S=b.useRef(new Map),E=b.useRef(0),C=b.useRef({autoSaveId:e,direction:r,dragState:v,id:f,keyboardResizeBy:o,onLayout:a,storage:l}),k=b.useRef({layout:x,panelDataArray:[],panelDataArrayChanged:!1});b.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),b.useImperativeHandle(s,()=>({getId:()=>C.current.id,getLayout:()=>{const{layout:A}=k.current;return A},setLayout:A=>{const{onLayout:D}=C.current,{layout:V,panelDataArray:K}=k.current,H=_m({layout:A,panelConstraints:K.map(ee=>ee.constraints)});Mm(V,H)||(p(H),k.current.layout=H,D&&D(H),jr(K,H,g.current))}}),[]),fr(()=>{C.current.autoSaveId=e,C.current.direction=r,C.current.dragState=v,C.current.id=f,C.current.onLayout=a,C.current.storage=l}),E1({committedValuesRef:C,eagerValuesRef:k,groupId:f,layout:x,panelDataArray:k.current.panelDataArray,setLayout:p,panelGroupElement:y.current}),b.useEffect(()=>{const{panelDataArray:A}=k.current;if(e){if(x.length===0||x.length!==A.length)return;let D=Im[e];D==null&&(D=j1(A1,R1),Im[e]=D);const V=[...A],K=new Map(S.current);D(e,V,K,x,l)}},[e,x,l]),b.useEffect(()=>{});const N=b.useCallback(A=>{const{onLayout:D}=C.current,{layout:V,panelDataArray:K}=k.current;if(A.constraints.collapsible){const H=K.map(Ae=>Ae.constraints),{collapsedSize:ee=0,panelSize:ae,pivotIndices:ce}=Xn(K,A,V);if(re(ae!=null,`Panel size not found for panel "${A.id}"`),!rn(ae,ee)){S.current.set(A.id,ae);const Ve=Ar(K,A)===K.length-1?ae-ee:ee-ae,fe=zs({delta:Ve,initialLayout:V,panelConstraints:H,pivotIndices:ce,prevLayout:V,trigger:"imperative-api"});oa(V,fe)||(p(fe),k.current.layout=fe,D&&D(fe),jr(K,fe,g.current))}}},[]),M=b.useCallback((A,D)=>{const{onLayout:V}=C.current,{layout:K,panelDataArray:H}=k.current;if(A.constraints.collapsible){const ee=H.map(at=>at.constraints),{collapsedSize:ae=0,panelSize:ce=0,minSize:Ae=0,pivotIndices:Ve}=Xn(H,A,K),fe=D!=null?D:Ae;if(rn(ce,ae)){const at=S.current.get(A.id),Kn=at!=null&&at>=fe?at:fe,bs=Ar(H,A)===H.length-1?ce-Kn:Kn-ce,qe=zs({delta:bs,initialLayout:K,panelConstraints:ee,pivotIndices:Ve,prevLayout:K,trigger:"imperative-api"});oa(K,qe)||(p(qe),k.current.layout=qe,V&&V(qe),jr(H,qe,g.current))}}},[]),T=b.useCallback(A=>{const{layout:D,panelDataArray:V}=k.current,{panelSize:K}=Xn(V,A,D);return re(K!=null,`Panel size not found for panel "${A.id}"`),K},[]),B=b.useCallback((A,D)=>{const{panelDataArray:V}=k.current,K=Ar(V,A);return T1({defaultSize:D,dragState:v,layout:x,panelData:V,panelIndex:K})},[v,x]),X=b.useCallback(A=>{const{layout:D,panelDataArray:V}=k.current,{collapsedSize:K=0,collapsible:H,panelSize:ee}=Xn(V,A,D);return re(ee!=null,`Panel size not found for panel "${A.id}"`),H===!0&&rn(ee,K)},[]),Q=b.useCallback(A=>{const{layout:D,panelDataArray:V}=k.current,{collapsedSize:K=0,collapsible:H,panelSize:ee}=Xn(V,A,D);return re(ee!=null,`Panel size not found for panel "${A.id}"`),!H||br(ee,K)>0},[]),L=b.useCallback(A=>{const{panelDataArray:D}=k.current;D.push(A),D.sort((V,K)=>{const H=V.order,ee=K.order;return H==null&&ee==null?0:H==null?-1:ee==null?1:H-ee}),k.current.panelDataArrayChanged=!0,h()},[h]);fr(()=>{if(k.current.panelDataArrayChanged){k.current.panelDataArrayChanged=!1;const{autoSaveId:A,onLayout:D,storage:V}=C.current,{layout:K,panelDataArray:H}=k.current;let ee=null;if(A){const ce=L1(A,H,V);ce&&(S.current=new Map(Object.entries(ce.expandToSizes)),ee=ce.layout)}ee==null&&(ee=k1({panelDataArray:H}));const ae=_m({layout:ee,panelConstraints:H.map(ce=>ce.constraints)});Mm(K,ae)||(p(ae),k.current.layout=ae,D&&D(ae),jr(H,ae,g.current))}}),fr(()=>{const A=k.current;return()=>{A.layout=[]}},[]);const j=b.useCallback(A=>{let D=!1;const V=y.current;return V&&window.getComputedStyle(V,null).getPropertyValue("direction")==="rtl"&&(D=!0),function(H){H.preventDefault();const ee=y.current;if(!ee)return()=>null;const{direction:ae,dragState:ce,id:Ae,keyboardResizeBy:Ve,onLayout:fe}=C.current,{layout:at,panelDataArray:Kn}=k.current,{initialLayout:Gn}=ce!=null?ce:{},bs=Xy(Ae,A,ee);let qe=C1(H,A,ae,ce,Ve,ee);const Ui=ae==="horizontal";Ui&&D&&(qe=-qe);const Ko=Kn.map(Ss=>Ss.constraints),Yn=zs({delta:qe,initialLayout:Gn!=null?Gn:at,panelConstraints:Ko,pivotIndices:bs,prevLayout:at,trigger:Vy(H)?"keyboard":"mouse-or-touch"}),ws=!oa(at,Yn);(By(H)||Uy(H))&&E.current!=qe&&(E.current=qe,!ws&&qe!==0?Ui?Cl(A,qe<0?Hy:qy):Cl(A,qe<0?Qy:Ky):Cl(A,0)),ws&&(p(Yn),k.current.layout=Yn,fe&&fe(Yn),jr(Kn,Yn,g.current))}},[]),P=b.useCallback((A,D)=>{const{onLayout:V}=C.current,{layout:K,panelDataArray:H}=k.current,ee=H.map(at=>at.constraints),{panelSize:ae,pivotIndices:ce}=Xn(H,A,K);re(ae!=null,`Panel size not found for panel "${A.id}"`);const Ve=Ar(H,A)===H.length-1?ae-D:D-ae,fe=zs({delta:Ve,initialLayout:K,panelConstraints:ee,pivotIndices:ce,prevLayout:K,trigger:"imperative-api"});oa(K,fe)||(p(fe),k.current.layout=fe,V&&V(fe),jr(H,fe,g.current))},[]),J=b.useCallback((A,D)=>{const{layout:V,panelDataArray:K}=k.current,{collapsedSize:H=0,collapsible:ee}=D,{collapsedSize:ae=0,collapsible:ce,maxSize:Ae=100,minSize:Ve=0}=A.constraints,{panelSize:fe}=Xn(K,A,V);fe!=null&&(ee&&ce&&rn(fe,H)?rn(H,ae)||P(A,ae):fe<Ve?P(A,Ve):fe>Ae&&P(A,Ae))},[P]),R=b.useCallback((A,D)=>{const{direction:V}=C.current,{layout:K}=k.current;if(!y.current)return;const H=Fo(A,y.current);re(H,`Drag handle element not found for id "${A}"`);const ee=Zy(V,D);w({dragHandleId:A,dragHandleRect:H.getBoundingClientRect(),initialCursorPosition:ee,initialLayout:K})},[]),O=b.useCallback(()=>{w(null)},[]),_=b.useCallback(A=>{const{panelDataArray:D}=k.current,V=Ar(D,A);V>=0&&(D.splice(V,1),delete g.current[A.id],k.current.panelDataArrayChanged=!0,h())},[h]),z=b.useMemo(()=>({collapsePanel:N,direction:r,dragState:v,expandPanel:M,getPanelSize:T,getPanelStyle:B,groupId:f,isPanelCollapsed:X,isPanelExpanded:Q,reevaluatePanelConstraints:J,registerPanel:L,registerResizeHandle:j,resizePanel:P,startDragging:R,stopDragging:O,unregisterPanel:_,panelGroupElement:y.current}),[N,v,r,M,T,B,f,X,Q,J,L,j,P,R,O,_]),U={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return b.createElement(Do.Provider,{value:z},b.createElement(d,{...m,children:t,className:n,id:i,ref:y,style:{...U,...c},[Te.group]:"",[Te.groupDirection]:r,[Te.groupId]:f}))}const Cd=b.forwardRef((e,t)=>b.createElement(rx,{...e,forwardedRef:t}));rx.displayName="PanelGroup";Cd.displayName="forwardRef(PanelGroup)";function Ar(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Xn(e,t,n){const r=Ar(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],a=n[r];return{...t.constraints,panelSize:a,pivotIndices:i}}function M1({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){b.useEffect(()=>{if(e||n==null||r==null)return;const s=Fo(t,r);if(s==null)return;const i=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const o=s.getAttribute(Te.groupId);re(o,`No group element found for id "${o}"`);const l=Ei(o,r),c=Yy(o,t,r);re(c!==null,`No resize element found for id "${t}"`);const d=a.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[d].focus();break}}};return s.addEventListener("keydown",i),()=>{s.removeEventListener("keydown",i)}},[r,e,t,n])}function kd({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:s,onBlur:i,onClick:a,onDragging:o,onFocus:l,onPointerDown:c,onPointerUp:d,style:m={},tabIndex:f=0,tagName:y="div",...v}){var w,x;const p=b.useRef(null),h=b.useRef({onClick:a,onDragging:o,onPointerDown:c,onPointerUp:d});b.useEffect(()=>{h.current.onClick=a,h.current.onDragging=o,h.current.onPointerDown=c,h.current.onPointerUp=d});const g=b.useContext(Do);if(g===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:S,groupId:E,registerResizeHandle:C,startDragging:k,stopDragging:N,panelGroupElement:M}=g,T=Sd(s),[B,X]=b.useState("inactive"),[Q,L]=b.useState(!1),[j,P]=b.useState(null),J=b.useRef({state:B});fr(()=>{J.current.state=B}),b.useEffect(()=>{if(n)P(null);else{const z=C(T);P(()=>z)}},[n,T,C]);const R=(w=r==null?void 0:r.coarse)!==null&&w!==void 0?w:15,O=(x=r==null?void 0:r.fine)!==null&&x!==void 0?x:5;b.useEffect(()=>{if(n||j==null)return;const z=p.current;re(z,"Element ref not attached");let U=!1;return y1(T,z,S,{coarse:R,fine:O},(D,V,K)=>{if(!V){X("inactive");return}switch(D){case"down":{X("drag"),U=!1,re(K,'Expected event to be defined for "down" action'),k(T,K);const{onDragging:H,onPointerDown:ee}=h.current;H==null||H(!0),ee==null||ee();break}case"move":{const{state:H}=J.current;U=!0,H!=="drag"&&X("hover"),re(K,'Expected event to be defined for "move" action'),j(K);break}case"up":{X("hover"),N();const{onClick:H,onDragging:ee,onPointerUp:ae}=h.current;ee==null||ee(!1),ae==null||ae(),U||H==null||H();break}}})},[R,S,n,O,C,T,j,k,N]),M1({disabled:n,handleId:T,resizeHandler:j,panelGroupElement:M});const _={touchAction:"none",userSelect:"none"};return b.createElement(y,{...v,children:e,className:t,id:s,onBlur:()=>{L(!1),i==null||i()},onFocus:()=>{L(!0),l==null||l()},ref:p,role:"separator",style:{..._,...m},tabIndex:f,[Te.groupDirection]:S,[Te.groupId]:E,[Te.resizeHandle]:"",[Te.resizeHandleActive]:B==="drag"?"pointer":Q?"keyboard":void 0,[Te.resizeHandleEnabled]:!n,[Te.resizeHandleId]:T,[Te.resizeHandleState]:B})}kd.displayName="PanelResizeHandle";const Td=b.createContext({});function jd(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const sx=typeof window<"u",ix=sx?b.useLayoutEffect:b.useEffect,Vo=b.createContext(null);function Ld(e,t){e.indexOf(t)===-1&&e.push(t)}function Ad(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Jt=(e,t,n)=>n>t?t:n<e?e:n;let Rd=()=>{};const pn={},ax=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ox(e){return typeof e=="object"&&e!==null}const lx=e=>/^0[^.\s]+$/u.test(e);function Md(e){let t;return()=>(t===void 0&&(t=e()),t)}const jt=e=>e,P1=(e,t)=>n=>t(e(n)),$i=(...e)=>e.reduce(P1),Ni=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Pd{constructor(){this.subscriptions=[]}add(t){return Ld(this.subscriptions,t),()=>Ad(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cn=e=>e*1e3,kt=e=>e/1e3;function ux(e,t){return t?e*(1e3/t):0}const cx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_1=1e-7,I1=12;function O1(e,t,n,r,s){let i,a,o=0;do a=t+(n-t)/2,i=cx(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>_1&&++o<I1);return a}function zi(e,t,n,r){if(e===t&&n===r)return jt;const s=i=>O1(i,0,1,e,n);return i=>i===0||i===1?i:cx(s(i),t,r)}const dx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fx=e=>t=>1-e(1-t),mx=zi(.33,1.53,.69,.99),_d=fx(mx),hx=dx(_d),px=e=>(e*=2)<1?.5*_d(e):.5*(2-Math.pow(2,-10*(e-1))),Id=e=>1-Math.sin(Math.acos(e)),gx=fx(Id),yx=dx(Id),D1=zi(.42,0,1,1),$1=zi(0,0,.58,1),xx=zi(.42,0,.58,1),z1=e=>Array.isArray(e)&&typeof e[0]!="number",vx=e=>Array.isArray(e)&&typeof e[0]=="number",F1={linear:jt,easeIn:D1,easeInOut:xx,easeOut:$1,circIn:Id,circInOut:yx,circOut:gx,backIn:_d,backInOut:hx,backOut:mx,anticipate:px},V1=e=>typeof e=="string",Om=e=>{if(vx(e)){Rd(e.length===4);const[t,n,r,s]=e;return zi(t,n,r,s)}else if(V1(e))return F1[e];return e},la=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function B1(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,m=!1,f=!1)=>{const v=f&&s?n:r;return m&&a.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const U1=40;function bx(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=la.reduce((g,S)=>(g[S]=B1(i),g),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:m,preRender:f,render:y,postRender:v}=a,w=()=>{const g=pn.useManualTiming?s.timestamp:performance.now();n=!1,pn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,U1),1)),s.timestamp=g,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),d.process(s),m.process(s),f.process(s),y.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(w))},x=()=>{n=!0,r=!0,s.isProcessing||e(w)};return{schedule:la.reduce((g,S)=>{const E=a[S];return g[S]=(C,k=!1,N=!1)=>(n||x(),E.schedule(C,k,N)),g},{}),cancel:g=>{for(let S=0;S<la.length;S++)a[la[S]].cancel(g)},state:s,steps:a}}const{schedule:ye,cancel:Vn,state:Ue,steps:Tl}=bx(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0);let Ra;function W1(){Ra=void 0}const et={now:()=>(Ra===void 0&&et.set(Ue.isProcessing||pn.useManualTiming?Ue.timestamp:performance.now()),Ra),set:e=>{Ra=e,queueMicrotask(W1)}},wx=e=>t=>typeof t=="string"&&t.startsWith(e),Sx=wx("--"),H1=wx("var(--"),Od=e=>H1(e)?q1.test(e.split("/*")[0].trim()):!1,q1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Dm(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ys={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ci={...ys,transform:e=>Jt(0,1,e)},ua={...ys,default:1},Zs=e=>Math.round(e*1e5)/1e5,Dd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q1(e){return e==null}const K1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$d=(e,t)=>n=>!!(typeof n=="string"&&K1.test(n)&&n.startsWith(e)||t&&!Q1(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ex=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(Dd);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},G1=e=>Jt(0,255,e),jl={...ys,transform:e=>Math.round(G1(e))},lr={test:$d("rgb","red"),parse:Ex("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+jl.transform(e)+", "+jl.transform(t)+", "+jl.transform(n)+", "+Zs(Ci.transform(r))+")"};function Y1(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Wu={test:$d("#"),parse:Y1,transform:lr.transform},Fi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wn=Fi("deg"),Xt=Fi("%"),q=Fi("px"),X1=Fi("vh"),J1=Fi("vw"),$m={...Xt,parse:e=>Xt.parse(e)/100,transform:e=>Xt.transform(e*100)},Wr={test:$d("hsl","hue"),parse:Ex("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Xt.transform(Zs(t))+", "+Xt.transform(Zs(n))+", "+Zs(Ci.transform(r))+")"},Me={test:e=>lr.test(e)||Wu.test(e)||Wr.test(e),parse:e=>lr.test(e)?lr.parse(e):Wr.test(e)?Wr.parse(e):Wu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?lr.transform(e):Wr.transform(e),getAnimatableNone:e=>{const t=Me.parse(e);return t.alpha=0,Me.transform(t)}},Z1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eS(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Dd))==null?void 0:t.length)||0)+(((n=e.match(Z1))==null?void 0:n.length)||0)>0}const Nx="number",Cx="color",tS="var",nS="var(",zm="${}",rS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ki(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(rS,l=>(Me.test(l)?(r.color.push(i),s.push(Cx),n.push(Me.parse(l))):l.startsWith(nS)?(r.var.push(i),s.push(tS),n.push(l)):(r.number.push(i),s.push(Nx),n.push(parseFloat(l))),++i,zm)).split(zm);return{values:n,split:o,indexes:r,types:s}}function kx(e){return ki(e).values}function Tx(e){const{split:t,types:n}=ki(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const o=n[a];o===Nx?i+=Zs(s[a]):o===Cx?i+=Me.transform(s[a]):i+=s[a]}return i}}const sS=e=>typeof e=="number"?0:Me.test(e)?Me.getAnimatableNone(e):e;function iS(e){const t=kx(e);return Tx(e)(t.map(sS))}const Bn={test:eS,parse:kx,createTransformer:Tx,getAnimatableNone:iS};function Ll(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function aS({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;s=Ll(l,o,e+1/3),i=Ll(l,o,e),a=Ll(l,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function co(e,t){return n=>n>0?t:e}const Se=(e,t,n)=>e+(t-e)*n,Al=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},oS=[Wu,lr,Wr],lS=e=>oS.find(t=>t.test(e));function Fm(e){const t=lS(e);if(!t)return!1;let n=t.parse(e);return t===Wr&&(n=aS(n)),n}const Vm=(e,t)=>{const n=Fm(e),r=Fm(t);if(!n||!r)return co(e,t);const s={...n};return i=>(s.red=Al(n.red,r.red,i),s.green=Al(n.green,r.green,i),s.blue=Al(n.blue,r.blue,i),s.alpha=Se(n.alpha,r.alpha,i),lr.transform(s))},Hu=new Set(["none","hidden"]);function uS(e,t){return Hu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function cS(e,t){return n=>Se(e,t,n)}function zd(e){return typeof e=="number"?cS:typeof e=="string"?Od(e)?co:Me.test(e)?Vm:mS:Array.isArray(e)?jx:typeof e=="object"?Me.test(e)?Vm:dS:co}function jx(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>zd(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function dS(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=zd(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function fS(e,t){var s;const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],l=(s=e.values[o])!=null?s:0;n[i]=l,r[a]++}return n}const mS=(e,t)=>{const n=Bn.createTransformer(t),r=ki(e),s=ki(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Hu.has(e)&&!s.values.length||Hu.has(t)&&!r.values.length?uS(e,t):$i(jx(fS(r,s),s.values),n):co(e,t)};function Lx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Se(e,t,n):zd(e)(e,t)}const hS=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ye.update(t,n),stop:()=>Vn(t),now:()=>Ue.isProcessing?Ue.timestamp:et.now()}},Ax=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fo=2e4;function Fd(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<fo;)t+=n,r=e.next(t);return t>=fo?1/0:t}function pS(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Fd(r),fo);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:kt(s)}}const gS=5;function Rx(e,t,n){const r=Math.max(t-gS,0);return ux(n-e(r),t-r)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rl=.001;function yS({duration:e=Ce.duration,bounce:t=Ce.bounce,velocity:n=Ce.velocity,mass:r=Ce.mass}){let s,i,a=1-t;a=Jt(Ce.minDamping,Ce.maxDamping,a),e=Jt(Ce.minDuration,Ce.maxDuration,kt(e)),a<1?(s=c=>{const d=c*a,m=d*e,f=d-n,y=qu(c,a),v=Math.exp(-m);return Rl-f/y*v},i=c=>{const m=c*a*e,f=m*n+n,y=Math.pow(a,2)*Math.pow(c,2)*e,v=Math.exp(-m),w=qu(Math.pow(c,2),a);return(-s(c)+Rl>0?-1:1)*((f-y)*v)/w}):(s=c=>{const d=Math.exp(-c*e),m=(c-n)*e+1;return-Rl+d*m},i=c=>{const d=Math.exp(-c*e),m=(n-c)*(e*e);return d*m});const o=5/e,l=vS(s,i,o);if(e=cn(e),isNaN(l))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:e}}}const xS=12;function vS(e,t,n){let r=n;for(let s=1;s<xS;s++)r=r-e(r)/t(r);return r}function qu(e,t){return e*Math.sqrt(1-t*t)}const bS=["duration","bounce"],wS=["stiffness","damping","mass"];function Bm(e,t){return t.some(n=>e[n]!==void 0)}function SS(e){let t={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...e};if(!Bm(e,wS)&&Bm(e,bS))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Jt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ce.mass,stiffness:s,damping:i}}else{const n=yS(e);t={...t,...n,mass:Ce.mass},t.isResolvedFromDuration=!0}return t}function mo(e=Ce.visualDuration,t=Ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:m,velocity:f,isResolvedFromDuration:y}=SS({...n,velocity:-kt(n.velocity||0)}),v=f||0,w=c/(2*Math.sqrt(l*d)),x=a-i,p=kt(Math.sqrt(l/d)),h=Math.abs(x)<5;r||(r=h?Ce.restSpeed.granular:Ce.restSpeed.default),s||(s=h?Ce.restDelta.granular:Ce.restDelta.default);let g;if(w<1){const E=qu(p,w);g=C=>{const k=Math.exp(-w*p*C);return a-k*((v+w*p*x)/E*Math.sin(E*C)+x*Math.cos(E*C))}}else if(w===1)g=E=>a-Math.exp(-p*E)*(x+(v+p*x)*E);else{const E=p*Math.sqrt(w*w-1);g=C=>{const k=Math.exp(-w*p*C),N=Math.min(E*C,300);return a-k*((v+w*p*x)*Math.sinh(N)+E*x*Math.cosh(N))/E}}const S={calculatedDuration:y&&m||null,next:E=>{const C=g(E);if(y)o.done=E>=m;else{let k=E===0?v:0;w<1&&(k=E===0?cn(v):Rx(g,E,C));const N=Math.abs(k)<=r,M=Math.abs(a-C)<=s;o.done=N&&M}return o.value=o.done?a:C,o},toString:()=>{const E=Math.min(Fd(S),fo),C=Ax(k=>S.next(E*k).value,E,30);return E+"ms "+C},toTransition:()=>{}};return S}mo.applyToOptions=e=>{const t=pS(e,100,mo);return e.ease=t.ease,e.duration=cn(t.duration),e.type="keyframes",e};function Qu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const m=e[0],f={done:!1,value:m},y=N=>o!==void 0&&N<o||l!==void 0&&N>l,v=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let w=n*t;const x=m+w,p=a===void 0?x:a(x);p!==x&&(w=p-m);const h=N=>-w*Math.exp(-N/r),g=N=>p+h(N),S=N=>{const M=h(N),T=g(N);f.done=Math.abs(M)<=c,f.value=f.done?p:T};let E,C;const k=N=>{y(f.value)&&(E=N,C=mo({keyframes:[f.value,v(f.value)],velocity:Rx(g,N,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:N=>{let M=!1;return!C&&E===void 0&&(M=!0,S(N),k(N)),E!==void 0&&N>=E?C.next(N-E):(!M&&S(N),f)}}}function ES(e,t,n){const r=[],s=n||pn.mix||Lx,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||jt:t;o=$i(l,o)}r.push(o)}return r}function NS(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Rd(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ES(t,r,s),l=o.length,c=d=>{if(a&&d<e[0])return t[0];let m=0;if(l>1)for(;m<e.length-2&&!(d<e[m+1]);m++);const f=Ni(e[m],e[m+1],d);return o[m](f)};return n?d=>c(Jt(e[0],e[i-1],d)):c}function CS(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ni(0,t,r);e.push(Se(n,1,s))}}function kS(e){const t=[0];return CS(t,e.length-1),t}function TS(e,t){return e.map(n=>n*t)}function jS(e,t){return e.map(()=>t||xx).splice(0,e.length-1)}function ei({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=z1(r)?r.map(Om):Om(r),i={done:!1,value:t[0]},a=TS(n&&n.length===t.length?n:kS(t),e),o=NS(a,t,{ease:Array.isArray(s)?s:jS(t,s)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const LS=e=>e!==null;function Vd(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(LS),o=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const AS={decay:Qu,inertia:Qu,tween:ei,keyframes:ei,spring:mo};function Mx(e){typeof e.type=="string"&&(e.type=AS[e.type])}class Bd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const RS=e=>e/100;class Ud extends Bd{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==et.now()&&this.tick(et.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Mx(t);const{type:n=ei,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:o}=t;const l=n||ei;l!==ei&&typeof o[0]!="number"&&(this.mixKeyframes=$i(RS,Lx(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Fd(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:m,repeatType:f,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),h=this.playbackSpeed>=0?p<0:p>s;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,S=r;if(m){const N=Math.min(this.currentTime,s)/o;let M=Math.floor(N),T=N%1;!T&&N>=1&&(T=1),T===1&&M--,M=Math.min(M,m+1),!!(M%2)&&(f==="reverse"?(T=1-T,y&&(T-=y/o)):f==="mirror"&&(S=a)),g=Jt(0,1,T)*o}const E=h?{done:!1,value:d[0]}:S.next(g);i&&(E.value=i(E.value));let{done:C}=E;!h&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&v!==Qu&&(E.value=Vd(d,this.options,x,this.speed)),w&&w(E.value),k&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return kt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+kt(t)}get time(){return kt(this.currentTime)}set time(t){var n;t=cn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(et.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=kt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=hS,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n!=null?n:r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(et.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function MS(e){var t;for(let n=1;n<e.length;n++)(t=e[n])!=null||(e[n]=e[n-1])}const ur=e=>e*180/Math.PI,Ku=e=>{const t=ur(Math.atan2(e[1],e[0]));return Gu(t)},PS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ku,rotateZ:Ku,skewX:e=>ur(Math.atan(e[1])),skewY:e=>ur(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gu=e=>(e=e%360,e<0&&(e+=360),e),Um=Ku,Wm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Hm=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_S={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wm,scaleY:Hm,scale:e=>(Wm(e)+Hm(e))/2,rotateX:e=>Gu(ur(Math.atan2(e[6],e[5]))),rotateY:e=>Gu(ur(Math.atan2(-e[2],e[0]))),rotateZ:Um,rotate:Um,skewX:e=>ur(Math.atan(e[4])),skewY:e=>ur(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Yu(e){return e.includes("scale")?1:0}function Xu(e,t){if(!e||e==="none")return Yu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=_S,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=PS,s=o}if(!s)return Yu(t);const i=r[t],a=s[1].split(",").map(OS);return typeof i=="function"?i(a):a[i]}const IS=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Xu(n,t)};function OS(e){return parseFloat(e.trim())}const xs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vs=new Set(xs),qm=e=>e===ys||e===q,DS=new Set(["x","y","z"]),$S=xs.filter(e=>!DS.has(e));function zS(e){const t=[];return $S.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ln={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Xu(t,"x"),y:(e,{transform:t})=>Xu(t,"y")};Ln.translateX=Ln.x;Ln.translateY=Ln.y;const mr=new Set;let Ju=!1,Zu=!1,ec=!1;function Px(){if(Zu){const e=Array.from(mr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=zS(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zu=!1,Ju=!1,mr.forEach(e=>e.complete(ec)),mr.clear()}function _x(){mr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zu=!0)})}function FS(){ec=!0,_x(),Px(),ec=!1}class Wd{constructor(t,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(mr.add(this),Ju||(Ju=!0,ye.read(_x),ye.resolveKeyframes(Px))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}MS(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),mr.delete(this)}cancel(){this.state==="scheduled"&&(mr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VS=e=>e.startsWith("--");function BS(e,t,n){VS(t)?e.style.setProperty(t,n):e.style[t]=n}const US=Md(()=>window.ScrollTimeline!==void 0),WS={};function HS(e,t){const n=Md(e);return()=>{var r;return(r=WS[t])!=null?r:n()}}const Ix=HS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Qm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vs([0,.65,.55,1]),circOut:Vs([.55,0,1,.45]),backIn:Vs([.31,.01,.66,-.59]),backOut:Vs([.33,1.53,.69,.99])};function Ox(e,t){if(e)return typeof e=="function"?Ix()?Ax(e,t):"ease-out":vx(e)?Vs(e):Array.isArray(e)?e.map(n=>Ox(n,t)||Qm.easeOut):Qm[e]}function qS(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const m=Ox(o,s);Array.isArray(m)&&(d.easing=m);const f={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(d,f)}function Dx(e){return typeof e=="function"&&"applyToOptions"in e}function QS({type:e,...t}){var n,r;return Dx(e)&&Ix()?e.applyToOptions(t):((n=t.duration)!=null||(t.duration=300),(r=t.ease)!=null||(t.ease="easeOut"),t)}class KS extends Bd{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,Rd(typeof t.type!="string");const c=QS(t);this.animation=qS(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Vd(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):BS(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return kt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+kt(t)}get time(){return kt(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=cn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){var t;return(t=this.manualStartTime)!=null?t:Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&US()?(this.animation.timeline=t,jt):n(this)}}const $x={anticipate:px,backInOut:hx,circInOut:yx};function GS(e){return e in $x}function YS(e){typeof e.ease=="string"&&GS(e.ease)&&(e.ease=$x[e.ease])}const Ml=10;class XS extends KS{constructor(t){YS(t),Mx(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new Ud({...a,autoplay:!1}),l=Math.max(Ml,et.now()-this.startTime),c=Jt(0,Ml,l-Ml);n.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const Km=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bn.test(e)||e==="0")&&!e.startsWith("url("));function JS(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ZS(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=Km(s,t),o=Km(i,t);return!a||!o?!1:JS(e)||(n==="spring"||Dx(n))&&r}function tc(e){e.duration=0,e.type="keyframes"}const eE=new Set(["opacity","clipPath","filter","transform"]),tE=Md(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nE(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return tE()&&n&&eE.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const rE=40;class sE extends Bd{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:d,...m}){var v;super(),this.stop=()=>{var w,x;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=et.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:c,element:d,...m},y=(d==null?void 0:d.KeyframeResolver)||Wd;this.keyframeResolver=new y(o,(w,x,p)=>this.onKeyframesResolved(w,x,f,!p),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){var x,p;this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=et.now(),ZS(t,i,a,o)||((pn.instantAnimations||!l)&&(d==null||d(Vd(t,r,n))),t[0]=t[t.length-1],tc(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>rE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!c&&nE(f),v=(p=(x=f.motionValue)==null?void 0:x.owner)==null?void 0:p.current,w=y?new XS({...f,element:v}):new Ud(f);w.finished.then(()=>{this.notifyFinished()}).catch(jt),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),FS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function zx(e,t,n,r=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),a=e.size,o=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:o-i*r}const iE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function aE(e){const t=iE.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n!=null?n:r}`,s]}function Fx(e,t,n=1){const[r,s]=aE(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return ax(a)?parseFloat(a):a}return Od(s)?Fx(s,t,n+1):s}const oE={type:"spring",stiffness:500,damping:25,restSpeed:10},lE=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),uE={type:"keyframes",duration:.8},cE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dE=(e,{keyframes:t})=>t.length>2?uE:vs.has(e)?e.startsWith("scale")?lE(t[1]):oE:cE,fE=e=>e!==null;function mE(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(fE),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}function Hd(e,t){var n,r;return(r=(n=e==null?void 0:e[t])!=null?n:e==null?void 0:e.default)!=null?r:e}function hE({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const qd=(e,t,n,r={},s,i)=>a=>{const o=Hd(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-cn(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};hE(o)||Object.assign(d,dE(e,d)),d.duration&&(d.duration=cn(d.duration)),d.repeatDelay&&(d.repeatDelay=cn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(tc(d),d.delay===0&&(m=!0)),(pn.instantAnimations||pn.skipAnimations)&&(m=!0,tc(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,m&&!i&&t.get()!==void 0){const f=mE(d.keyframes,o);if(f!==void 0){ye.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new Ud(d):new sE(d)};function Gm(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Qd(e,t,n,r){if(typeof t=="function"){const[s,i]=Gm(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Gm(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function rs(e,t,n){const r=e.getProps();return Qd(r,t,n!==void 0?n:r.custom,e)}const Vx=new Set(["width","height","top","left","right","bottom",...xs]),Ym=30,pE=e=>!isNaN(parseFloat(e));class gE{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=et.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=et.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pE(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Pd);const r=this.events[t].add(n);return t==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=et.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ym)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ym);return ux(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ds(e,t){return new gE(e,t)}const nc=e=>Array.isArray(e);function yE(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ds(n))}function xE(e){return nc(e)?e[e.length-1]||0:e}function vE(e,t){const n=rs(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=xE(i[a]);yE(e,a,o)}}const Xe=e=>!!(e&&e.getVelocity);function bE(e){return!!(Xe(e)&&e.add)}function rc(e,t){const n=e.getValue("willChange");if(bE(n))return n.add(t);if(!n&&pn.WillChange){const r=new pn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Kd(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const wE="framerAppearId",Bx="data-"+Kd(wE);function Ux(e){return e.props[Bx]}function SE({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Wx(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var m;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=t;const l=i==null?void 0:i.reduceMotion;r&&(i=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in o){const y=e.getValue(f,(m=e.latestValues[f])!=null?m:null),v=o[f];if(v===void 0||d&&SE(d,f))continue;const w={delay:n,...Hd(i||{},f)},x=y.get();if(x!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===x&&!w.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const S=Ux(e);if(S){const E=window.MotionHandoffAnimation(S,f,ye);E!==null&&(w.startTime=E,p=!0)}}rc(e,f);const h=l!=null?l:e.shouldReduceMotion;y.start(qd(f,y,v,h&&Vx.has(f)?{type:!1}:w,e,p));const g=y.animation;g&&c.push(g)}return a&&Promise.all(c).then(()=>{ye.update(()=>{a&&vE(e,a)})}),c}function sc(e,t,n={}){var l;const r=rs(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Wx(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:f}=s;return EE(e,t,c,d,m,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,d]=o==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function EE(e,t,n=0,r=0,s=0,i=1,a){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(sc(l,t,{...a,delay:n+(typeof r=="function"?0:r)+zx(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function NE(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>sc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=sc(e,t,n);else{const s=typeof t=="function"?rs(e,t,n.custom):t;r=Promise.all(Wx(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const CE={test:e=>e==="auto",parse:e=>e},Hx=e=>t=>t.test(e),qx=[ys,q,Xt,wn,J1,X1,CE],Xm=e=>qx.find(Hx(e));function kE(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||lx(e):!0}const TE=new Set(["brightness","contrast","saturate","opacity"]);function jE(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Dd)||[];if(!r)return e;const s=n.replace(r,"");let i=TE.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const LE=/\b([a-z-]*)\(.*?\)/gu,ic={...Bn,getAnimatableNone:e=>{const t=e.match(LE);return t?t.map(jE).join(" "):e}},Jm={...ys,transform:Math.round},AE={rotate:wn,rotateX:wn,rotateY:wn,rotateZ:wn,scale:ua,scaleX:ua,scaleY:ua,scaleZ:ua,skew:wn,skewX:wn,skewY:wn,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:Ci,originX:$m,originY:$m,originZ:q},Gd={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,inset:q,insetBlock:q,insetBlockStart:q,insetBlockEnd:q,insetInline:q,insetInlineStart:q,insetInlineEnd:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,paddingBlock:q,paddingBlockStart:q,paddingBlockEnd:q,paddingInline:q,paddingInlineStart:q,paddingInlineEnd:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,marginBlock:q,marginBlockStart:q,marginBlockEnd:q,marginInline:q,marginInlineStart:q,marginInlineEnd:q,fontSize:q,backgroundPositionX:q,backgroundPositionY:q,...AE,zIndex:Jm,fillOpacity:Ci,strokeOpacity:Ci,numOctaves:Jm},RE={...Gd,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:ic,WebkitFilter:ic},Qx=e=>RE[e];function Kx(e,t){let n=Qx(e);return n!==ic&&(n=Bn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ME=new Set(["auto","none","0"]);function PE(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!ME.has(i)&&ki(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Kx(n,s)}class _E extends Wd{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let m=t[d];if(typeof m=="string"&&(m=m.trim(),Od(m))){const f=Fx(m,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Vx.has(r)||t.length!==2)return;const[s,i]=t,a=Xm(s),o=Xm(i),l=Dm(s),c=Dm(i);if(l!==c&&Ln[r]){this.needsMeasurement=!0;return}if(a!==o)if(qm(a)&&qm(o))for(let d=0;d<t.length;d++){const m=t[d];typeof m=="string"&&(t[d]=parseFloat(m))}else Ln[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||kE(t[s]))&&r.push(s);r.length&&PE(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ln[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Ln[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function IE(e,t,n){var r;if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(r=n==null?void 0:n[e])!=null?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(s=>s!=null)}const Gx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ac(e){return ox(e)&&"offsetHeight"in e}const{schedule:Yd}=bx(queueMicrotask,!1),Pt={x:!1,y:!1};function Yx(){return Pt.x||Pt.y}function OE(e){return e==="x"||e==="y"?Pt[e]?null:(Pt[e]=!0,()=>{Pt[e]=!1}):Pt.x||Pt.y?null:(Pt.x=Pt.y=!0,()=>{Pt.x=Pt.y=!1})}function Xx(e,t){const n=IE(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Zm(e){return!(e.pointerType==="touch"||Yx())}function DE(e,t,n={}){const[r,s,i]=Xx(e,n),a=o=>{if(!Zm(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const d=m=>{Zm(m)&&(c(m),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const Jx=(e,t)=>t?e===t?!0:Jx(e,t.parentElement):!1,Xd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$E=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zx(e){return $E.has(e.tagName)||e.isContentEditable===!0}const Ma=new WeakSet;function eh(e){return t=>{t.key==="Enter"&&e(t)}}function Pl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const zE=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=eh(()=>{if(Ma.has(n))return;Pl(n,"down");const s=eh(()=>{Pl(n,"up")}),i=()=>Pl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function th(e){return Xd(e)&&!Yx()}function FE(e,t,n={}){const[r,s,i]=Xx(e,n),a=o=>{const l=o.currentTarget;if(!th(o))return;Ma.add(l);const c=t(l,o),d=(y,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",f),Ma.has(l)&&Ma.delete(l),th(y)&&typeof c=="function"&&c(y,{success:v})},m=y=>{d(y,l===window||l===document||n.useGlobalTarget||Jx(l,y.target))},f=y=>{d(y,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),ac(o)&&(o.addEventListener("focus",c=>zE(c,s)),!Zx(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function ev(e){return ox(e)&&"ownerSVGElement"in e}function VE(e){return ev(e)&&e.tagName==="svg"}const BE=[...qx,Me,Bn],UE=e=>BE.find(Hx(e)),nh=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hr=()=>({x:nh(),y:nh()}),rh=()=>({min:0,max:0}),Oe=()=>({x:rh(),y:rh()}),oc={current:null},tv={current:!1},WE=typeof window<"u";function HE(){if(tv.current=!0,!!WE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oc.current=e.matches;e.addEventListener("change",t),t()}else oc.current=!1}const qE=new WeakMap;function Bo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ti(e){return typeof e=="string"||Array.isArray(e)}const Jd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zd=["initial",...Jd];function Uo(e){return Bo(e.animate)||Zd.some(t=>Ti(e[t]))}function nv(e){return!!(Uo(e)||e.variants)}function QE(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Xe(s))e.addValue(r,s);else if(Xe(i))e.addValue(r,ds(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,ds(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const sh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ho={};function rv(e){ho=e}function KE(){return ho}class GE{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=et.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ye.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Uo(n),this.isVariantNode=nv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in m){const y=m[f];l[f]!==void 0&&Xe(y)&&y.set(l[f])}}mount(t){var n;this.current=t,qE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(tv.current||HE(),this.shouldReduceMotion=oc.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Vn(this.notifyUpdate),Vn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){var n;this.children.add(t),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=vs.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ho){const n=ho[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sh.length;r++){const s=sh[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=QE(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ds(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var s;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!=null?s:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ax(r)||lx(r))?r=parseFloat(r):!UE(r)&&Bn.test(n)&&(r=Kx(t,n)),this.setBaseTarget(t,Xe(r)?r.get():r)),Xe(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Qd(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Xe(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Pd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Yd.render(this.render)}}class sv extends GE{constructor(){super(...arguments),this.KeyframeResolver=_E}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Qn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function iv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function YE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _l(e){return e===void 0||e===1}function lc({scale:e,scaleX:t,scaleY:n}){return!_l(e)||!_l(t)||!_l(n)}function nr(e){return lc(e)||av(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function av(e){return ih(e.x)||ih(e.y)}function ih(e){return e&&e!=="0%"}function po(e,t,n){const r=e-n,s=t*r;return n+s}function ah(e,t,n,r,s){return s!==void 0&&(e=po(e,s,r)),po(e,n,r)+t}function uc(e,t=0,n=1,r,s){e.min=ah(e.min,t,n,r,s),e.max=ah(e.max,t,n,r,s)}function ov(e,{x:t,y:n}){uc(e.x,t.translate,t.scale,t.originPoint),uc(e.y,n.translate,n.scale,n.originPoint)}const oh=.999999999999,lh=1.0000000000001;function JE(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ov(e,a)),r&&nr(i.latestValues)&&Qr(e,i.latestValues))}t.x<lh&&t.x>oh&&(t.x=1),t.y<lh&&t.y>oh&&(t.y=1)}function qr(e,t){e.min=e.min+t,e.max=e.max+t}function uh(e,t,n,r,s=.5){const i=Se(e.min,e.max,s);uc(e,t,n,i,r)}function Qr(e,t){uh(e.x,t.x,t.scaleX,t.scale,t.originX),uh(e.y,t.y,t.scaleY,t.scale,t.originY)}function lv(e,t){return iv(XE(e.getBoundingClientRect(),t))}function ZE(e,t,n){const r=lv(e,n),{scroll:s}=t;return s&&(qr(r.x,s.offset.x),qr(r.y,s.offset.y)),r}const eN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tN=xs.length;function nN(e,t,n){let r="",s=!0;for(let i=0;i<tN;i++){const a=xs[i],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(a.startsWith("scale")?1:0);else{const c=parseFloat(o);l=a.startsWith("scale")?c===1:c===0}if(!l||n){const c=Gx(o,Gd[a]);if(!l){s=!1;const d=eN[a]||a;r+=`${d}(${c}) `}n&&(t[a]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function ef(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const c=t[l];if(vs.has(l)){a=!0;continue}else if(Sx(l)){s[l]=c;continue}else{const d=Gx(c,Gd[l]);l.startsWith("origin")?(o=!0,i[l]=d):r[l]=d}}if(t.transform||(a||n?r.transform=nN(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}function uv(e,{style:t,vars:n},r,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function ch(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ms={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(q.test(e))e=parseFloat(e);else return e;const n=ch(e,t.target.x),r=ch(e,t.target.y);return`${n}% ${r}%`}},rN={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Bn.parse(e);if(s.length>5)return r;const i=Bn.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=l;const c=Se(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),i(s)}},cc={borderRadius:{...Ms,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ms,borderTopRightRadius:Ms,borderBottomLeftRadius:Ms,borderBottomRightRadius:Ms,boxShadow:rN};function cv(e,{layout:t,layoutId:n}){return vs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!cc[e]||e==="opacity")}function tf(e,t,n){var a;const r=e.style,s=t==null?void 0:t.style,i={};if(!r)return i;for(const o in r)(Xe(r[o])||s&&Xe(s[o])||cv(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}function sN(e){return window.getComputedStyle(e)}class iN extends sv{constructor(){super(...arguments),this.type="html",this.renderInstance=uv}readValueFromInstance(t,n){var r;if(vs.has(n))return(r=this.projection)!=null&&r.isProjecting?Yu(n):IS(t,n);{const s=sN(t),i=(Sx(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return lv(t,n)}build(t,n,r){ef(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return tf(t,n,r)}}const aN={offset:"stroke-dashoffset",array:"stroke-dasharray"},oN={offset:"strokeDashoffset",array:"strokeDasharray"};function lN(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?aN:oN;e[i.offset]=`${-r}`,e[i.array]=`${t} ${n}`}const uN=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function dv(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,c,d){var y,v;if(ef(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f}=e;m.transform&&(f.transform=m.transform,delete m.transform),(f.transform||m.transformOrigin)&&(f.transformOrigin=(y=m.transformOrigin)!=null?y:"50% 50%",delete m.transformOrigin),f.transform&&(f.transformBox=(v=d==null?void 0:d.transformBox)!=null?v:"fill-box",delete m.transformBox);for(const w of uN)m[w]!==void 0&&(f[w]=m[w],delete m[w]);t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&lN(m,s,i,a,!1)}const fv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),mv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cN(e,t,n,r){uv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(fv.has(s)?s:Kd(s),t.attrs[s])}function hv(e,t,n){const r=tf(e,t,n);for(const s in e)if(Xe(e[s])||Xe(t[s])){const i=xs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}class dN extends sv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(vs.has(n)){const r=Qx(n);return r&&r.default||0}return n=fv.has(n)?n:Kd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return hv(t,n,r)}build(t,n,r){dv(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){cN(t,n,r,s)}mount(t){this.isSVGTag=mv(t.tagName),super.mount(t)}}const fN=Zd.length;function pv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?pv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<fN;n++){const r=Zd[n],s=e.props[r];(Ti(s)||s===!1)&&(t[r]=s)}return t}function gv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const mN=[...Jd].reverse(),hN=Jd.length;function pN(e){return t=>Promise.all(t.map(({animation:n,options:r})=>NE(e,n,r)))}function gN(e){let t=pN(e),n=dh(),r=!0;const s=l=>(c,d)=>{var f;const m=rs(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(m){const{transition:y,transitionEnd:v,...w}=m;c={...c,...w,...v}}return c};function i(l){t=l(e)}function a(l){const{props:c}=e,d=pv(e.parent)||{},m=[],f=new Set;let y={},v=1/0;for(let x=0;x<hN;x++){const p=mN[x],h=n[p],g=c[p]!==void 0?c[p]:d[p],S=Ti(g),E=p===l?h.isActive:null;E===!1&&(v=x);let C=g===d[p]&&g!==c[p]&&S;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),h.protectedKeys={...y},!h.isActive&&E===null||!g&&!h.prevProp||Bo(g)||typeof g=="boolean")continue;const k=yN(h.prevProp,g);let N=k||p===l&&h.isActive&&!C&&S||x>v&&S,M=!1;const T=Array.isArray(g)?g:[g];let B=T.reduce(s(p),{});E===!1&&(B={});const{prevResolvedValues:X={}}=h,Q={...X,...B},L=J=>{N=!0,f.has(J)&&(M=!0,f.delete(J)),h.needsAnimating[J]=!0;const R=e.getValue(J);R&&(R.liveStyle=!1)};for(const J in Q){const R=B[J],O=X[J];if(y.hasOwnProperty(J))continue;let _=!1;nc(R)&&nc(O)?_=!gv(R,O):_=R!==O,_?R!=null?L(J):f.add(J):R!==void 0&&f.has(J)?L(J):h.protectedKeys[J]=!0}h.prevProp=g,h.prevResolvedValues=B,h.isActive&&(y={...y,...B}),r&&e.blockInitialAnimation&&(N=!1);const j=C&&k;N&&(!j||M)&&m.push(...T.map(J=>{const R={type:p};if(typeof J=="string"&&r&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:O}=e,_=rs(O,J);if(O.enteringChildren&&_){const{delayChildren:z}=_.transition||{};R.delay=zx(O.enteringChildren,e,z)}}return{animation:J,options:R}}))}if(f.size){const x={};if(typeof c.initial!="boolean"){const p=rs(e,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(x.transition=p.transition)}f.forEach(p=>{const h=e.getBaseTarget(p),g=e.getValue(p);g&&(g.liveStyle=!0),x[p]=h!=null?h:null}),m.push({animation:x})}let w=!!m.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(m):Promise.resolve()}function o(l,c){var m;if(n[l].isActive===c)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(f=>{var y;return(y=f.animationState)==null?void 0:y.setActive(l,c)}),n[l].isActive=c;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=dh()}}}function yN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gv(t,e):!1}function Jn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dh(){return{animate:Jn(!0),whileInView:Jn(),whileHover:Jn(),whileTap:Jn(),whileDrag:Jn(),whileFocus:Jn(),exit:Jn()}}function fh(e,t){e.min=t.min,e.max=t.max}function Mt(e,t){fh(e.x,t.x),fh(e.y,t.y)}function mh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const yv=1e-4,xN=1-yv,vN=1+yv,xv=.01,bN=0-xv,wN=0+xv;function tt(e){return e.max-e.min}function SN(e,t,n){return Math.abs(e-t)<=n}function hh(e,t,n,r=.5){e.origin=r,e.originPoint=Se(t.min,t.max,e.origin),e.scale=tt(n)/tt(t),e.translate=Se(n.min,n.max,e.origin)-e.originPoint,(e.scale>=xN&&e.scale<=vN||isNaN(e.scale))&&(e.scale=1),(e.translate>=bN&&e.translate<=wN||isNaN(e.translate))&&(e.translate=0)}function ti(e,t,n,r){hh(e.x,t.x,n.x,r?r.originX:void 0),hh(e.y,t.y,n.y,r?r.originY:void 0)}function ph(e,t,n){e.min=n.min+t.min,e.max=e.min+tt(t)}function EN(e,t,n){ph(e.x,t.x,n.x),ph(e.y,t.y,n.y)}function gh(e,t,n){e.min=t.min-n.min,e.max=e.min+tt(t)}function go(e,t,n){gh(e.x,t.x,n.x),gh(e.y,t.y,n.y)}function yh(e,t,n,r,s){return e-=t,e=po(e,1/n,r),s!==void 0&&(e=po(e,1/s,r)),e}function NN(e,t=0,n=1,r=.5,s,i=e,a=e){if(Xt.test(t)&&(t=parseFloat(t),t=Se(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Se(i.min,i.max,r);e===i&&(o-=t),e.min=yh(e.min,t,n,o,s),e.max=yh(e.max,t,n,o,s)}function xh(e,t,[n,r,s],i,a){NN(e,t[n],t[r],t[s],t.scale,i,a)}const CN=["x","scaleX","originX"],kN=["y","scaleY","originY"];function vh(e,t,n,r){xh(e.x,t,CN,n?n.x:void 0,r?r.x:void 0),xh(e.y,t,kN,n?n.y:void 0,r?r.y:void 0)}function bh(e){return e.translate===0&&e.scale===1}function vv(e){return bh(e.x)&&bh(e.y)}function wh(e,t){return e.min===t.min&&e.max===t.max}function TN(e,t){return wh(e.x,t.x)&&wh(e.y,t.y)}function Sh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bv(e,t){return Sh(e.x,t.x)&&Sh(e.y,t.y)}function Eh(e){return tt(e.x)/tt(e.y)}function Nh(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function St(e){return[e("x"),e("y")]}function jN(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:m,rotateY:f,skewX:y,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),m&&(r+=`rotateX(${m}deg) `),f&&(r+=`rotateY(${f}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const wv=["TopLeft","TopRight","BottomLeft","BottomRight"],LN=wv.length,Ch=e=>typeof e=="string"?parseFloat(e):e,kh=e=>typeof e=="number"||q.test(e);function AN(e,t,n,r,s,i){var a,o,l,c;s?(e.opacity=Se(0,(a=n.opacity)!=null?a:1,RN(r)),e.opacityExit=Se((o=t.opacity)!=null?o:1,0,MN(r))):i&&(e.opacity=Se((l=t.opacity)!=null?l:1,(c=n.opacity)!=null?c:1,r));for(let d=0;d<LN;d++){const m=`border${wv[d]}Radius`;let f=Th(t,m),y=Th(n,m);if(f===void 0&&y===void 0)continue;f||(f=0),y||(y=0),f===0||y===0||kh(f)===kh(y)?(e[m]=Math.max(Se(Ch(f),Ch(y),r),0),(Xt.test(y)||Xt.test(f))&&(e[m]+="%")):e[m]=y}(t.rotate||n.rotate)&&(e.rotate=Se(t.rotate||0,n.rotate||0,r))}function Th(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const RN=Sv(0,.5,gx),MN=Sv(.5,.95,jt);function Sv(e,t,n){return r=>r<e?0:r>t?1:n(Ni(e,t,r))}function PN(e,t,n){const r=Xe(e)?e:ds(e);return r.start(qd("",r,t,n)),r.animation}function ji(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const _N=(e,t)=>e.depth-t.depth;class IN{constructor(){this.children=[],this.isDirty=!1}add(t){Ld(this.children,t),this.isDirty=!0}remove(t){Ad(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_N),this.isDirty=!1,this.children.forEach(t)}}function ON(e,t){const n=et.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Vn(r),e(i-t))};return ye.setup(r,!0),()=>Vn(r)}function Pa(e){return Xe(e)?e.get():e}class DN{constructor(){this.members=[]}add(t){Ld(this.members,t),t.scheduleRender()}remove(t){if(Ad(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const s=r.options.layoutDependency,i=t.options.layoutDependency;s!==void 0&&i!==void 0&&s===i||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const _a={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Il=["","X","Y","Z"],$N=1e3;let zN=0;function Ol(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ev(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ux(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ye,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ev(r)}function Nv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=zN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BN),this.nodes.forEach(qN),this.nodes.forEach(QN),this.nodes.forEach(UN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new IN)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Pd),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=ev(a)&&!VE(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let d,m=0;const f=()=>this.root.updateBlockedByResize=!1;ye.read(()=>{m=window.innerWidth}),e(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,d&&d(),d=ON(f,250),_a.hasAnimatedSinceResize&&(_a.hasAnimatedSinceResize=!1,this.nodes.forEach(Ah)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||JN,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=c.getProps(),p=!this.targetLayout||!bv(this.targetLayout,y),h=!m&&f;if(this.options.layoutRoot||this.resumeFrom||h||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Hd(v,"layout"),onPlay:w,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(d,h)}else m||Ah(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KN),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ev(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jh);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lh);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HN),this.nodes.forEach(FN),this.nodes.forEach(VN)):this.nodes.forEach(Lh),this.clearAllSnapshots();const o=et.now();Ue.delta=Jt(0,1e3/60,o-Ue.timestamp),Ue.timestamp=o,Ue.isProcessing=!0,Tl.update.process(Ue),Tl.preRender.process(Ue),Tl.render.process(Ue),Ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WN),this.sharedNodes.forEach(GN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tt(this.snapshot.measuredBox.x)&&!tt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!vv(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||nr(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),ZN(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Oe();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(eC))){const{scroll:d}=this.root;d&&(qr(o.x,d.offset.x),qr(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=Oe();if(Mt(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:m,options:f}=d;d!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&Mt(o,a),qr(o.x,m.offset.x),qr(o.y,m.offset.y))}return o}applyTransform(a,o=!1){const l=Oe();Mt(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),nr(d.latestValues)&&Qr(l,d.latestValues)}return nr(this.latestValues)&&Qr(l,this.latestValues),l}removeTransform(a){const o=Oe();Mt(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!nr(c.latestValues))continue;lc(c.latestValues)&&c.updateSnapshot();const d=Oe(),m=c.measurePageBox();Mt(d,m),vh(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return nr(this.latestValues)&&vh(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!this.layout||!(d||m))return;this.resolvedRelativeTargetAt=Ue.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mt(this.target,this.layout.layoutBox),ov(this.target,this.targetDelta)):Mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||lc(this.parent.latestValues)||av(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),go(this.relativeTargetOrigin,o,l),Mt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ue.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Mt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;JE(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Oe());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mh(this.prevProjectionDelta.x,this.projectionDelta.x),mh(this.prevProjectionDelta.y,this.projectionDelta.y)),ti(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!Nh(this.projectionDelta.x,this.prevProjectionDelta.x)||!Nh(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hr(),this.projectionDelta=Hr(),this.projectionDeltaWithTransform=Hr()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},m=Hr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Oe(),y=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,x=this.getStack(),p=!x||x.members.length<=1,h=!!(w&&!p&&this.options.crossfade===!0&&!this.path.some(XN));this.animationProgress=0;let g;this.mixTargetDelta=S=>{const E=S/1e3;Rh(m.x,a.x,E),Rh(m.y,a.y,E),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(go(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YN(this.relativeTarget,this.relativeTargetOrigin,f,E),g&&TN(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Oe()),Mt(g,this.relativeTarget)),w&&(this.animationValues=d,AN(d,c,this.latestValues,E,h,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{_a.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ds(0)),this.currentAnimation=PN(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($N),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&Cv(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Oe();const m=tt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+m;const f=tt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Mt(o,l),Qr(o,d),ti(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new DN),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Ol("z",a,c,this.animationValues);for(let d=0;d<Il.length;d++)Ol(`rotate${Il[d]}`,a,c,this.animationValues),Ol(`skew${Il[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,o){var v,w;if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Pa(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Pa(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!nr(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let m=jN(this.projectionDeltaWithTransform,this.treeScale,d);l&&(m=l(d,m)),a.transform=m;const{x:f,y}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,c.animationValues?a.opacity=c===this?(w=(v=d.opacity)!=null?v:this.latestValues.opacity)!=null?w:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in cc){if(d[x]===void 0)continue;const{correct:p,applyTo:h,isCSSVariable:g}=cc[x],S=m==="none"?d[x]:p(d[x],c);if(h){const E=h.length;for(let C=0;C<E;C++)a[h[C]]=S}else g?this.options.visualElement.renderState.vars[x]=S:a[x]=S}this.options.layoutId&&(a.pointerEvents=c===this?Pa(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(jh),this.root.sharedNodes.clear()}}}function FN(e){e.updateLayout()}function VN(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?St(m=>{const f=a?t.measuredBox[m]:t.layoutBox[m],y=tt(f);f.min=r[m].min,f.max=f.min+y}):Cv(i,t.layoutBox,r)&&St(m=>{const f=a?t.measuredBox[m]:t.layoutBox[m],y=tt(r[m]);f.max=f.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+y)});const o=Hr();ti(o,r,t.layoutBox);const l=Hr();a?ti(l,e.applyTransform(s,!0),t.measuredBox):ti(l,r,t.layoutBox);const c=!vv(o);let d=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:y}=m;if(f&&y){const v=Oe();go(v,t.layoutBox,f.layoutBox);const w=Oe();go(w,r,y.layoutBox),bv(v,w)||(d=!0),m.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function BN(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WN(e){e.clearSnapshot()}function jh(e){e.clearMeasurements()}function Lh(e){e.isLayoutDirty=!1}function HN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ah(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qN(e){e.resolveTargetDelta()}function QN(e){e.calcProjection()}function KN(e){e.resetSkewAndRotation()}function GN(e){e.removeLeadSnapshot()}function Rh(e,t,n){e.translate=Se(t.translate,0,n),e.scale=Se(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Mh(e,t,n,r){e.min=Se(t.min,n.min,r),e.max=Se(t.max,n.max,r)}function YN(e,t,n,r){Mh(e.x,t.x,n.x,r),Mh(e.y,t.y,n.y,r)}function XN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const JN={duration:.45,ease:[.4,0,.1,1]},Ph=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_h=Ph("applewebkit/")&&!Ph("chrome/")?Math.round:jt;function Ih(e){e.min=_h(e.min),e.max=_h(e.max)}function ZN(e){Ih(e.x),Ih(e.y)}function Cv(e,t,n){return e==="position"||e==="preserve-aspect"&&!SN(Eh(t),Eh(n),.2)}function eC(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const tC=Nv({attachResizeListener:(e,t)=>ji(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Dl={current:void 0},kv=Nv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dl.current){const e=new tC({});e.mount(window),e.setOptions({layoutScroll:!0}),Dl.current=e}return Dl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nf=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Oh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nC(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Oh(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Oh(e[s],null)}}}}function rC(...e){return b.useCallback(nC(...e),e)}class sC extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=ac(r)&&r.offsetWidth||0,i=ac(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left,a.bottom=i-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function iC({children:e,isPresent:t,anchorX:n,anchorY:r,root:s}){var m,f;const i=b.useId(),a=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=b.useContext(nf),c=(f=(m=e.props)==null?void 0:m.ref)!=null?f:e==null?void 0:e.ref,d=rC(a,c);return b.useInsertionEffect(()=>{const{width:y,height:v,top:w,left:x,right:p,bottom:h}=o.current;if(t||!a.current||!y||!v)return;const g=n==="left"?`left: ${x}`:`right: ${p}`,S=r==="bottom"?`bottom: ${h}`:`top: ${w}`;a.current.dataset.motionPopId=i;const E=document.createElement("style");l&&(E.nonce=l);const C=s!=null?s:document.head;return C.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${g}px !important;
            ${S}px !important;
          }
        `),()=>{C.contains(E)&&C.removeChild(E)}},[t]),u.jsx(sC,{isPresent:t,childRef:a,sizeRef:o,children:b.cloneElement(e,{ref:d})})}const aC=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,anchorY:l,root:c})=>{const d=jd(oC),m=b.useId();let f=!0,y=b.useMemo(()=>(f=!1,{id:m,initial:t,isPresent:n,custom:s,onExitComplete:v=>{d.set(v,!0);for(const w of d.values())if(!w)return;r&&r()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[n,d,r]);return i&&f&&(y={...y}),b.useMemo(()=>{d.forEach((v,w)=>d.set(w,!1))},[n]),b.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(e=u.jsx(iC,{isPresent:n,anchorX:o,anchorY:l,root:c,children:e})),u.jsx(Vo.Provider,{value:y,children:e})};function oC(){return new Map}function Tv(e=!0){const t=b.useContext(Vo);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=b.useId();b.useEffect(()=>{if(e)return s(i)},[e]);const a=b.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const ca=e=>e.key||"";function Dh(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const wr=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:c})=>{const[d,m]=Tv(a),f=b.useMemo(()=>Dh(e),[e]),y=a&&!d?[]:f.map(ca),v=b.useRef(!0),w=b.useRef(f),x=jd(()=>new Map),p=b.useRef(new Set),[h,g]=b.useState(f),[S,E]=b.useState(f);ix(()=>{v.current=!1,w.current=f;for(let N=0;N<S.length;N++){const M=ca(S[N]);y.includes(M)?(x.delete(M),p.current.delete(M)):x.get(M)!==!0&&x.set(M,!1)}},[S,y.length,y.join("-")]);const C=[];if(f!==h){let N=[...f];for(let M=0;M<S.length;M++){const T=S[M],B=ca(T);y.includes(B)||(N.splice(M,0,T),C.push(T))}return i==="wait"&&C.length&&(N=C),E(Dh(N)),g(f),null}const{forceRender:k}=b.useContext(Td);return u.jsx(u.Fragment,{children:S.map(N=>{const M=ca(N),T=a&&!d?!1:f===S||y.includes(M),B=()=>{if(p.current.has(M))return;if(p.current.add(M),x.has(M))x.set(M,!0);else return;let X=!0;x.forEach(Q=>{Q||(X=!1)}),X&&(k==null||k(),E(w.current),a&&(m==null||m()),r&&r())};return u.jsx(aC,{isPresent:T,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:T?void 0:B,anchorX:o,anchorY:l,children:N},M)})})},jv=b.createContext({strict:!1}),$h={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let zh=!1;function lC(){if(zh)return;const e={};for(const t in $h)e[t]={isEnabled:n=>$h[t].some(r=>!!n[r])};rv(e),zh=!0}function Lv(){return lC(),KE()}function uC(e){const t=Lv();for(const n in e)t[n]={...t[n],...e[n]};rv(t)}const cC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||cC.has(e)}let Av=e=>!yo(e);function dC(e){typeof e=="function"&&(Av=t=>t.startsWith("on")?!yo(t):e(t))}try{dC(require("@emotion/is-prop-valid").default)}catch{}function fC(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Av(s)||n===!0&&yo(s)||!t&&!yo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Wo=b.createContext({});function mC(e,t){if(Uo(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ti(n)?n:void 0,animate:Ti(r)?r:void 0}}return e.inherit!==!1?t:{}}function hC(e){const{initial:t,animate:n}=mC(e,b.useContext(Wo));return b.useMemo(()=>({initial:t,animate:n}),[Fh(t),Fh(n)])}function Fh(e){return Array.isArray(e)?e.join(" "):e}const rf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rv(e,t,n){for(const r in t)!Xe(t[r])&&!cv(r,n)&&(e[r]=t[r])}function pC({transformTemplate:e},t){return b.useMemo(()=>{const n=rf();return ef(n,t,e),Object.assign({},n.vars,n.style)},[t])}function gC(e,t){const n=e.style||{},r={};return Rv(r,n,e),Object.assign(r,pC(e,t)),r}function yC(e,t){const n={},r=gC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Mv=()=>({...rf(),attrs:{}});function xC(e,t,n,r){const s=b.useMemo(()=>{const i=Mv();return dv(i,t,mv(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Rv(i,e.style,e),s.style={...i,...s.style}}return s}const vC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sf(e){return typeof e!="string"||e.includes("-")?!1:!!(vC.indexOf(e)>-1||/[A-Z]/u.test(e))}function bC(e,t,n,{latestValues:r},s,i=!1,a){const l=((a!=null?a:sf(e))?xC:yC)(t,r,s,e),c=fC(t,typeof e=="string",i),d=e!==b.Fragment?{...c,...l,ref:n}:{},{children:m}=t,f=b.useMemo(()=>Xe(m)?m.get():m,[m]);return b.createElement(e,{...d,children:f})}function wC({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:SC(n,r,s,e),renderState:t()}}function SC(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Pa(i[f]);let{initial:a,animate:o}=e;const l=Uo(e),c=nv(e);t&&c&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const m=d?o:a;if(m&&typeof m!="boolean"&&!Bo(m)){const f=Array.isArray(m)?m:[m];for(let y=0;y<f.length;y++){const v=Qd(e,f[y]);if(v){const{transitionEnd:w,transition:x,...p}=v;for(const h in p){let g=p[h];if(Array.isArray(g)){const S=d?g.length-1:0;g=g[S]}g!==null&&(s[h]=g)}for(const h in w)s[h]=w[h]}}}return s}const Pv=e=>(t,n)=>{const r=b.useContext(Wo),s=b.useContext(Vo),i=()=>wC(e,t,r,s);return n?i():jd(i)},EC=Pv({scrapeMotionValuesFromProps:tf,createRenderState:rf}),NC=Pv({scrapeMotionValuesFromProps:hv,createRenderState:Mv}),CC=Symbol.for("motionComponentSymbol");function kC(e,t,n){const r=b.useRef(n);b.useInsertionEffect(()=>{r.current=n});const s=b.useRef(null);return b.useCallback(i=>{var o;i&&((o=e.onMount)==null||o.call(e,i)),t&&(i?t.mount(i):t.unmount());const a=r.current;if(typeof a=="function")if(i){const l=a(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):a(i);else a&&(a.current=i)},[t])}const _v=b.createContext({});function Bs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function TC(e,t,n,r,s,i){var p,h;const{visualElement:a}=b.useContext(Wo),o=b.useContext(jv),l=b.useContext(Vo),c=b.useContext(nf).reducedMotion,d=b.useRef(null),m=b.useRef(!1);r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}),m.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const f=d.current,y=b.useContext(_v);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&jC(d.current,n,s,y);const v=b.useRef(!1);b.useInsertionEffect(()=>{f&&v.current&&f.update(n,l)});const w=n[Bx],x=b.useRef(!!w&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,w))&&((h=window.MotionHasOptimisedAnimation)==null?void 0:h.call(window,w)));return ix(()=>{m.current=!0,f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,w)}),x.current=!1),f.enteringChildren=void 0)}),f}function jC(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Iv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&Bs(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function Iv(e){if(e)return e.options.allowProjection!==!1?e.projection:Iv(e.parent)}function $l(e,{forwardMotionProps:t=!1,type:n}={},r,s){var c,d;r&&uC(r);const i=n?n==="svg":sf(e),a=i?NC:EC;function o(m,f){let y;const v={...b.useContext(nf),...m,layoutId:LC(m)},{isStatic:w}=v,x=hC(m),p=a(m,w);if(!w&&sx){AC();const h=RC(v);y=h.MeasureLayout,x.visualElement=TC(e,p,v,s,h.ProjectionNode,i)}return u.jsxs(Wo.Provider,{value:x,children:[y&&x.visualElement?u.jsx(y,{visualElement:x.visualElement,...v}):null,bC(e,m,kC(p,x.visualElement,f),p,w,t,i)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${(d=(c=e.displayName)!=null?c:e.name)!=null?d:""})`}`;const l=b.forwardRef(o);return l[CC]=e,l}function LC({layoutId:e}){const t=b.useContext(Td).id;return t&&e!==void 0?t+"-"+e:e}function AC(e,t){b.useContext(jv).strict}function RC(e){const t=Lv(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function MC(e,t){if(typeof Proxy>"u")return $l;const n=new Map,r=(i,a)=>$l(i,a,e,t),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,$l(a,void 0,e,t)),n.get(a))})}const PC=(e,t)=>{var r;return((r=t.isSVG)!=null?r:sf(e))?new dN(t):new iN(t,{allowProjection:e!==b.Fragment})};class _C extends Qn{constructor(t){super(t),t.animationState||(t.animationState=gN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let IC=0;class OC extends Qn{constructor(){super(...arguments),this.id=IC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const DC={animation:{Feature:_C},exit:{Feature:OC}};function Vi(e){return{point:{x:e.pageX,y:e.pageY}}}const $C=e=>t=>Xd(t)&&e(t,Vi(t));function ni(e,t,n,r){return ji(e,t,$C(n),r)}const Ov=({current:e})=>e?e.ownerDocument.defaultView:null,Vh=(e,t)=>Math.abs(e-t);function zC(e,t){const n=Vh(e.x,t.x),r=Vh(e.y,t.y);return Math.sqrt(n**2+r**2)}const Bh=new Set(["auto","scroll"]);class Dv{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Fl(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=zC(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:x}=y,{timestamp:p}=Ue;this.history.push({...x,timestamp:p});const{onStart:h,onMove:g}=this.handlers;v||(h&&h(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=zl(v,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:p}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Fl(y.type==="pointercancel"?this.lastMoveEventInfo:zl(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,h),x&&x(y,h)},!Xd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=Vi(t),c=zl(l,this.transformPagePoint),{point:d}=c,{timestamp:m}=Ue;this.history=[{...d,timestamp:m}];const{onSessionStart:f}=n;f&&f(t,Fl(c,this.history)),this.removeListeners=$i(ni(this.contextWindow,"pointermove",this.handlePointerMove),ni(this.contextWindow,"pointerup",this.handlePointerUp),ni(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(Bh.has(r.overflowX)||Bh.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),ye.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Vn(this.updatePoint)}}function zl(e,t){return t?{point:t(e.point)}:e}function Uh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fl({point:e},t){return{point:e,delta:Uh(e,$v(t)),offset:Uh(e,FC(t)),velocity:VC(t,.1)}}function FC(e){return e[0]}function $v(e){return e[e.length-1]}function VC(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=$v(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>cn(t)));)n--;if(!r)return{x:0,y:0};const i=kt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function BC(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Se(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Se(n,e,r.max):Math.min(e,n)),e}function Wh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function UC(e,{top:t,left:n,bottom:r,right:s}){return{x:Wh(e.x,n,s),y:Wh(e.y,t,r)}}function Hh(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function WC(e,t){return{x:Hh(e.x,t.x),y:Hh(e.y,t.y)}}function HC(e,t){let n=.5;const r=tt(e),s=tt(t);return s>r?n=Ni(t.min,t.max-r,e.min):r>s&&(n=Ni(e.min,e.max-s,t.min)),Jt(0,1,n)}function qC(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const dc=.35;function QC(e=dc){return e===!1?e=0:e===!0&&(e=dc),{x:qh(e,"left","right"),y:qh(e,"top","bottom")}}function qh(e,t,n){return{min:Qh(e,t),max:Qh(e,n)}}function Qh(e,t){return typeof e=="number"?e:e[t]||0}const KC=new WeakMap;class GC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{n?(this.stopAnimation(),this.snapToCursor(Vi(m).point)):this.pauseAnimation()},a=(m,f)=>{this.stopAnimation();const{drag:y,dragPropagation:v,onDragStart:w}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OE(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),St(p=>{let h=this.getAxisMotionValue(p).get()||0;if(Xt.test(h)){const{projection:g}=this.visualElement;if(g&&g.layout){const S=g.layout.layoutBox[p];S&&(h=tt(S)*(parseFloat(h)/100))}}this.originPoint[p]=h}),w&&ye.postRender(()=>w(m,f)),rc(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f;const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:w,onDrag:x}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:p}=f;if(v&&this.currentDirection===null){this.currentDirection=YC(p),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,p),this.updateAxis("y",f.point,p),this.visualElement.render(),x&&x(m,f)},l=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f,this.stop(m,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>St(m=>{var f;return this.getAnimationState(m)==="paused"&&((f=this.getAxisMotionValue(m).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Dv(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Ov(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ye.postRender(()=>o(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!da(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=BC(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Bs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=UC(r.layoutBox,t):this.constraints=!1,this.elastic=QC(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&St(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=qC(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Bs(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=ZE(r,s.root,this.visualElement.getTransformPagePoint());let a=WC(s.layout.layoutBox,i);if(n){const o=n(YE(a));this.hasMutatedConstraints=!!o,o&&(a=iv(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=St(d=>{if(!da(d,n,this.currentDirection))return;let m=l&&l[d]||{};a&&(m={min:0,max:0});const f=s?200:1e6,y=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return rc(this.visualElement,t),r.start(qd(t,r,0,n,this.visualElement,!1))}stopAnimation(){St(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){St(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){St(n=>{const{drag:r}=this.getProps();if(!da(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-Se(a,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bs(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};St(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=HC({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),St(a=>{if(!da(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Se(l,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;KC.set(this.visualElement,this);const t=this.visualElement.current,n=ni(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps(),m=l.target,f=m!==t&&Zx(m);c&&d&&!f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Bs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ye.read(r);const a=ji(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(St(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=l[d].translate,m.set(m.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=dc,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function da(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function YC(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class XC extends Qn{constructor(t){super(t),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new GC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Kh=e=>(t,n)=>{e&&ye.postRender(()=>e(t,n))};class JC extends Qn{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(t){this.session=new Dv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ov(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Kh(t),onStart:Kh(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ye.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ni(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vl=!1;class ZC extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Vl&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),_a.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,t.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),Vl=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||ye.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Vl=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zv(e){const[t,n]=Tv(),r=b.useContext(Td);return u.jsx(ZC,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(_v),isPresent:t,safeToRemove:n})}const ek={pan:{Feature:JC},drag:{Feature:XC,ProjectionNode:kv,MeasureLayout:zv}};function Gh(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ye.postRender(()=>i(t,Vi(t)))}class tk extends Qn{mount(){const{current:t}=this.node;t&&(this.unmount=DE(t,(n,r)=>(Gh(this.node,r,"Start"),s=>Gh(this.node,s,"End"))))}unmount(){}}class nk extends Qn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$i(ji(this.node.current,"focus",()=>this.onFocus()),ji(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yh(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ye.postRender(()=>i(t,Vi(t)))}class rk extends Qn{mount(){const{current:t}=this.node;t&&(this.unmount=FE(t,(n,r)=>(Yh(this.node,r,"Start"),(s,{success:i})=>Yh(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fc=new WeakMap,Bl=new WeakMap,sk=e=>{const t=fc.get(e.target);t&&t(e)},ik=e=>{e.forEach(sk)};function ak({root:e,...t}){const n=e||document;Bl.has(n)||Bl.set(n,{});const r=Bl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(ik,{root:e,...t})),r[s]}function ok(e,t,n){const r=ak(t);return fc.set(e,n),r.observe(e),()=>{fc.delete(e),r.unobserve(e)}}const lk={some:0,all:1};class uk extends Qn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:lk[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),f=c?d:m;f&&f(l)};return ok(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ck(t,n))&&this.startObserver()}unmount(){}}function ck({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const dk={inView:{Feature:uk},tap:{Feature:rk},focus:{Feature:nk},hover:{Feature:tk}},fk={layout:{ProjectionNode:kv,MeasureLayout:zv}},mk={...DC,...dk,...ek,...fk},se=MC(mk,PC);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>b.createElement("svg",{ref:d,...hk,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${pk(e)}`,o].join(" "),...c},[...t.map(([m,f])=>b.createElement(m,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=te("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=te("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=te("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=te("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=te("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=te("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=te("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=te("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=te("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=te("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=te("Rows3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=te("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=te("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Mk={},Zh=e=>{let t;const n=new Set,r=(d,m)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const y=t;t=(m!=null?m:typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(v=>v(t,y))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Mk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,l);return l},Pk=e=>e?Zh(e):Zh;var e0={exports:{}},t0={},n0={exports:{}},r0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=b;function _k(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ik=typeof Object.is=="function"?Object.is:_k,Ok=ms.useState,Dk=ms.useEffect,$k=ms.useLayoutEffect,zk=ms.useDebugValue;function Fk(e,t){var n=t(),r=Ok({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return $k(function(){s.value=n,s.getSnapshot=t,Wl(s)&&i({inst:s})},[e,n,t]),Dk(function(){return Wl(s)&&i({inst:s}),e(function(){Wl(s)&&i({inst:s})})},[e]),zk(n),n}function Wl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ik(e,n)}catch{return!0}}function Vk(e,t){return t()}var Bk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vk:Fk;r0.useSyncExternalStore=ms.useSyncExternalStore!==void 0?ms.useSyncExternalStore:Bk;n0.exports=r0;var Uk=n0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=b,Wk=Uk;function Hk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qk=typeof Object.is=="function"?Object.is:Hk,Qk=Wk.useSyncExternalStore,Kk=Ho.useRef,Gk=Ho.useEffect,Yk=Ho.useMemo,Xk=Ho.useDebugValue;t0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Kk(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Yk(function(){function l(y){if(!c){if(c=!0,d=y,y=r(y),s!==void 0&&a.hasValue){var v=a.value;if(s(v,y))return m=v}return m=y}if(v=m,qk(d,y))return v;var w=r(y);return s!==void 0&&s(v,w)?(d=y,v):(d=y,m=w)}var c=!1,d,m,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var o=Qk(e,i[0],i[1]);return Gk(function(){a.hasValue=!0,a.value=o},[o]),Xk(o),o};e0.exports=t0;var Jk=e0.exports;const Zk=Tp(Jk),s0={},{useDebugValue:eT}=ln,{useSyncExternalStoreWithSelector:tT}=Zk;let ep=!1;const nT=e=>e;function rT(e,t=nT,n){(s0?"production":void 0)!=="production"&&n&&!ep&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ep=!0);const r=tT(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return eT(r),r}const tp=e=>{(s0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Pk(e):e,n=(r,s)=>rT(t,r,s);return Object.assign(n,t),n},Zt=e=>e?tp(e):tp,sT={};function iT(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Li=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Li(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Li(r)(n)}}}},aT=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,p)=>({...p,...x}),...t},a=!1;const o=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const d=Li(i.serialize),m=()=>{const x=i.partialize({...r()});let p;const h=d({state:x,version:i.version}).then(g=>c.setItem(i.name,g)).catch(g=>{p=g});if(p)throw p;return h},f=s.setState;s.setState=(x,p)=>{f(x,p),m()};const y=e((...x)=>{n(...x),m()},r,s);let v;const w=()=>{var x;if(!c)return;a=!1,o.forEach(h=>h(r()));const p=((x=i.onRehydrateStorage)==null?void 0:x.call(i,r()))||void 0;return Li(c.getItem.bind(c))(i.name).then(h=>{if(h)return i.deserialize(h)}).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return i.migrate(h.state,h.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return h.state}).then(h=>{var g;return v=i.merge(h,(g=r())!=null?g:y),n(v,!0),m()}).then(()=>{p==null||p(v,void 0),a=!0,l.forEach(h=>h(v))}).catch(h=>{p==null||p(void 0,h)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},w(),v||y},oT=(e,t)=>(n,r,s)=>{let i={storage:iT(()=>localStorage),partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...t},a=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,s);const d=()=>{const w=i.partialize({...r()});return c.setItem(i.name,{state:w,version:i.version})},m=s.setState;s.setState=(w,x)=>{m(w,x),d()};const f=e((...w)=>{n(...w),d()},r,s);s.getInitialState=()=>f;let y;const v=()=>{var w,x;if(!c)return;a=!1,o.forEach(h=>{var g;return h((g=r())!=null?g:f)});const p=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(w=r())!=null?w:f))||void 0;return Li(c.getItem.bind(c))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return[!0,i.migrate(h.state,h.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var g;const[S,E]=h;if(y=i.merge(E,(g=r())!=null?g:f),n(y,!0),S)return d()}).then(()=>{p==null||p(y,void 0),y=r(),a=!0,l.forEach(h=>h(y))}).catch(h=>{p==null||p(void 0,h)})};return s.persist={setOptions:w=>{i={...i,...w},w.storage&&(c=w.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:w=>(o.add(w),()=>{o.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},i.skipHydration||v(),y||f},lT=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((sT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),aT(e,t)):oT(e,t),uT=lT,kr=Zt()(uT(e=>({theme:"dark",sidebarView:"explorer",sidebarWidth:280,isConnectionModalOpen:!1,editingConnectionId:null,isConfirmDialogOpen:!1,confirmDialogConfig:null,isAboutModalOpen:!1,setTheme:t=>{document.documentElement.classList.toggle("dark",t==="dark"),e({theme:t})},toggleTheme:()=>e(t=>{const n=t.theme==="dark"?"light":"dark";return document.documentElement.classList.toggle("dark",n==="dark"),{theme:n}}),setSidebarView:t=>e({sidebarView:t}),setSidebarWidth:t=>e({sidebarWidth:t}),openConnectionModal:t=>e({isConnectionModalOpen:!0,editingConnectionId:t!=null?t:null}),closeConnectionModal:()=>e({isConnectionModalOpen:!1,editingConnectionId:null}),showConfirmDialog:t=>e({isConfirmDialogOpen:!0,confirmDialogConfig:t}),closeConfirmDialog:()=>e({isConfirmDialogOpen:!1,confirmDialogConfig:null}),setAboutModalOpen:t=>e({isAboutModalOpen:t})}),{name:"sqlforge-ui",partialize:e=>({theme:e.theme,sidebarWidth:e.sidebarWidth})}));function Lr(e,t,n){var o;let r=(o=n.initialDeps)!=null?o:[],s,i=!0;function a(){var l,c,d;let m;n.key&&((l=n.debug)!=null&&l.call(n))&&(m=Date.now());const f=e();if(!(f.length!==r.length||f.some((w,x)=>r[x]!==w)))return s;r=f;let v;if(n.key&&((c=n.debug)!=null&&c.call(n))&&(v=Date.now()),s=t(...f),n.key&&((d=n.debug)!=null&&d.call(n))){const w=Math.round((Date.now()-m)*100)/100,x=Math.round((Date.now()-v)*100)/100,p=x/16,h=(g,S)=>{for(g=String(g);g.length<S;)g=" "+g;return g};console.info(`%c ${h(x,5)} /${h(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return a.updateDeps=l=>{r=l},a}function np(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const cT=(e,t)=>Math.abs(e-t)<1.01,dT=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},rp=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},fT=e=>e,mT=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},hT=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=a=>{const{width:o,height:l}=a;t({width:Math.round(o),height:Math.round(l)})};if(s(rp(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(a=>{const o=()=>{const l=a[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){s({width:c.inlineSize,height:c.blockSize});return}}s(rp(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},sp={passive:!0},ip=typeof window>"u"?!0:"onscrollend"in window,pT=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&ip?()=>{}:dT(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),a=d=>()=>{const{horizontal:m,isRtl:f}=e.options;s=m?n.scrollLeft*(f&&-1||1):n.scrollTop,i(),t(s,d)},o=a(!0),l=a(!1);n.addEventListener("scroll",o,sp);const c=e.options.useScrollendEvent&&ip;return c&&n.addEventListener("scrollend",l,sp),()=>{n.removeEventListener("scroll",o),c&&n.removeEventListener("scrollend",l)}},gT=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},yT=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const a=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class xT{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const a=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:fT,rangeExtractor:mT,onChange:()=>{},measureElement:gT,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Lr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var s;var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(s=(n=this.scrollElement)==null?void 0:n.window)!=null?s:null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>{var n;return this.options.enabled?(this.scrollRect=(n=this.scrollRect)!=null?n:this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0)},this.getScrollOffset=()=>{var n;return this.options.enabled?(this.scrollOffset=(n=this.scrollOffset)!=null?n:typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.scrollOffset):(this.scrollOffset=null,0)},this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let a=r-1;a>=0;a--){const o=n[a];if(s.has(o.lane))continue;const l=i.get(o.lane);if(l==null||o.end>l.end?i.set(o.lane,o):o.end<l.end&&s.set(o.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((a,o)=>a.end===o.end?a.index-o.index:a.end-o.end)[0]:void 0},this.getMeasurementOptions=Lr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,a,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:a,lanes:o}),{key:!1}),this.getMeasurements=Lr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:a,lanes:o},l)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const f of this.laneAssignments.keys())f>=n&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const c=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,c),m=new Array(o).fill(void 0);for(let f=0;f<c;f++){const y=d[f];y&&(m[y.lane]=f)}for(let f=c;f<n;f++){const y=i(f),v=this.laneAssignments.get(f);let w,x;if(v!==void 0&&this.options.lanes>1){w=v;const S=m[w],E=S!==void 0?d[S]:void 0;x=E?E.end+this.options.gap:r+s}else{const S=this.options.lanes===1?d[f-1]:this.getFurthestMeasurement(d,f);x=S?S.end+this.options.gap:r+s,w=S?S.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,w)}const p=l.get(y),h=typeof p=="number"?p:this.options.estimateSize(f),g=x+h;d[f]={index:f,start:x,size:h,end:g,key:y,lane:w},m[w]=f}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Lr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?vT({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Lr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,a)=>i===null||a===null?[]:n({startIndex:i,endIndex:a,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const a=i.key,o=this.elementsCache.get(a);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{var o;const s=this.measurementsCache[n];if(!s)return;const i=(o=this.itemSizeCache.get(s.key))!=null?o:s.size,a=r-i;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,a,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Lr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,a=n.length;i<a;i++){const o=n[i],l=r[o];s.push(l)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return np(r[i0(0,r.length-1,s=>np(r[s]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,r,s=0)=>{if(!this.scrollElement)return 0;const i=this.getSize(),a=this.getScrollOffset();r==="auto"&&(r=n>=a+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const o=this.getMaxScrollOffset();return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(s.end>=a+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];if(r==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),r];const o=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let i=0;const a=10,o=c=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,c);if(!d){console.warn("Failed to get offset for index:",n);return}const[m,f]=d;this._scrollToOffset(m,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const y=()=>{if(this.currentScrollToIndex!==n)return;const v=this.getScrollOffset(),w=this.getOffsetForIndex(n,f);if(!w){console.warn("Failed to get offset for index:",n);return}cT(w[0],v)||l(f)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(y):y()})},l=c=>{this.targetWindow&&this.currentScrollToIndex===n&&(i++,i<a?this.targetWindow.requestAnimationFrame(()=>o(c)):console.warn(`Failed to scroll to index ${n} after ${a} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var i;var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=(i=(n=r[r.length-1])==null?void 0:n.end)!=null?i:0;else{const a=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&a.some(l=>l===null);){const l=r[o];a[l.lane]===null&&(a[l.lane]=l.end),o--}s=Math.max(...a.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const i0=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function vT({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=l=>e[l].start;if(e.length<=r)return{startIndex:0,endIndex:s};let a=i0(0,s,i,n),o=a;if(r===1)for(;o<s&&e[o].end<n+t;)o++;else if(r>1){const l=Array(r).fill(0);for(;o<s&&l.some(d=>d<n+t);){const d=e[o];l[d.lane]=d.end,o++}const c=Array(r).fill(n+t);for(;a>=0&&c.some(d=>d>=n);){const d=e[a];c[d.lane]=d.start,a--}a=Math.max(0,a-a%r),o=Math.min(s,o+(r-1-o%r))}return{startIndex:a,endIndex:o}}const ap=typeof document<"u"?b.useLayoutEffect:b.useEffect;function bT({useFlushSync:e=!0,...t}){const n=b.useReducer(()=>({}),{})[1],r={...t,onChange:(i,a)=>{var o;e&&a?vr.flushSync(n):n(),(o=t.onChange)==null||o.call(t,i,a)}},[s]=b.useState(()=>new xT(r));return s.setOptions(r),ap(()=>s._didMount(),[]),ap(()=>s._willUpdate()),s}function wT(e){return bT({observeElementRect:hT,observeElementOffset:pT,scrollToFn:yT,...e})}function a0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=a0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=a0(e))&&(r&&(r+=" "),r+=t);return r}function ST(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function gc(e,t=!1){const n=ST(),r=`_${n}`;return Object.defineProperty(window,r,{value:s=>(t&&Reflect.deleteProperty(window,r),e==null?void 0:e(s)),writable:!1,configurable:!0}),n}async function ne(e,t={}){return new Promise((n,r)=>{const s=gc(a=>{n(a),Reflect.deleteProperty(window,`_${i}`)},!0),i=gc(a=>{r(a),Reflect.deleteProperty(window,`_${s}`)},!0);window.__TAURI_IPC__({cmd:e,callback:s,error:i,...t})})}const vn={getAll:()=>ne("get_connections"),getById:e=>ne("get_connection",{id:e}),create:e=>ne("create_connection",{dto:e}),update:(e,t)=>ne("update_connection",{id:e,dto:t}),delete:e=>ne("delete_connection",{id:e}),test:e=>ne("test_connection",{id:e}),connect:e=>ne("connect",{id:e}),disconnect:e=>ne("disconnect",{id:e}),getStatus:e=>ne("get_connection_status",{id:e})},Kt={execute:(e,t,n,r)=>ne("execute_query",{connectionId:e,query:t,page:n,pageSize:r}),executeStatement:(e,t)=>ne("execute_statement",{connectionId:e,statement:t}),executeMultiStatement:(e,t)=>ne("execute_multi_statement",{connectionId:e,statements:t}),executeInTransaction:(e,t)=>ne("execute_in_transaction",{connectionId:e,statement:t}),getHistory:(e,t)=>ne("get_query_history",{connectionId:e,limit:t}),searchHistory:(e,t)=>ne("search_query_history",{query:e,limit:t}),cancel:e=>ne("cancel_query",{connectionId:e})},Ge={listDatabases:e=>(console.log("[API] listDatabases:",{connId:e}),ne("list_databases",{connectionId:e})),getDatabaseInfo:(e,t)=>(console.log("[API] getDatabaseInfo:",{connId:e,database:t}),ne("get_database_info",{connectionId:e,database:t})),listSchemas:(e,t)=>(console.log("[API] listSchemas:",{connId:e,database:t}),ne("list_schemas",{connectionId:e,database:t})),listTables:(e,t)=>(console.log("[API] listTables:",{connId:e,schema:t}),ne("list_tables",{connectionId:e,schema:t})),getTableInfo:(e,t,n)=>ne("get_table_info",{connectionId:e,table:t,schema:n}),getColumns:(e,t,n)=>ne("get_columns",{connectionId:e,table:t,schema:n}),listIndexes:(e,t,n)=>ne("list_indexes",{connectionId:e,table:t,schema:n}),listConstraints:(e,t,n)=>ne("list_constraints",{connectionId:e,table:t,schema:n}),listTriggers:(e,t,n)=>ne("list_triggers",{connectionId:e,table:t,schema:n}),listViews:(e,t)=>ne("list_views",{connectionId:e,schema:t}),listFunctions:(e,t)=>ne("list_functions",{connectionId:e,schema:t}),listSequences:(e,t)=>ne("list_sequences",{connectionId:e,schema:t}),getServerVersion:e=>ne("get_server_version",{connectionId:e})},bn={getByConnection:e=>ne("get_saved_queries",{connectionId:e}),getById:e=>ne("get_saved_query",{id:e}),create:e=>ne("create_saved_query",{dto:e}),update:(e,t)=>ne("update_saved_query",{id:e,dto:t}),delete:e=>ne("delete_saved_query",{id:e}),findByTags:(e,t)=>ne("find_saved_queries_by_tags",{connectionId:e,tags:t}),getFolders:e=>ne("get_query_folders",{connectionId:e}),createFolder:(e,t,n)=>ne("create_query_folder",{connectionId:e,name:t,parentId:n}),deleteFolder:e=>ne("delete_query_folder",{id:e})},yc={save:e=>ne("save_workspace",{dto:e}),get:e=>ne("get_workspace",{connectionId:e}),delete:e=>ne("delete_workspace",{connectionId:e}),getAll:()=>ne("get_all_workspaces")},ET={exportXlsx:(e,t,n)=>ne("export_results_xlsx",{columns:e,rows:t,path:n})};class NT{constructor(){Ie(this,"engine","postgresql");Ie(this,"features",{schemas:!0,roles:!0,users:!0,grantRevoke:!0,alterTable:!0,viewDefinition:!0})}getCreateDatabaseSQL(t){return`CREATE DATABASE "${t}";`}getDropDatabaseSQL(t){return`DROP DATABASE "${t}";`}getCreateTableSQL(t){const n=t.columns.map(i=>{let a=`"${i.name}" ${i.type}`;return i.nullable||(a+=" NOT NULL"),i.defaultValue&&(a+=` DEFAULT ${i.defaultValue}`),a}),r=t.constraints.map(i=>{var a;return i.type==="PRIMARY KEY"?`CONSTRAINT "${i.name}" PRIMARY KEY (${i.columns.map(o=>`"${o}"`).join(", ")})`:i.type==="FOREIGN KEY"?`CONSTRAINT "${i.name}" FOREIGN KEY (${i.columns.map(o=>`"${o}"`).join(", ")}) REFERENCES "${i.referenceTable}" (${(a=i.referenceColumns)==null?void 0:a.map(o=>`"${o}"`).join(", ")})`:i.type==="UNIQUE"?`CONSTRAINT "${i.name}" UNIQUE (${i.columns.map(o=>`"${o}"`).join(", ")})`:""}).filter(Boolean),s=t.schema||"public";return`CREATE TABLE "${s}"."${t.name}" (
  ${[...n,...r].join(`,
  `)}
);${t.comment?`
COMMENT ON TABLE "${s}"."${t.name}" IS '${t.comment}';`:""}`}getAlterTableSQL(t,n){const r=[],s=n.schema||"public",i=`"${s}"."${n.name}"`;return t.name!==n.name&&r.push(`ALTER TABLE "${s}"."${t.name}" RENAME TO "${n.name}";`),n.columns.forEach(a=>{if(!t.columns.find(l=>l.name===a.name)){let l=`ADD COLUMN "${a.name}" ${a.type}`;a.nullable||(l+=" NOT NULL"),a.defaultValue&&(l+=` DEFAULT ${a.defaultValue}`),r.push(`ALTER TABLE ${i} ${l};`)}}),t.columns.forEach(a=>{n.columns.find(o=>o.name===a.name)||r.push(`ALTER TABLE ${i} DROP COLUMN "${a.name}";`)}),r.join(`
`)}getDropTableSQL(t,n){return`DROP TABLE "${t}"."${n}";`}getCreateUserSQL(t){let n=`CREATE USER "${t.name}"`;return t.password&&(n+=` WITH PASSWORD '${t.password}'`),n+=";",n}getDropUserSQL(t){return`DROP USER "${t}";`}getAlterUserSQL(t){let n=`ALTER USER "${t.name}"`;return t.password&&(n+=` WITH PASSWORD '${t.password}'`),n+=";",n}getCreateRoleSQL(t){return`CREATE ROLE "${t.name}";`}getDropRoleSQL(t){return`DROP ROLE "${t}";`}getGrantPermissionSQL(t,n,r,s){return n==="TABLE"?`GRANT ${s} ON TABLE ${r} TO "${t}";`:n==="SCHEMA"?`GRANT ${s} ON ALL TABLES IN SCHEMA ${r} TO "${t}";`:n==="DATABASE"?`GRANT ${s} ON DATABASE ${r} TO "${t}";`:""}getRevokePermissionSQL(t,n,r,s){return n==="TABLE"?`REVOKE ${s} ON TABLE ${r} FROM "${t}";`:n==="SCHEMA"?`REVOKE ${s} ON ALL TABLES IN SCHEMA ${r} FROM "${t}";`:n==="DATABASE"?`REVOKE ${s} ON DATABASE ${r} FROM "${t}";`:""}getUsersQuery(){return"SELECT usename as name FROM pg_catalog.pg_user;"}getRolesQuery(){return"SELECT rolname as name FROM pg_roles WHERE rolcanlogin = false;"}async getTableDefinition(t,n,r){const s=`
      SELECT column_name, data_type, is_nullable, column_default, character_maximum_length
      FROM information_schema.columns
      WHERE table_schema = '${t}' AND table_name = '${n}'
      ORDER BY ordinal_position;
    `,i=`
      SELECT tc.constraint_name, tc.constraint_type, kcu.column_name, 
             ccu.table_name AS foreign_table_name,
             ccu.column_name AS foreign_column_name
      FROM information_schema.table_constraints tc
      JOIN information_schema.key_column_usage kcu
        ON tc.constraint_name = kcu.constraint_name
        AND tc.table_schema = kcu.table_schema
      LEFT JOIN information_schema.constraint_column_usage ccu
        ON ccu.constraint_name = tc.constraint_name
        AND ccu.table_schema = tc.table_schema
      WHERE tc.table_schema = '${t}' AND tc.table_name = '${n}';
    `,[a,o]=await Promise.all([r(s),r(i)]),l=a.map(m=>({name:m.column_name,type:m.data_type+(m.character_maximum_length?`(${m.character_maximum_length})`:""),nullable:m.is_nullable==="YES",primaryKey:!1,defaultValue:m.column_default})),c=[],d=new Map;return o.forEach(m=>{d.has(m.constraint_name)||d.set(m.constraint_name,{name:m.constraint_name,type:m.constraint_type,columns:[],referenceTable:m.foreign_table_name,referenceColumns:[]});const f=d.get(m.constraint_name);f.columns.push(m.column_name),m.foreign_column_name&&f.referenceColumns.push(m.foreign_column_name)}),d.forEach(m=>c.push(m)),c.filter(m=>m.type==="PRIMARY KEY").forEach(m=>{m.columns.forEach(f=>{const y=l.find(v=>v.name===f);y&&(y.primaryKey=!0)})}),{name:n,schema:t,columns:l,constraints:c}}async getUserDefinition(t,n){const r=`
      SELECT r.rolname
      FROM pg_catalog.pg_roles r
      JOIN pg_catalog.pg_auth_members m ON r.oid = m.roleid
      JOIN pg_catalog.pg_roles u ON m.member = u.oid
      WHERE u.rolname = '${t}';
    `;try{const i=(await n(r)).map(a=>a.rolname);return{name:t,roles:i}}catch(s){return console.warn("Failed to fetch user roles:",s),{name:t}}}}class CT{constructor(){Ie(this,"engine","mysql");Ie(this,"features",{schemas:!1,roles:!1,users:!0,grantRevoke:!0,alterTable:!0,viewDefinition:!0})}getCreateDatabaseSQL(t){return`CREATE DATABASE \`${t}\`;`}getDropDatabaseSQL(t){return`DROP DATABASE \`${t}\`;`}getCreateTableSQL(t){const n=t.columns.map(i=>{let a=`\`${i.name}\` ${i.type}`;return i.nullable||(a+=" NOT NULL"),i.autoIncrement&&(a+=" AUTO_INCREMENT"),i.defaultValue&&(a+=` DEFAULT ${i.defaultValue}`),i.comment&&(a+=` COMMENT '${i.comment}'`),a}),r=t.constraints.map(i=>{var a;return i.type==="PRIMARY KEY"?`PRIMARY KEY (${i.columns.map(o=>`\`${o}\``).join(", ")})`:i.type==="FOREIGN KEY"?`CONSTRAINT \`${i.name}\` FOREIGN KEY (${i.columns.map(o=>`\`${o}\``).join(", ")}) REFERENCES \`${i.referenceTable}\` (${(a=i.referenceColumns)==null?void 0:a.map(o=>`\`${o}\``).join(", ")})`:i.type==="UNIQUE"?`UNIQUE INDEX \`${i.name}\` (${i.columns.map(o=>`\`${o}\``).join(", ")})`:""}).filter(Boolean);let s=`CREATE TABLE \`${t.name}\` (
  ${[...n,...r].join(`,
  `)}
)`;return t.engine&&(s+=` ENGINE=${t.engine}`),t.charset&&(s+=` DEFAULT CHARSET=${t.charset}`),t.comment&&(s+=` COMMENT='${t.comment}'`),s+=";",s}getAlterTableSQL(t,n){const r=[],s=`\`${n.name}\``;return t.name!==n.name&&r.push(`RENAME TABLE \`${t.name}\` TO \`${n.name}\`;`),n.columns.forEach(i=>{if(!t.columns.find(o=>o.name===i.name)){let o=`ADD COLUMN \`${i.name}\` ${i.type}`;i.nullable||(o+=" NOT NULL"),i.defaultValue&&(o+=` DEFAULT ${i.defaultValue}`),r.push(`ALTER TABLE ${s} ${o};`)}}),t.columns.forEach(i=>{n.columns.find(a=>a.name===i.name)||r.push(`ALTER TABLE ${s} DROP COLUMN \`${i.name}\`;`)}),r.join(`
`)}getDropTableSQL(t,n){return`DROP TABLE \`${n}\`;`}getCreateUserSQL(t){const n=t.host||"%";let r=`CREATE USER '${t.name}'@'${n}'`;return t.password&&(r+=` IDENTIFIED BY '${t.password}'`),r+=";",r}getDropUserSQL(t){return t.includes("@")?`DROP USER ${t};`:`DROP USER '${t}'@'%';`}getAlterUserSQL(t){const n=t.host||"%";return t.password?`ALTER USER '${t.name}'@'${n}' IDENTIFIED BY '${t.password}';`:""}getCreateRoleSQL(t){return`CREATE ROLE '${t.name}';`}getDropRoleSQL(t){return`DROP ROLE '${t}';`}getGrantPermissionSQL(t,n,r,s){const i=t.includes("@")?t:`'${t}'@'%'`;return n==="TABLE"?`GRANT ${s} ON ${r} TO ${i};`:n==="DATABASE"||n==="SCHEMA"?`GRANT ${s} ON ${r}.* TO ${i};`:""}getRevokePermissionSQL(t,n,r,s){const i=t.includes("@")?t:`'${t}'@'%'`;return n==="TABLE"?`REVOKE ${s} ON ${r} FROM ${i};`:n==="DATABASE"||n==="SCHEMA"?`REVOKE ${s} ON ${r}.* FROM ${i};`:""}getUsersQuery(){return"SELECT User as name, Host as host FROM mysql.user;"}getRolesQuery(){return"SELECT User as name FROM mysql.user;"}async getTableDefinition(t,n,r){const s=`
      SELECT COLUMN_NAME, COLUMN_TYPE, IS_NULLABLE, COLUMN_DEFAULT, COLUMN_KEY, EXTRA
      FROM INFORMATION_SCHEMA.COLUMNS
      WHERE TABLE_SCHEMA = '${t}' AND TABLE_NAME = '${n}'
      ORDER BY ORDINAL_POSITION;
    `,a=(await r(s)).map(l=>({name:l.COLUMN_NAME,type:l.COLUMN_TYPE,nullable:l.IS_NULLABLE==="YES",primaryKey:l.COLUMN_KEY==="PRI",defaultValue:l.COLUMN_DEFAULT,autoIncrement:l.EXTRA==="auto_increment"})),o=[];return a.some(l=>l.primaryKey)&&o.push({name:"PRIMARY",type:"PRIMARY KEY",columns:a.filter(l=>l.primaryKey).map(l=>l.name)}),{name:n,schema:t,columns:a,constraints:o}}async getUserDefinition(t,n){const r=`SELECT Host FROM mysql.user WHERE User = '${t}'`;let s="%";try{const i=await n(r);i.length>0&&(s=i[0].Host)}catch(i){console.warn("Failed to fetch user host:",i)}return{name:t,host:s,roles:[]}}}class kT{constructor(){Ie(this,"engine","sqlite");Ie(this,"features",{schemas:!1,roles:!1,users:!1,grantRevoke:!1,alterTable:!1,viewDefinition:!0})}getCreateDatabaseSQL(t){return`-- SQLite creates databases by creating files. This SQL is just a placeholder.
ATTACH DATABASE '${t}' AS '${t}';`}getDropDatabaseSQL(t){return`-- SQLite cannot drop databases via SQL (file deletion required).
DETACH DATABASE '${t}';`}getCreateTableSQL(t){const n=t.columns.map(s=>{let i=`"${s.name}" ${s.type}`;return s.nullable||(i+=" NOT NULL"),s.defaultValue&&(i+=` DEFAULT ${s.defaultValue}`),i}),r=t.constraints.map(s=>{var i;return s.type==="PRIMARY KEY"?`PRIMARY KEY (${s.columns.map(a=>`"${a}"`).join(", ")})`:s.type==="FOREIGN KEY"?`CONSTRAINT "${s.name}" FOREIGN KEY (${s.columns.map(a=>`"${a}"`).join(", ")}) REFERENCES "${s.referenceTable}" (${(i=s.referenceColumns)==null?void 0:i.map(a=>`"${a}"`).join(", ")})`:s.type==="UNIQUE"?`CONSTRAINT "${s.name}" UNIQUE (${s.columns.map(a=>`"${a}"`).join(", ")})`:""}).filter(Boolean);return`CREATE TABLE "${t.name}" (
  ${[...n,...r].join(`,
  `)}
);`}getAlterTableSQL(t,n){const r=[];return t.name!==n.name&&r.push(`ALTER TABLE "${t.name}" RENAME TO "${n.name}";`),n.columns.forEach(i=>{if(!t.columns.find(o=>o.name===i.name)){let o=`ADD COLUMN "${i.name}" ${i.type}`;i.nullable||(o+=" NOT NULL"),i.defaultValue&&(o+=` DEFAULT ${i.defaultValue}`),r.push(`ALTER TABLE "${n.name}" ${o};`)}}),(t.columns.some(i=>!n.columns.find(a=>a.name===i.name))||t.columns.some(i=>{const a=n.columns.find(o=>o.name===i.name);return a&&a.type!==i.type}))&&(r.push("-- Complex changes detected (DROP COLUMN, TYPE CHANGE). SQLite requires table rebuild."),r.push(`-- 1. CREATE TABLE "${n.name}_new" ...`),r.push(`-- 2. INSERT INTO "${n.name}_new" SELECT ... FROM "${n.name}"`),r.push(`-- 3. DROP TABLE "${n.name}"`),r.push(`-- 4. ALTER TABLE "${n.name}_new" RENAME TO "${n.name}"`)),r.join(`
`)}getDropTableSQL(t,n){return`DROP TABLE "${n}";`}getCreateUserSQL(t){return"-- SQLite does not support users"}getDropUserSQL(t){return"-- SQLite does not support users"}getAlterUserSQL(t){return"-- SQLite does not support users"}getCreateRoleSQL(t){return"-- SQLite does not support roles"}getDropRoleSQL(t){return"-- SQLite does not support roles"}getGrantPermissionSQL(t,n,r,s){return"-- SQLite does not support GRANT"}getRevokePermissionSQL(t,n,r,s){return"-- SQLite does not support REVOKE"}getUsersQuery(){return""}getRolesQuery(){return""}async getTableDefinition(t,n,r){const i=(await r(`PRAGMA table_info("${n}")`)).map(l=>({name:l.name,type:l.type,nullable:l.notnull===0,primaryKey:l.pk>0,defaultValue:l.dflt_value})),a=[],o=i.filter(l=>l.primaryKey);return o.length>0&&a.push({name:"PK_"+n,type:"PRIMARY KEY",columns:o.map(l=>l.name)}),{name:n,schema:t,columns:i,constraints:a}}async getUserDefinition(t,n){return{name:t}}}class TT{constructor(){Ie(this,"engine","sqlserver");Ie(this,"features",{schemas:!0,roles:!0,users:!0,grantRevoke:!0,alterTable:!0,viewDefinition:!0})}getCreateDatabaseSQL(t){return`CREATE DATABASE [${t}];`}getDropDatabaseSQL(t){return`DROP DATABASE [${t}];`}getCreateTableSQL(t){const n=t.columns.map(i=>{let a=`[${i.name}] ${i.type}`;return i.nullable||(a+=" NOT NULL"),i.autoIncrement&&(a+=" IDENTITY(1,1)"),i.defaultValue&&(a+=` DEFAULT ${i.defaultValue}`),a}),r=t.constraints.map(i=>{var a;return i.type==="PRIMARY KEY"?`CONSTRAINT [${i.name}] PRIMARY KEY (${i.columns.map(o=>`[${o}]`).join(", ")})`:i.type==="FOREIGN KEY"?`CONSTRAINT [${i.name}] FOREIGN KEY (${i.columns.map(o=>`[${o}]`).join(", ")}) REFERENCES [${i.referenceTable}] (${(a=i.referenceColumns)==null?void 0:a.map(o=>`[${o}]`).join(", ")})`:i.type==="UNIQUE"?`CONSTRAINT [${i.name}] UNIQUE (${i.columns.map(o=>`[${o}]`).join(", ")})`:""}).filter(Boolean);return`CREATE TABLE [${t.schema||"dbo"}].[${t.name}] (
  ${[...n,...r].join(`,
  `)}
);`}getAlterTableSQL(t,n){const r=[],s=n.schema||"dbo",i=`[${s}].[${n.name}]`;return t.name!==n.name&&r.push(`EXEC sp_rename '[${s}].[${t.name}]', '${n.name}';`),n.columns.forEach(a=>{if(!t.columns.find(l=>l.name===a.name)){let l=`ADD [${a.name}] ${a.type}`;a.nullable||(l+=" NOT NULL"),a.defaultValue&&(l+=` DEFAULT ${a.defaultValue}`),r.push(`ALTER TABLE ${i} ${l};`)}}),t.columns.forEach(a=>{n.columns.find(o=>o.name===a.name)||r.push(`ALTER TABLE ${i} DROP COLUMN [${a.name}];`)}),n.columns.forEach(a=>{const o=t.columns.find(l=>l.name===a.name);if(o&&o.type!==a.type){let l=`ALTER COLUMN [${a.name}] ${a.type}`;a.nullable||(l+=" NOT NULL"),r.push(`ALTER TABLE ${i} ${l};`)}}),r.join(`
`)}getDropTableSQL(t,n){return`DROP TABLE [${t}].[${n}];`}getCreateUserSQL(t){let n=`CREATE USER [${t.name}]`;return n+=";",n}getDropUserSQL(t){return`DROP USER [${t}];`}getAlterUserSQL(t){return`ALTER USER [${t.name}] WITH ...; -- Implementation depends on login vs user`}getCreateRoleSQL(t){return`CREATE ROLE [${t.name}];`}getDropRoleSQL(t){return`DROP ROLE [${t}];`}getGrantPermissionSQL(t,n,r,s){return n==="TABLE"?`GRANT ${s} ON OBJECT::${r} TO [${t}];`:n==="SCHEMA"?`GRANT ${s} ON SCHEMA::${r} TO [${t}];`:n==="DATABASE"?`GRANT ${s} TO [${t}];`:""}getRevokePermissionSQL(t,n,r,s){return n==="TABLE"?`REVOKE ${s} ON OBJECT::${r} FROM [${t}];`:n==="SCHEMA"?`REVOKE ${s} ON SCHEMA::${r} FROM [${t}];`:n==="DATABASE"?`REVOKE ${s} FROM [${t}];`:""}getUsersQuery(){return"SELECT name FROM sys.database_principals WHERE type IN ('S', 'U');"}getRolesQuery(){return"SELECT name FROM sys.database_principals WHERE type = 'R';"}async getTableDefinition(t,n,r){const s=`
      SELECT COLUMN_NAME, DATA_TYPE, IS_NULLABLE, COLUMN_DEFAULT, CHARACTER_MAXIMUM_LENGTH
      FROM INFORMATION_SCHEMA.COLUMNS
      WHERE TABLE_SCHEMA = '${t}' AND TABLE_NAME = '${n}'
      ORDER BY ORDINAL_POSITION;
    `,a=(await r(s)).map(o=>({name:o.COLUMN_NAME,type:o.DATA_TYPE+(o.CHARACTER_MAXIMUM_LENGTH?`(${o.CHARACTER_MAXIMUM_LENGTH})`:""),nullable:o.IS_NULLABLE==="YES",primaryKey:!1,defaultValue:o.COLUMN_DEFAULT}));return{name:n,schema:t,columns:a,constraints:[]}}async getUserDefinition(t,n){const r=`
      SELECT r.name as role_name
      FROM sys.database_role_members m
      JOIN sys.database_principals u ON m.member_principal_id = u.principal_id
      JOIN sys.database_principals r ON m.role_principal_id = r.principal_id
      WHERE u.name = '${t}';
    `;try{const i=(await n(r)).map(a=>a.role_name);return{name:t,roles:i}}catch(s){return console.warn("Failed to fetch user roles:",s),{name:t}}}}class Qt{static getAdapter(t){switch(t){case"postgresql":return new NT;case"mysql":return new CT;case"sqlite":return new kT;case"sqlserver":return new TT;default:throw new Error(`Unsupported engine for admin: ${t}`)}}}class jT{constructor(){Ie(this,"schemas",new Map);Ie(this,"tablesByName",new Map);Ie(this,"tablesByFullName",new Map);Ie(this,"engine","postgresql");Ie(this,"currentDatabase");Ie(this,"connectionId");Ie(this,"listeners",new Set)}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notify(){this.listeners.forEach(t=>t())}updateTable(t){const n=this.convertTable(t,t.schema),r=this.getFullTableName(n);this.tablesByFullName.set(r.toLowerCase(),n);const s=n.name.toLowerCase(),i=this.tablesByName.get(s)||[],a=i.findIndex(o=>this.getFullTableName(o).toLowerCase()===r.toLowerCase());if(a>=0?i[a]=n:i.push(n),this.tablesByName.set(s,i),n.schema){const o=this.schemas.get(n.schema);if(o){const l=o.tables.findIndex(c=>c.name===n.name);l>=0?o.tables[l]=n:o.tables.push(n)}}this.notify()}update(t,n,r,s,i){this.clear(!1),this.connectionId=t,this.engine=n,this.currentDatabase=r;for(const a of s){const o={name:a.name,tables:[]};for(const l of a.tables){const c=this.convertTable(l,a.name);o.tables.push(c),this.indexTable(c)}for(const l of a.views){const c=this.convertView(l,a.name);o.tables.push(c),this.indexTable(c)}this.schemas.set(a.name,o)}for(const a of i)if(!a.schema||!this.schemas.has(a.schema)){const o=this.convertTable(a,a.schema);this.indexTable(o)}this.notify()}convertTable(t,n){return{name:t.name,schema:n,database:this.currentDatabase,type:"table",columns:t.columns.map(r=>this.convertColumn(r))}}convertView(t,n){return{name:t.name,schema:n,database:this.currentDatabase,type:"view",columns:t.columns.map(r=>this.convertColumn(r))}}convertColumn(t){return{name:t.name,dataType:t.data_type,nativeType:t.native_type,nullable:t.nullable,isPrimaryKey:t.is_primary_key,comment:t.comment}}indexTable(t){const n=this.tablesByName.get(t.name.toLowerCase())||[];n.push(t),this.tablesByName.set(t.name.toLowerCase(),n);const r=this.getFullTableName(t);this.tablesByFullName.set(r.toLowerCase(),t)}getFullTableName(t){return this.engine==="postgresql"&&t.schema?`${t.schema}.${t.name}`:this.engine==="mysql"&&t.database?`${t.database}.${t.name}`:t.name}getSchemas(){return Array.from(this.schemas.keys())}getTables(t){if(t){const n=this.schemas.get(t);return(n==null?void 0:n.tables)||[]}return Array.from(this.tablesByFullName.values())}findTable(t){const n=t.toLowerCase(),r=this.tablesByFullName.get(n);if(r)return r;const s=this.tablesByName.get(n);return s==null?void 0:s[0]}getColumns(t){const n=this.findTable(t);return(n==null?void 0:n.columns)||[]}searchTables(t){const n=t.toLowerCase(),r=[];for(const s of this.tablesByFullName.values())(s.name.toLowerCase().startsWith(n)||this.getFullTableName(s).toLowerCase().startsWith(n))&&r.push(s);return r}searchColumns(t,n){const r=this.getColumns(t),s=n.toLowerCase();return r.filter(i=>i.name.toLowerCase().startsWith(s))}getEngine(){return this.engine}getConnectionId(){return this.connectionId}clear(t=!0){this.schemas.clear(),this.tablesByName.clear(),this.tablesByFullName.clear(),this.connectionId=void 0,t&&this.notify()}isEmpty(){return this.tablesByFullName.size===0}}const me=new jT,op=e=>!e||e.type==="Null"?null:e.value,LT=5*60*1e3,be=(e,...t)=>`${e}:${t.join(":")}`,o0=Zt((e,t)=>({nodes:{},rootNodes:[],selectedNodeId:null,expandedNodes:new Set,loadingNodes:new Set,showSystemSchemas:!1,cache:new Map,cacheTimeout:LT,initializeConnection:(n,r,s)=>{const i=be("connection",n);console.log("[Explorer] initializeConnection:",{connectionId:n,connectionName:r,database:s,connNodeId:i}),e(a=>{const o={...a.nodes};if(s){const c=be("database",n,s);o[i]={id:i,type:"connection",name:r,parentId:null,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[c],metadata:{connectionId:n,database:s}},o[c]={id:c,type:"database",name:s,parentId:i,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:n,database:s}}}else o[i]={id:i,type:"connection",name:r,parentId:null,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:n,database:null}};const l=a.rootNodes.includes(i)?a.rootNodes:[...a.rootNodes,i];return console.log("[Explorer] New state:",{newNodes:o,rootNodes:l}),{nodes:o,rootNodes:l}})},syncConnections:(n,r)=>{e(s=>{const i={...s.nodes},a=n.map(l=>be("connection",l.id));let o=!1;return JSON.stringify(a)!==JSON.stringify(s.rootNodes)&&(o=!0),n.forEach(l=>{var w;const c=be("connection",l.id),d=r[l.id]||"Disconnected",m=typeof d=="string"?d:"Error",f=m==="Connected",y=i[c],v={connectionId:l.id,database:l.database,status:m,engine:l.engine};if(y){const x=(w=y.metadata)==null?void 0:w.status,p=y.name;if((x!==m||p!==l.name)&&(o=!0,i[c]={...y,name:l.name,metadata:{...y.metadata,...v}}),f&&y.children.length===0&&l.database){const h=be("database",l.id,l.database);i[c].children=[h],i[c].isLoaded=!0,i[h]||(i[h]={id:h,type:"database",name:l.database,parentId:c,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:l.id,database:l.database,engine:l.engine}}),o=!0}else!f&&y.children.length>0&&(i[c].children=[],i[c].isExpanded=!1,i[c].isLoaded=!1,o=!0)}else{o=!0;const x=f&&!!l.database;if(i[c]={id:c,type:"connection",name:l.name,parentId:null,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:x,children:[],metadata:v},f&&l.database){const p=be("database",l.id,l.database);i[c].children=[p],i[p]={id:p,type:"database",name:l.database,parentId:c,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:l.id,database:l.database,engine:l.engine}}}}}),o?{nodes:i,rootNodes:a}:s})},toggleNode:async(n,r)=>{const{nodes:s,loadChildren:i}=t(),a=s[n];if(!a){console.warn("[Explorer] toggleNode: node not found:",n);return}if(console.log("[Explorer] toggleNode:",{nodeId:n,connectionId:r,nodeType:a.type,isExpanded:a.isExpanded,isLoaded:a.isLoaded,isExpandable:a.isExpandable}),a.isExpanded)e(o=>{const l=new Set(o.expandedNodes);return l.delete(n),{nodes:{...o.nodes,[n]:{...a,isExpanded:!1}},expandedNodes:l}});else{!a.isLoaded&&a.isExpandable?(console.log("[Explorer] toggleNode: calling loadChildren"),await i(n,r)):console.log("[Explorer] toggleNode: skipping loadChildren (isLoaded:",a.isLoaded,", isExpandable:",a.isExpandable,")"),e(m=>{const f=new Set(m.expandedNodes);return f.add(n),{nodes:{...m.nodes,[n]:{...m.nodes[n],isExpanded:!0}},expandedNodes:f}});const{nodes:o,toggleNode:l}=t(),c=o[n];if(!c)return;const d=async m=>{const f=t().nodes[m];f&&!f.isExpanded&&await l(m,r)};if(c.type==="connection"&&c.children.length===1)await d(c.children[0]);else if(c.type==="database"){const m=c.children.map(w=>t().nodes[w]).filter(Boolean),f=m.find(w=>w.type==="schema"&&w.name==="public"),y=m.length===1&&m[0].type==="schema"?m[0]:null,v=f||y;v&&await d(v.id)}else if(c.type==="schema"){const m=c.children.find(f=>{const y=t().nodes[f];return y&&y.type==="tables-folder"});m&&await d(m)}}},selectNode:n=>{e({selectedNodeId:n})},loadChildren:async(n,r)=>{var m,f;const{nodes:s,showSystemSchemas:i,cache:a,cacheTimeout:o}=t(),l=s[n];if(!l||l.isLoading)return;console.log("[Explorer] loadChildren called:",{nodeId:n,connectionId:r,nodeType:l.type,metadata:l.metadata});const c=`${n}:${r}`,d=a.get(c);if(d&&Date.now()-d.timestamp<o){console.log("[Explorer] Using cached data for:",n);return}e(y=>({nodes:{...y.nodes,[n]:{...l,isLoading:!0}},loadingNodes:new Set(y.loadingNodes).add(n)}));try{const y={},v=[];switch(l.type){case"connection":{console.log("[Explorer] Loading databases for connection:",{connectionId:r});const x=await Ge.listDatabases(r);console.log("[Explorer] Databases loaded:",x);for(const p of x){const h=be("database",r,p);v.push(h),y[h]={id:h,type:"database",name:p,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:p}}}break}case"database":{const x=(m=l.metadata)==null?void 0:m.database,p=(f=l.metadata)==null?void 0:f.engine;console.log("[Explorer] Loading children for database:",{connectionId:r,database:x,engine:p});const h=await Ge.listSchemas(r,x);console.log("[Explorer] Schemas loaded:",h);for(const g of h){if(!i&&g.is_system)continue;const S=be("schema",r,x,g.name);v.push(S),y[S]={id:S,type:"schema",name:g.name,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:x,schema:g.name,isSystem:g.is_system}}}if(p)try{const g=Qt.getAdapter(p);if(g.features.users){const S=be("users-folder",r,x);v.push(S),y[S]={id:S,type:"users-folder",name:"Users",parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:x,engine:p}}}if(g.features.roles){const S=be("roles-folder",r,x);v.push(S),y[S]={id:S,type:"roles-folder",name:"Roles",parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:x,engine:p}}}}catch(g){console.warn("[Explorer] Failed to get admin adapter:",g)}break}case"users-folder":{const{database:x,engine:p}=l.metadata,g=Qt.getAdapter(p).getUsersQuery();if(g){const S=await Kt.execute(r,g);if(S.rows){const E=S.rows.map(C=>{const k={};return S.columns.forEach((N,M)=>{k[N.name]=op(C[M])}),k});for(const C of E){const k=C.name;if(!k)continue;const N=be("user",r,x,k);v.push(N),y[N]={id:N,type:"user",name:k,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{connectionId:r,database:x,user:k,...C}}}}}break}case"roles-folder":{const{database:x,engine:p}=l.metadata,g=Qt.getAdapter(p).getRolesQuery();if(g){const S=await Kt.execute(r,g);if(S.rows){const E=S.rows.map(C=>{const k={};return S.columns.forEach((N,M)=>{k[N.name]=op(C[M])}),k});for(const C of E){const k=C.name;if(!k)continue;const N=be("role",r,x,k);v.push(N),y[N]={id:N,type:"role",name:k,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{connectionId:r,database:x,role:k,...C}}}}}break}case"schema":{const{database:x,schema:p}=l.metadata,h=[{type:"tables-folder",name:"Tables"},{type:"views-folder",name:"Views"},{type:"functions-folder",name:"Functions"},{type:"sequences-folder",name:"Sequences"}];for(const g of h){const S=be(g.type,r,x,p);v.push(S),y[S]={id:S,type:g.type,name:g.name,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:x,schema:p}}}break}case"tables-folder":{const{schema:x}=l.metadata;console.log("[Explorer] Loading tables for schema:",{connectionId:r,schema:x});const p=await Ge.listTables(r,x);console.log("[Explorer] Tables loaded:",p),p.forEach(h=>{!h.schema&&x&&(h.schema=x),me.updateTable(h)});for(const h of p){const g=be("table",r,x,h.name);v.push(g),y[g]={id:g,type:"table",name:h.name,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,schema:x,table:h.name}}}break}case"table":{const{schema:x,table:p}=l.metadata,h=[{type:"columns-folder",name:"Columns"},{type:"indexes-folder",name:"Indexes"},{type:"constraints-folder",name:"Constraints"},{type:"triggers-folder",name:"Triggers"}];for(const g of h){const S=be(g.type,r,x,p);v.push(S),y[S]={id:S,type:g.type,name:g.name,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,schema:x,table:p}}}break}case"columns-folder":{const{schema:x,table:p}=l.metadata,h=await Ge.getColumns(r,p,x);for(const g of h){const S=be("column",r,x,p,g.name);v.push(S),y[S]={id:S,type:"column",name:g.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...g}}}break}case"indexes-folder":{const{schema:x,table:p}=l.metadata,h=await Ge.listIndexes(r,p,x);for(const g of h){const S=be("index",r,x,p,g.name);v.push(S),y[S]={id:S,type:"index",name:g.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...g}}}break}case"constraints-folder":{const{schema:x,table:p}=l.metadata,h=await Ge.listConstraints(r,p,x);for(const g of h){const S=be("constraint",r,x,p,g.name);v.push(S),y[S]={id:S,type:"constraint",name:g.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...g}}}break}case"triggers-folder":{const{schema:x,table:p}=l.metadata,h=await Ge.listTriggers(r,p,x);for(const g of h){const S=be("trigger",r,x,p,g.name);v.push(S),y[S]={id:S,type:"trigger",name:g.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...g}}}break}case"views-folder":{const{schema:x}=l.metadata,p=await Ge.listViews(r,x);for(const h of p){const g=be("view",r,x,h.name);v.push(g),y[g]={id:g,type:"view",name:h.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...h}}}break}case"functions-folder":{const{schema:x}=l.metadata,p=await Ge.listFunctions(r,x);for(const h of p){const g=be("function",r,x,h.name);v.push(g),y[g]={id:g,type:"function",name:h.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...h}}}break}case"sequences-folder":{const{schema:x}=l.metadata,p=await Ge.listSequences(r,x);for(const h of p){const g=be("sequence",r,x,h.name);v.push(g),y[g]={id:g,type:"sequence",name:h.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...h}}}break}}const w=new Map(a);w.set(c,{data:v,timestamp:Date.now()}),e(x=>{const p=new Set(x.loadingNodes);return p.delete(n),{nodes:{...x.nodes,...y,[n]:{...x.nodes[n],isLoading:!1,isLoaded:!0,children:v}},loadingNodes:p,cache:w}})}catch(y){console.error("[Explorer] Error loading children:",y),console.error("[Explorer] Error details:",{nodeId:n,connectionId:r,nodeType:l.type}),e(v=>{const w=new Set(v.loadingNodes);return w.delete(n),{nodes:{...v.nodes,[n]:{...v.nodes[n],isLoading:!1}},loadingNodes:w}})}},refreshNode:async(n,r)=>{const{cache:s}=t(),i=new Map(s);for(const a of i.keys())a.startsWith(n)&&i.delete(a);e(a=>({nodes:{...a.nodes,[n]:{...a.nodes[n],isLoaded:!1,children:[]}},cache:i})),await t().loadChildren(n,r)},setShowSystemSchemas:n=>{e({showSystemSchemas:n});const{cache:r}=t(),s=new Map(r);for(const i of s.keys())i.includes("database:")&&s.delete(i);e({cache:s})},clearCache:()=>{e({cache:new Map})},removeConnection:n=>{e(r=>{var o,l;const s=be("connection",n),i={...r.nodes},a=[];for(const[c,d]of Object.entries(i))(c.includes(n)||((o=d.metadata)==null?void 0:o.connectionId)===n)&&a.push(c);for(const c of a)delete i[c];return{nodes:i,rootNodes:r.rootNodes.filter(c=>c!==s),selectedNodeId:a.includes((l=r.selectedNodeId)!=null?l:"")?null:r.selectedNodeId}})},getNodePath:n=>{const r=t(),s=[];let i=n;for(;i;){const a=r.nodes[i];if(a)s.unshift(a),i=a.parentId;else break}return s}})),_e=Zt(e=>({connections:[],activeConnectionId:null,connectionStatuses:{},isLoading:!1,error:null,loadConnections:async()=>{e({isLoading:!0,error:null});try{const t=await vn.getAll();e({connections:t,isLoading:!1})}catch(t){e({error:String(t),isLoading:!1})}},createConnection:async t=>{const n=await vn.create(t);return e(r=>({connections:[...r.connections,n]})),n},updateConnection:async(t,n)=>{const r=await vn.update(t,n);e(s=>({connections:s.connections.map(i=>i.id===t?r:i)}))},deleteConnection:async t=>{await vn.delete(t),e(n=>({connections:n.connections.filter(r=>r.id!==t),activeConnectionId:n.activeConnectionId===t?null:n.activeConnectionId}))},testConnection:async t=>{await vn.test(t)},connect:async t=>{e(n=>({connectionStatuses:{...n.connectionStatuses,[t]:"Connecting"}}));try{await vn.connect(t),e(n=>({connectionStatuses:{...n.connectionStatuses,[t]:"Connected"},activeConnectionId:t}))}catch(n){throw e(r=>({connectionStatuses:{...r.connectionStatuses,[t]:{Error:String(n)}}})),n}},disconnect:async t=>{await vn.disconnect(t),e(n=>({connectionStatuses:{...n.connectionStatuses,[t]:"Disconnected"}}))},setActiveConnection:t=>{e({activeConnectionId:t})},refreshStatus:async t=>{const n=await vn.getStatus(t);e(r=>({connectionStatuses:{...r.connectionStatuses,[t]:n}}))}})),AT="modulepreload",RT=function(e){return"/"+e},lp={},MT=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=RT(l),l in lp)return;lp[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":AT,c||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),c)return new Promise((f,y)=>{m.addEventListener("load",f),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function up(e){const t=(e||"").trim().toUpperCase();return t.startsWith("SELECT")?"SELECT":t.startsWith("UPDATE")?"UPDATE":t.startsWith("DELETE")?"DELETE":t.startsWith("ALTER")?"ALTER":"SELECT"}const Un=Zt((e,t)=>({panels:[],minimizedOrder:[],ensurePanelFromResult:({id:n,query:r,connectionId:s,result:i})=>{var l;const a=t().panels.find(c=>c.id===n),o={id:n,query:r,type:up(r),state:(l=a==null?void 0:a.state)!=null?l:"docked",executedAt:new Date(i.executed_at),connectionId:s,resultId:i.id,data:i.rows,columns:i.columns.map(c=>({name:c.name,data_type:c.data_type})),result:i};e(a?c=>({panels:c.panels.map(d=>d.id===n?{...o}:d)}):c=>({panels:[...c.panels,o]}))},ensurePanelForStatement:({id:n,query:r,connectionId:s,result:i,executedAt:a})=>{var c,d;const o=t().panels.find(m=>m.id===n),l={id:n,query:r,type:up(r),state:(c=o==null?void 0:o.state)!=null?c:"docked",executedAt:a?new Date(a):new Date,connectionId:s,resultId:i==null?void 0:i.id,data:i==null?void 0:i.rows,columns:(d=i==null?void 0:i.columns)==null?void 0:d.map(m=>({name:m.name,data_type:m.data_type})),result:i};e(o?m=>({panels:m.panels.map(f=>f.id===n?{...l}:f)}):m=>({panels:[...m.panels,l]}))},setPanelState:(n,r)=>{e(s=>{var l;const i=((l=s.panels.find(c=>c.id===n))==null?void 0:l.state)==="minimized",a=s.panels.map(c=>c.id===n?{...c,state:r}:c);let o=s.minimizedOrder;return r==="minimized"&&!s.minimizedOrder.includes(n)?o=[n,...s.minimizedOrder]:i&&r!=="minimized"&&(o=s.minimizedOrder.filter(c=>c!==n)),{panels:a,minimizedOrder:o}})},closePanel:n=>{e(r=>({panels:r.panels.filter(s=>s.id!==n),minimizedOrder:r.minimizedOrder.filter(s=>s!==n)}))},getPanel:n=>t().panels.find(r=>r.id===n)}));let ma=0;const rt=Zt((e,t)=>({tabs:[],activeTabId:null,history:[],createTab:n=>{const r=`tab-${++ma}`,s={id:r,type:"query",title:`Query ${ma}`,connectionId:n,query:"",result:null,multiResults:null,isExecuting:!1,error:null};return e(i=>({tabs:[...i.tabs,s],activeTabId:r})),r},addTab:n=>{const r=`tab-${++ma}`,s={id:r,type:n.type||"query",adminState:n.adminState,title:n.title||`Query ${ma}`,connectionId:n.connectionId||"",query:n.query||"",result:null,multiResults:null,isExecuting:!1,error:null};return e(i=>({tabs:[...i.tabs,s],activeTabId:r})),r},closeTab:n=>{e(r=>{const s=r.tabs.filter(a=>a.id!==n);let i=r.activeTabId;return r.activeTabId===n&&(i=s.length>0?s[s.length-1].id:null),{tabs:s,activeTabId:i}})},setActiveTab:n=>{e({activeTabId:n})},updateQuery:(n,r)=>{e(s=>({tabs:s.tabs.map(i=>i.id===n?{...i,query:r}:i)}))},updateTabTitle:(n,r)=>{e(s=>({tabs:s.tabs.map(i=>i.id===n?{...i,title:r}:i)}))},executeQuery:async(n,r,s,i)=>{const a=t().tabs.find(l=>l.id===n);if(!a)return;const o=r||a.query;e(l=>({tabs:l.tabs.map(c=>c.id===n?{...c,isExecuting:!0,error:null,multiResults:null}:c)}));try{const l=await Kt.execute(a.connectionId,o,s,i);e(c=>({tabs:c.tabs.map(d=>d.id===n?{...d,result:l,isExecuting:!1}:d)})),Un.getState().ensurePanelFromResult({id:n,query:o,connectionId:a.connectionId,result:l})}catch(l){let c="Unknown error";if(typeof l=="string")c=l;else if(l&&typeof l=="object")if("message"in l)c=String(l.message);else if("error"in l)c=String(l.error);else try{c=JSON.stringify(l,null,2)}catch{c=String(l)}e(d=>({tabs:d.tabs.map(m=>m.id===n?{...m,error:c,isExecuting:!1}:m)}))}},executeMultiStatement:async n=>{const r=t().tabs.find(a=>a.id===n);if(!r)return;const{parseMultipleStatements:s}=await MT(async()=>{const{parseMultipleStatements:a}=await Promise.resolve().then(()=>fL);return{parseMultipleStatements:a}},void 0),i=s(r.query);if(i.length!==0){e(a=>({tabs:a.tabs.map(o=>o.id===n?{...o,isExecuting:!0,error:null,result:null}:o)}));try{const a=await Kt.executeMultiStatement(r.connectionId,i.map(o=>o.sql));e(o=>({tabs:o.tabs.map(l=>l.id===n?{...l,multiResults:a,isExecuting:!1}:l)})),a.forEach((o,l)=>{const c=`${n}:stmt:${l}`;Un.getState().ensurePanelForStatement({id:c,query:o.sql,connectionId:r.connectionId,result:o.result,affectedRows:o.affected_rows,executedAt:new Date().toISOString()})})}catch(a){let o="Unknown error";if(typeof a=="string")o=a;else if(a&&typeof a=="object")if("message"in a)o=String(a.message);else if("error"in a)o=String(a.error);else try{o=JSON.stringify(a,null,2)}catch{o=String(a)}e(l=>({tabs:l.tabs.map(c=>c.id===n?{...c,error:o,isExecuting:!1}:c)}))}}},cancelQuery:async n=>{const r=t().tabs.find(s=>s.id===n);r&&(await Kt.cancel(r.connectionId),e(s=>({tabs:s.tabs.map(i=>i.id===n?{...i,isExecuting:!1}:i)})))},loadHistory:async n=>{const r=await Kt.getHistory(n,100);e({history:r})}})),yt=Zt((e,t)=>({byConnection:{},isLoadingByConnection:{},errorByConnection:{},getDatabases:n=>{var r;return((r=t().byConnection[n])==null?void 0:r.databases)||[]},getSchemas:n=>{var r;return((r=t().byConnection[n])==null?void 0:r.schemas)||[]},getTables:n=>{var r;return((r=t().byConnection[n])==null?void 0:r.tables)||[]},getSelectedDatabase:n=>{var r,s;return(s=(r=t().byConnection[n])==null?void 0:r.selectedDatabase)!=null?s:null},getSelectedSchema:n=>{var r,s;return(s=(r=t().byConnection[n])==null?void 0:r.selectedSchema)!=null?s:null},getSelectedTable:n=>{var r,s;return(s=(r=t().byConnection[n])==null?void 0:r.selectedTable)!=null?s:null},loadDatabases:async n=>{e(r=>({isLoadingByConnection:{...r.isLoadingByConnection,[n]:!0},errorByConnection:{...r.errorByConnection,[n]:null}}));try{const r=await Ge.listDatabases(n);e(s=>{var i,a,o,l,c,d,m,f;return{byConnection:{...s.byConnection,[n]:{databases:r,schemas:((i=s.byConnection[n])==null?void 0:i.schemas)||[],tables:((a=s.byConnection[n])==null?void 0:a.tables)||[],selectedDatabase:(l=(o=s.byConnection[n])==null?void 0:o.selectedDatabase)!=null?l:null,selectedSchema:(d=(c=s.byConnection[n])==null?void 0:c.selectedSchema)!=null?d:null,selectedTable:(f=(m=s.byConnection[n])==null?void 0:m.selectedTable)!=null?f:null}},isLoadingByConnection:{...s.isLoadingByConnection,[n]:!1}}})}catch(r){e(s=>({errorByConnection:{...s.errorByConnection,[n]:String(r)},isLoadingByConnection:{...s.isLoadingByConnection,[n]:!1}}))}},loadSchemas:async(n,r)=>{e(s=>({isLoadingByConnection:{...s.isLoadingByConnection,[n]:!0},errorByConnection:{...s.errorByConnection,[n]:null}}));try{const s=await Ge.listSchemas(n,r);e(i=>{var a,o,l,c,d,m;return{byConnection:{...i.byConnection,[n]:{databases:((a=i.byConnection[n])==null?void 0:a.databases)||[],schemas:s,tables:((o=i.byConnection[n])==null?void 0:o.tables)||[],selectedDatabase:r,selectedSchema:(c=(l=i.byConnection[n])==null?void 0:l.selectedSchema)!=null?c:null,selectedTable:(m=(d=i.byConnection[n])==null?void 0:d.selectedTable)!=null?m:null}},isLoadingByConnection:{...i.isLoadingByConnection,[n]:!1}}})}catch(s){e(i=>({errorByConnection:{...i.errorByConnection,[n]:String(s)},isLoadingByConnection:{...i.isLoadingByConnection,[n]:!1}}))}},loadTables:async(n,r)=>{e(s=>({isLoadingByConnection:{...s.isLoadingByConnection,[n]:!0},errorByConnection:{...s.errorByConnection,[n]:null}}));try{const s=await Ge.listTables(n,r);s.forEach(i=>{!i.schema&&r&&(i.schema=r),me.updateTable(i)}),e(i=>{const a=i.byConnection[n]||{databases:[],schemas:[],tables:[],selectedDatabase:null,selectedSchema:null,selectedTable:null},o=r?a.schemas.map(l=>l.name===r?{...l,tables:s}:l):a.schemas;return{byConnection:{...i.byConnection,[n]:{databases:a.databases,schemas:o,tables:s,selectedDatabase:a.selectedDatabase,selectedSchema:r!=null?r:null,selectedTable:a.selectedTable}},isLoadingByConnection:{...i.isLoadingByConnection,[n]:!1}}})}catch(s){e(i=>({errorByConnection:{...i.errorByConnection,[n]:String(s)},isLoadingByConnection:{...i.isLoadingByConnection,[n]:!1}}))}},selectTable:async(n,r,s)=>{e(i=>({isLoadingByConnection:{...i.isLoadingByConnection,[n]:!0},errorByConnection:{...i.errorByConnection,[n]:null}}));try{const i=await Ge.getTableInfo(n,r,s),a=await Ge.getColumns(n,r,s),o={...i,columns:a};e(l=>{const c=l.byConnection[n]||{databases:[],schemas:[],tables:[],selectedDatabase:null,selectedSchema:null,selectedTable:null};me.updateTable({...o,schema:s!=null?s:o.schema});const d=(()=>{const m=c.tables.findIndex(f=>f.name===r&&(s&&f.schema===s||!s||!f.schema));if(m>=0){const f=[...c.tables];return f[m]=o,f}return[...c.tables,o]})();return{byConnection:{...l.byConnection,[n]:{...c,selectedTable:o,tables:d}},isLoadingByConnection:{...l.isLoadingByConnection,[n]:!1}}})}catch(i){e(a=>({errorByConnection:{...a.errorByConnection,[n]:String(i)},isLoadingByConnection:{...a.isLoadingByConnection,[n]:!1}}))}},setSelectedDatabase:(n,r)=>e(s=>{const i=s.byConnection[n]||{databases:[],schemas:[],tables:[],selectedDatabase:null,selectedSchema:null,selectedTable:null};return{byConnection:{...s.byConnection,[n]:{...i,selectedDatabase:r}}}}),setSelectedSchema:(n,r)=>e(s=>{const i=s.byConnection[n]||{databases:[],schemas:[],tables:[],selectedDatabase:null,selectedSchema:null,selectedTable:null};return{byConnection:{...s.byConnection,[n]:{...i,selectedSchema:r}}}}),clear:n=>e(r=>{if(n){const s={...r.byConnection};delete s[n];const i={...r.isLoadingByConnection};delete i[n];const a={...r.errorByConnection};return delete a[n],{byConnection:s,isLoadingByConnection:i,errorByConnection:a}}return{byConnection:{},isLoadingByConnection:{},errorByConnection:{}}})}));function PT({x:e,y:t,items:n,onClose:r}){const s=b.useRef(null);return b.useEffect(()=>{const i=o=>{s.current&&!s.current.contains(o.target)&&r()},a=o=>{o.key==="Escape"&&r()};return document.addEventListener("mousedown",i),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("keydown",a)}},[r]),b.useEffect(()=>{if(s.current){const i=s.current.getBoundingClientRect(),a=window.innerWidth,o=window.innerHeight;let l=e,c=t;e+i.width>a&&(l=a-i.width-8),t+i.height>o&&(c=o-i.height-8),s.current.style.left=`${l}px`,s.current.style.top=`${c}px`}},[e,t]),vr.createPortal(u.jsx("div",{ref:s,className:"fixed w-44 bg-dark-surface border border-dark-border rounded-lg shadow-xl py-1 pointer-events-auto",style:{left:e,top:t,zIndex:2147483647},children:n.map((i,a)=>i.separator?u.jsx("div",{className:"h-px bg-dark-border my-1"},a):u.jsx("button",{className:xe("w-full px-3 py-1 text-left text-sm transition-colors",i.disabled?"text-dark-muted cursor-not-allowed":i.danger?"text-red-400 hover:bg-red-500/10":"text-dark-text hover:bg-dark-bg"),onClick:()=>{i.disabled||(i.action(),r())},disabled:i.disabled,children:i.label},a))}),document.body)}async function Ai(e,t){const{id:n,engine:r,database:s}=e,{getSelectedSchema:i,getSelectedDatabase:a,getDatabases:o,getSchemas:l,getTables:c,loadTables:d,loadDatabases:m,loadSchemas:f,setSelectedSchema:y,setSelectedDatabase:v}=yt.getState();if(me.clear(),r==="postgresql"){let p=s||null;if(!p){await m(n);const k=o(n)||[];p=k.find(T=>T!=="postgres"&&!T.startsWith("template"))||k[0]||"postgres";const{updateConnection:N,connect:M}=_e.getState();await N(n,{database:p}),await M(n)}await f(n,p);const h=l(n)||[],g=h.find(k=>!k.is_system)||h.find(k=>k.name==="public")||h[0],S=g?g.name:"public";y(n,S),await d(n,S);const E=c(n)||[],C=l(n)||[];me.update(n,r,p||void 0,C,E);return}if(r==="mysql"){let p=a(n)||s||null;if(!p||t!=null&&t.force){await m(n);const h=o(n)||[];p=p||h[0]||null}if(p){v(n,p),await f(n,p),await d(n,p);const h=l(n)||[],g=c(n)||[];me.update(n,r,p||void 0,h,g)}else{await d(n);const h=l(n)||[],g=c(n)||[];me.update(n,r,void 0,h,g)}return}if(r==="sqlite"){(!i(n)||t!=null&&t.force)&&(y(n,"main"),await d(n,"main"));const p=l(n)||[],h=c(n)||[];me.update(n,r,void 0,p,h);return}await d(n);const w=l(n)||[],x=c(n)||[];me.update(n,r,void 0,w,x)}const l0=28,_T={postgresql:"",mysql:"",sqlite:""},cp=e=>!e||e.type==="Null"?null:e.value;function xc(e,t){switch(t){case"mysql":return`\`${e}\``;case"postgresql":return`"${e}"`;case"sqlite":return`"${e}"`;default:return`"${e}"`}}function Hl(e,t,n){const r=xc(t,n);return e?`${xc(e,n)}.${r}`:r}function IT({type:e,isExpanded:t,metadata:n}){const r="w-4 h-4 flex-shrink-0";switch(e){case"connection":const s=n==null?void 0:n.status,i=(n==null?void 0:n.engine)||"postgresql",a=_T[i]||"";return u.jsxs("div",{className:"flex items-center gap-1.5 mr-1",children:[u.jsx("div",{className:xe("w-2 h-2 rounded-full",s==="Connected"?"bg-green-500":s==="Connecting"?"bg-yellow-500 animate-pulse":"bg-gray-500")}),u.jsx("span",{className:"text-xs grayscale-[0.5]",children:a})]});case"database":return u.jsx(fs,{className:xe(r,"text-blue-400")});case"schema":return t?u.jsx(mc,{className:xe(r,"text-yellow-400")}):u.jsx(Ul,{className:xe(r,"text-yellow-400")});case"tables-folder":case"views-folder":case"functions-folder":case"sequences-folder":case"columns-folder":case"indexes-folder":case"constraints-folder":case"triggers-folder":return t?u.jsx(mc,{className:xe(r,"text-dark-muted")}):u.jsx(Ul,{className:xe(r,"text-dark-muted")});case"table":return u.jsx(pc,{className:xe(r,"text-blue-300")});case"view":return u.jsx(Kv,{className:xe(r,"text-purple-400")});case"column":return(n==null?void 0:n.is_primary_key)?u.jsx(Gv,{className:xe(r,"text-yellow-500")}):u.jsx(Sk,{className:xe(r,"text-dark-muted")});case"index":return u.jsx(Xh,{className:xe(r,"text-orange-400")});case"constraint":return u.jsx(Ck,{className:xe(r,"text-red-400")});case"trigger":return u.jsx(Rk,{className:xe(r,"text-yellow-400")});case"function":return u.jsx(qv,{className:xe(r,"text-green-400")});case"sequence":return u.jsx(Xh,{className:xe(r,"text-cyan-400")});default:return u.jsx(Ul,{className:r})}}const OT=e=>{var t;if(e.type==="column"){const n=(t=e.metadata)==null?void 0:t.data_type;return`${e.name} (${n})`}return e.name};function DT({flatNode:e,isSelected:t,onToggle:n,onSelect:r,onContextMenu:s,onDoubleClick:i}){var l,c;const a=e.node,o=e.depth;return u.jsxs("div",{className:xe("flex items-center gap-1 px-2 cursor-pointer hover:bg-dark-bg rounded select-none",t&&"bg-primary-900/30 hover:bg-primary-900/40"),style:{height:l0,paddingLeft:o*12+4},onClick:()=>{r(),a.isExpandable&&n()},onDoubleClick:i,onContextMenu:s,children:[a.isExpandable?u.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-1 hover:bg-dark-border rounded flex-shrink-0",children:a.isLoading?u.jsx(Yv,{className:"w-4 h-4 text-dark-muted animate-spin"}):a.isExpanded?u.jsx(bk,{className:"w-4 h-4 text-dark-muted"}):u.jsx(of,{className:"w-4 h-4 text-dark-muted"})}):u.jsx("span",{className:"w-5"}),u.jsx(IT,{type:a.type,isExpanded:a.isExpanded,metadata:a.metadata}),u.jsx("span",{className:xe("text-sm truncate flex-1",a.type==="column"&&((l=a.metadata)==null?void 0:l.is_primary_key)&&"text-yellow-500"),children:OT(a)}),a.type==="column"&&((c=a.metadata)==null?void 0:c.nullable)&&u.jsx("span",{className:"text-xs text-dark-muted opacity-60",children:"NULL"})]})}function $T(){const e=b.useRef(null),[t,n]=b.useState(null),{nodes:r,rootNodes:s,selectedNodeId:i,toggleNode:a,selectNode:o,refreshNode:l,syncConnections:c}=o0(),{connections:d,activeConnectionId:m,connectionStatuses:f,connect:y,disconnect:v,deleteConnection:w,setActiveConnection:x,updateConnection:p}=_e(),{addTab:h,setActiveTab:g}=rt(),{setSelectedSchema:S,setSelectedDatabase:E,clear:C}=yt(),{openConnectionModal:k}=kr();b.useEffect(()=>{c(d,f)},[d,f,c]);const N=b.useMemo(()=>{const L=[],j=(P,J)=>{for(const R of P){const O=r[R];O&&(L.push({node:O,depth:J}),O.isExpanded&&O.children.length>0&&j(O.children,J+1))}};return j(s,0),L},[r,s]),M=wT({count:N.length,getScrollElement:()=>e.current,estimateSize:()=>l0,overscan:10}),T=b.useCallback(async L=>{var J,R,O,_,z;const j=r[L];if(!j)return;if(j.type==="connection"){const U=(J=j.metadata)==null?void 0:J.connectionId,A=(R=j.metadata)==null?void 0:R.status;if(x(U),A!=="Connected")try{await y(U)}catch(D){console.error(D);return}await a(L,U);return}let P=(O=j.metadata)==null?void 0:O.connectionId;if(P||(P=m||""),P){if(m!==P){const U=d.find(A=>A.id===P);U&&(x(P),C(P),await Ai(U))}if(j.type==="database"){const U=(_=j.metadata)==null?void 0:_.database,A=d.find(D=>D.id===P);A&&U&&(await p(P,{database:U}),await y(P),E(P,U),await Ai({...A,database:U},{force:!0}))}if(await a(L,P),j.type==="tables-folder"&&j.isExpanded===!1){const U=(z=j.metadata)==null?void 0:z.schema;U&&S(P,U)}}else return},[r,m,a,S]),B=b.useCallback(L=>{var j,P;if(L.type==="table"||L.type==="view"){const J=(j=L.metadata)==null?void 0:j.schema,R=L.name,O=(P=L.metadata)==null?void 0:P.connectionId,_=d.find(V=>V.id===O),z=(_==null?void 0:_.engine)||"postgresql",A=`SELECT * FROM ${Hl(J,R,z)} LIMIT 100;`,D=h({title:R,query:A,connectionId:O});g(D)}},[h,g,d]),X=b.useCallback((L,j)=>{L.preventDefault(),n({x:L.clientX,y:L.clientY,node:j})},[]),Q=b.useCallback(L=>{var _,z,U;const j=[],P=(_=L.metadata)==null?void 0:_.connectionId,J=(z=L.metadata)==null?void 0:z.schema;if(L.type==="connection")return((U=L.metadata)==null?void 0:U.status)==="Connected"?(j.push({label:"Disconnect",action:()=>v(P)}),j.push({label:"Refresh",action:()=>l(L.id,P)})):j.push({label:"Connect",action:()=>y(P)}),j.push({separator:!0,label:"",action:()=>{}}),j.push({label:"Edit Connection",action:()=>k(P)}),j.push({label:"Delete Connection",danger:!0,action:async()=>{confirm("Are you sure you want to delete this connection?")&&await w(P)}}),j;const R=d.find(A=>A.id===P),O=(R==null?void 0:R.engine)||"postgresql";if(L.type==="users-folder")return j.push({label:"Create User",action:()=>{const A=h({type:"admin",title:"New User",connectionId:P,adminState:{type:"user",mode:"create",engine:O,initialDefinition:{name:"",roles:[]}}});g(A)}},{label:"",action:()=>{},separator:!0},{label:"Refresh",action:()=>{P&&l(L.id,P)}}),j;if(L.type==="user")return j.push({label:"Edit User",action:async()=>{try{const A=Qt.getAdapter(O),D=async H=>{const ee=await Kt.execute(P,H);return ee.rows?ee.rows.map(ae=>{const ce={};return ee.columns.forEach((Ae,Ve)=>{ce[Ae.name]=cp(ae[Ve])}),ce}):[]},V=await A.getUserDefinition(L.name,D),K=h({type:"admin",title:`Edit ${L.name}`,connectionId:P,adminState:{type:"user",mode:"edit",engine:O,initialDefinition:V}});g(K)}catch(A){console.error("Failed to load user definition:",A)}}},{label:"",action:()=>{},separator:!0},{label:"Drop User",action:()=>{const D=Qt.getAdapter(O).getDropUserSQL(L.name),V=h({title:`DROP ${L.name}`,query:D,connectionId:P});g(V)},danger:!0}),j;if(L.type==="roles-folder")return j.push({label:"Create Role",action:()=>{const D=Qt.getAdapter(O).getCreateRoleSQL({name:"new_role"}),V=h({title:"New Role",query:D,connectionId:P});g(V)}},{label:"",action:()=>{},separator:!0},{label:"Refresh",action:()=>{P&&l(L.id,P)}}),j;if(L.type==="role")return j.push({label:"Drop Role",action:()=>{const D=Qt.getAdapter(O).getDropRoleSQL(L.name),V=h({title:`DROP ${L.name}`,query:D,connectionId:P});g(V)},danger:!0}),j;if(L.type==="tables-folder")return j.push({label:"Create Table",action:()=>{var D;const A=h({type:"admin",title:"New Table",connectionId:P,adminState:{type:"table",mode:"create",engine:O,schema:(D=L.metadata)==null?void 0:D.schema}});g(A)}},{label:"",action:()=>{},separator:!0},{label:"Refresh",action:()=>{P&&l(L.id,P)}}),j;if(L.type==="table"){const A=Hl(J,L.name,O);j.push({label:"View Data",action:()=>B(L)},{label:"Edit Structure",action:async()=>{try{const D=Qt.getAdapter(O),V=async ee=>{const ae=await Kt.execute(P,ee);return ae.rows?ae.rows.map(ce=>{const Ae={};return ae.columns.forEach((Ve,fe)=>{Ae[Ve.name]=cp(ce[fe])}),Ae}):[]},K=await D.getTableDefinition(J,L.name,V),H=h({type:"admin",title:`Edit ${L.name}`,connectionId:P,adminState:{type:"table",mode:"edit",engine:O,initialDefinition:K,schema:J,table:L.name}});g(H)}catch(D){console.error("Failed to load table definition:",D)}}},{label:"",action:()=>{},separator:!0},{label:"Generate SELECT",action:()=>{const D=`SELECT * FROM ${A};`,V=h({title:`SELECT ${L.name}`,query:D,connectionId:P});g(V)}},{label:"Generate INSERT",action:()=>{const D=`INSERT INTO ${A} (column1, column2)
VALUES (value1, value2);`,V=h({title:`INSERT ${L.name}`,query:D,connectionId:P});g(V)}},{label:"Copy Name",action:()=>{navigator.clipboard.writeText(A)}},{label:"",action:()=>{},separator:!0},{label:"Refresh",action:()=>{P&&l(L.id,P)}},{label:"",action:()=>{},separator:!0},{label:"TRUNCATE Table",action:()=>{const D=`TRUNCATE TABLE ${A};`,V=h({title:`TRUNCATE ${L.name}`,query:D,connectionId:P});g(V)},danger:!0},{label:"DROP Table",action:()=>{const D=`DROP TABLE ${A};`,V=h({title:`DROP ${L.name}`,query:D,connectionId:P});g(V)},danger:!0})}else if(L.type==="view"){const A=Hl(J,L.name,O);j.push({label:"View Data",action:()=>B(L)},{label:"Copy Name",action:()=>{navigator.clipboard.writeText(A)}})}else L.type==="column"?j.push({label:"Copy Name",action:()=>{navigator.clipboard.writeText(xc(L.name,O))}}):L.isExpandable&&j.push({label:"Refresh",action:()=>{P&&l(L.id,P)}});return j},[B,h,g,l,d]);return N.length===0?u.jsx("div",{className:"p-4 text-center text-dark-muted text-sm",children:"Connect to a database to explore"}):u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsx("div",{ref:e,className:"flex-1 overflow-auto",children:u.jsx("div",{style:{height:M.getTotalSize(),width:"100%",position:"relative"},children:M.getVirtualItems().map(L=>{const j=N[L.index];return u.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${L.size}px`,transform:`translateY(${L.start}px)`},children:u.jsx(DT,{flatNode:j,isSelected:i===j.node.id,onToggle:()=>T(j.node.id),onSelect:()=>o(j.node.id),onContextMenu:P=>X(P,j.node),onDoubleClick:()=>B(j.node)})},L.key)})})}),t&&u.jsx(PT,{x:t.x,y:t.y,items:Q(t.node),onClose:()=>n(null)})]})}function zT(){const{history:e,loadHistory:t,updateQuery:n,activeTabId:r}=rt(),{activeConnectionId:s}=_e();b.useEffect(()=>{s&&t(s)},[s,t]);const i=a=>{r&&n(r,a)};return s?e.length===0?u.jsxs("div",{className:"p-4 text-center text-dark-muted text-sm",children:[u.jsx(lf,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No queries executed yet"]}):u.jsx("div",{className:"p-2 space-y-1",children:e.map(a=>u.jsx("div",{onClick:()=>i(a.query),className:"p-2 rounded-lg hover:bg-dark-bg cursor-pointer group",children:u.jsxs("div",{className:"flex items-start gap-2",children:[a.success?u.jsx(vk,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}):u.jsx(Kr,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-mono truncate",children:a.query}),u.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-dark-muted",children:[u.jsx("span",{children:new Date(a.executed_at).toLocaleTimeString()}),a.execution_time_ms>0&&u.jsxs("span",{children:[a.execution_time_ms,"ms"]}),a.row_count!==void 0&&u.jsxs("span",{children:[a.row_count," rows"]})]}),a.error_message&&u.jsx("p",{className:"text-xs text-red-400 mt-1 truncate",children:a.error_message})]})]})},a.id))}):u.jsx("div",{className:"p-4 text-center text-dark-muted text-sm",children:"Connect to a database to see query history"})}const u0=Zt(e=>({queries:[],folders:[],isLoading:!1,error:null,loadQueries:async t=>{e({isLoading:!0,error:null});try{const n=await bn.getByConnection(t);e({queries:n,isLoading:!1})}catch(n){e({error:String(n),isLoading:!1})}},loadFolders:async t=>{try{const n=await bn.getFolders(t);e({folders:n})}catch(n){e({error:String(n)})}},createQuery:async t=>{const n=await bn.create(t);return e(r=>({queries:[...r.queries,n]})),n},updateQuery:async(t,n)=>{const r=await bn.update(t,n);return e(s=>({queries:s.queries.map(i=>i.id===t?r:i)})),r},deleteQuery:async t=>{await bn.delete(t),e(n=>({queries:n.queries.filter(r=>r.id!==t)}))},createFolder:async(t,n,r)=>{const s=await bn.createFolder(t,n,r);return e(i=>({folders:[...i.folders,s]})),s},deleteFolder:async t=>{await bn.deleteFolder(t),e(n=>({folders:n.folders.filter(r=>r.id!==t),queries:n.queries.map(r=>r.folder_id===t?{...r,folder_id:void 0}:r)}))},findByTags:async(t,n)=>await bn.findByTags(t,n)}));function FT(){const{activeConnectionId:e}=_e(),{queries:t,loadQueries:n,loadFolders:r,deleteQuery:s,createQuery:i}=u0(),{addTab:a}=rt(),[o,l]=b.useState(!1),[c,d]=b.useState(""),[m,f]=b.useState("");b.useEffect(()=>{e&&(n(e),r(e))},[e,n,r]);const y=x=>{a({title:x.name,query:x.sql,connectionId:x.connection_id})},v=async x=>{confirm("Eliminar esta consulta guardada?")&&await s(x)},w=async()=>{if(!e)return;const x=rt.getState().tabs.find(p=>p.id===rt.getState().activeTabId);if(!x||!x.query.trim()){alert("No hay consulta para guardar");return}try{await i({connection_id:e,name:c,sql:x.query,description:m||void 0}),l(!1),d(""),f("")}catch(p){alert("Error al guardar: "+String(p))}};return e?u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"p-3 border-b border-gray-700 flex items-center justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Consultas Guardadas"}),u.jsx("button",{onClick:()=>l(!0),className:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 rounded",children:"+ Guardar"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?u.jsx("div",{className:"p-4 text-gray-500 text-sm text-center",children:"No hay consultas guardadas"}):u.jsx("div",{className:"p-2 space-y-1",children:t.map(x=>u.jsx("div",{className:"group p-2 rounded hover:bg-gray-700 cursor-pointer",onClick:()=>y(x),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm truncate",children:x.name}),x.description&&u.jsx("div",{className:"text-xs text-gray-400 truncate",children:x.description}),x.tags.length>0&&u.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:x.tags.map(p=>u.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-600 rounded",children:p},p))})]}),u.jsx("button",{onClick:p=>{p.stopPropagation(),v(x.id)},className:"opacity-0 group-hover:opacity-100 ml-2 p-1 hover:bg-red-600 rounded",children:""})]})},x.id))})}),o&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-96",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Guardar Consulta"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nombre"}),u.jsx("input",{type:"text",value:c,onChange:x=>d(x.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-blue-500",placeholder:"Mi consulta",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descripcin (opcional)"}),u.jsx("textarea",{value:m,onChange:x=>f(x.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-blue-500",placeholder:"Descripcin de la consulta",rows:3})]})]}),u.jsxs("div",{className:"flex gap-2 mt-6",children:[u.jsx("button",{onClick:w,disabled:!c.trim(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded",children:"Guardar"}),u.jsx("button",{onClick:()=>{l(!1),d(""),f("")},className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded",children:"Cancelar"})]})]})})]}):u.jsx("div",{className:"p-4 text-gray-500 text-sm",children:"Selecciona una conexin para ver las consultas guardadas"})}const dp=[{id:"explorer",icon:fs,label:"Explorer"},{id:"saved-queries",icon:Uv,label:"Queries"},{id:"history",icon:Ek,label:"History"}];function VT({icon:e,label:t,isActive:n,onClick:r}){const[s,i]=b.useState(!1);return u.jsxs(se.button,{onClick:r,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),whileHover:{scale:1.05},whileTap:{scale:.95},className:xe("w-8 h-8 rounded-md flex items-center justify-center transition-all duration-150 relative",n?"bg-matrix-900/50 text-matrix-400 shadow-glow-sm":"text-dark-muted hover:text-matrix-400 hover:bg-dark-hover/50"),children:[u.jsx(e,{className:"w-4 h-4"}),n&&u.jsx(se.div,{layoutId:"activeTab",className:"absolute -right-px top-1.5 bottom-1.5 w-0.5 bg-matrix-500 rounded-l",transition:{type:"spring",stiffness:500,damping:30}}),u.jsx(wr,{children:s&&u.jsx(se.span,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},exit:{opacity:0},transition:{duration:.15},className:"absolute left-full ml-2 px-2 py-1 bg-dark-elevated/95 backdrop-blur-sm border border-dark-border/50 rounded text-xs whitespace-nowrap pointer-events-none z-50 shadow-lg",children:t})})]})}function BT({onClick:e}){const[t,n]=b.useState(!1);return u.jsxs(se.button,{onClick:e,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-8 h-8 rounded-md flex items-center justify-center text-matrix-500 hover:bg-matrix-900/50 hover:text-matrix-400 transition-all duration-150 relative",children:[u.jsx(yn,{className:"w-4 h-4"}),u.jsx(wr,{children:t&&u.jsx(se.span,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},exit:{opacity:0},transition:{duration:.15},className:"absolute left-full ml-2 px-2 py-1 bg-dark-elevated/95 backdrop-blur-sm border border-dark-border/50 rounded text-xs whitespace-nowrap pointer-events-none z-50 shadow-lg",children:"New Connection"})})]})}function UT(){var r;const{sidebarView:e,setSidebarView:t,openConnectionModal:n}=kr();return u.jsxs("div",{className:"h-full flex bg-dark-surface/50 backdrop-blur-sm border-r border-dark-border/50",children:[u.jsxs("div",{className:"w-10 bg-dark-bg/50 border-r border-dark-border/30 flex flex-col items-center py-2 gap-0.5",children:[dp.map(({id:s,icon:i,label:a})=>u.jsx(VT,{icon:i,label:a,isActive:e===s,onClick:()=>t(s)},s)),u.jsx("div",{className:"flex-1"}),u.jsx(BT,{onClick:n})]}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 border-b border-dark-border/50 bg-dark-elevated/30 relative overflow-hidden",children:u.jsx(wr,{mode:"wait",children:u.jsx(se.h2,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.12},className:"text-xs font-semibold text-matrix-400/90 uppercase tracking-wider",children:(r=dp.find(s=>s.id===e))==null?void 0:r.label},e)})}),u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsx(wr,{mode:"wait",children:u.jsxs(se.div,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},exit:{opacity:0,x:5},transition:{duration:.15},className:"h-full",children:[e==="explorer"&&u.jsx($T,{}),e==="saved-queries"&&u.jsx(FT,{}),e==="history"&&u.jsx(zT,{})]},e)})})]})]})}function fp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function WT(e){if(Array.isArray(e))return e}function HT(e,t,n){return(t=JT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qT(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,a,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return o}}function QT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mp(Object(n),!0).forEach(function(r){HT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KT(e,t){if(e==null)return{};var n,r,s=GT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function GT(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YT(e,t){return WT(e)||qT(e,t)||ZT(e,t)||QT()}function XT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JT(e){var t=XT(e,"string");return typeof t=="symbol"?t:t+""}function ZT(e,t){if(e){if(typeof e=="string")return fp(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fp(e,t):void 0}}function ej(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pp(Object(n),!0).forEach(function(r){ej(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(s,i){return i(s)},r)}}function Us(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t.apply(n,[].concat(s,o))}}}function xo(e){return{}.toString.call(e).includes("Object")}function nj(e){return!Object.keys(e).length}function Ri(e){return typeof e=="function"}function rj(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sj(e,t){return xo(t)||$n("changeType"),Object.keys(t).some(function(n){return!rj(e,n)})&&$n("changeField"),t}function ij(e){Ri(e)||$n("selectorType")}function aj(e){Ri(e)||xo(e)||$n("handlerType"),xo(e)&&Object.values(e).some(function(t){return!Ri(t)})&&$n("handlersType")}function oj(e){e||$n("initialIsRequired"),xo(e)||$n("initialType"),nj(e)&&$n("initialContent")}function lj(e,t){throw new Error(e[t]||e.default)}var uj={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},$n=Us(lj)(uj),ha={changes:sj,selector:ij,handler:aj,initial:oj};function cj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ha.initial(e),ha.handler(t);var n={current:e},r=Us(mj)(n,t),s=Us(fj)(n),i=Us(ha.changes)(e),a=Us(dj)(n);function o(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return ha.selector(c),c(n.current)}function l(c){tj(r,s,i,a)(c)}return[o,l]}function dj(e,t){return Ri(t)?t(e.current):t}function fj(e,t){return e.current=gp(gp({},e.current),t),t}function mj(e,t,n){return Ri(t)?t(e.current):Object.keys(n).forEach(function(r){var s;return(s=t[r])===null||s===void 0?void 0:s.call(t,e.current[r])}),n}var hj={create:cj},pj={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function gj(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t.apply(n,[].concat(s,o))}}}function yj(e){return{}.toString.call(e).includes("Object")}function xj(e){return e||yp("configIsRequired"),yj(e)||yp("configType"),e.urls?(vj(),{paths:{vs:e.urls.monacoBase}}):e}function vj(){console.warn(c0.deprecation)}function bj(e,t){throw new Error(e[t]||e.default)}var c0={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},yp=gj(bj)(c0),wj={config:xj},Sj=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(s){return n.reduceRight(function(i,a){return a(i)},s)}};function d0(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],d0(e[n],t[n]))}),hp(hp({},e),t)}var Ej={type:"cancelation",msg:"operation is manually canceled"};function ql(e){var t=!1,n=new Promise(function(r,s){e.then(function(i){return t?s(Ej):r(i)}),e.catch(s)});return n.cancel=function(){return t=!0},n}var Nj=["monaco"],Cj=hj.create({config:pj,isInitialized:!1,resolve:null,reject:null,monaco:null}),f0=YT(Cj,2),Bi=f0[0],qo=f0[1];function kj(e){var t=wj.config(e),n=t.monaco,r=KT(t,Nj);qo(function(s){return{config:d0(s.config,r),monaco:n}})}function Tj(){var e=Bi(function(t){var n=t.monaco,r=t.isInitialized,s=t.resolve;return{monaco:n,isInitialized:r,resolve:s}});if(!e.isInitialized){if(qo({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ql(Ql);if(window.monaco&&window.monaco.editor)return m0(window.monaco),e.resolve(window.monaco),ql(Ql);Sj(jj,Aj)(Rj)}return ql(Ql)}function jj(e){return document.body.appendChild(e)}function Lj(e){var t=document.createElement("script");return e&&(t.src=e),t}function Aj(e){var t=Bi(function(r){var s=r.config,i=r.reject;return{config:s,reject:i}}),n=Lj("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Rj(){var e=Bi(function(n){var r=n.config,s=n.resolve,i=n.reject;return{config:r,resolve:s,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;m0(r),e.resolve(r)},function(n){e.reject(n)})}function m0(e){Bi().monaco||qo({monaco:e})}function Mj(){return Bi(function(e){var t=e.monaco;return t})}var Ql=new Promise(function(e,t){return qo({resolve:e,reject:t})}),vo={config:kj,init:Tj,__getMonacoInstance:Mj},Pj={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Kl=Pj,_j={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Ij=_j;function Oj({children:e}){return ln.createElement("div",{style:Ij.container},e)}var Dj=Oj,$j=Dj;function zj({width:e,height:t,isEditorReady:n,loading:r,_ref:s,className:i,wrapperProps:a}){return ln.createElement("section",{style:{...Kl.wrapper,width:e,height:t},...a},!n&&ln.createElement($j,null,r),ln.createElement("div",{ref:s,style:{...Kl.fullWidth,...!n&&Kl.hide},className:i}))}var Fj=zj,h0=b.memo(Fj);function Vj(e){b.useEffect(e,[])}var df=Vj;function Bj(e,t,n=!0){let r=b.useRef(!0);b.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var pt=Bj;function ri(){}function Gr(e,t,n,r){return Uj(e,r)||Wj(e,t,n,r)}function Uj(e,t){return e.editor.getModel(p0(e,t))}function Wj(e,t,n,r){return e.editor.createModel(t,n,r?p0(e,r):void 0)}function p0(e,t){return e.Uri.parse(t)}function Hj({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:d="Loading...",options:m={},height:f="100%",width:y="100%",className:v,wrapperProps:w={},beforeMount:x=ri,onMount:p=ri}){let[h,g]=b.useState(!1),[S,E]=b.useState(!0),C=b.useRef(null),k=b.useRef(null),N=b.useRef(null),M=b.useRef(p),T=b.useRef(x),B=b.useRef(!1);df(()=>{let j=vo.init();return j.then(P=>(k.current=P)&&E(!1)).catch(P=>(P==null?void 0:P.type)!=="cancelation"&&console.error("Monaco initialization: error:",P)),()=>C.current?L():j.cancel()}),pt(()=>{if(C.current&&k.current){let j=C.current.getOriginalEditor(),P=Gr(k.current,e||"",r||n||"text",i||"");P!==j.getModel()&&j.setModel(P)}},[i],h),pt(()=>{if(C.current&&k.current){let j=C.current.getModifiedEditor(),P=Gr(k.current,t||"",s||n||"text",a||"");P!==j.getModel()&&j.setModel(P)}},[a],h),pt(()=>{let j=C.current.getModifiedEditor();j.getOption(k.current.editor.EditorOption.readOnly)?j.setValue(t||""):t!==j.getValue()&&(j.executeEdits("",[{range:j.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),j.pushUndoStop())},[t],h),pt(()=>{var j,P;(P=(j=C.current)==null?void 0:j.getModel())==null||P.original.setValue(e||"")},[e],h),pt(()=>{let{original:j,modified:P}=C.current.getModel();k.current.editor.setModelLanguage(j,r||n||"text"),k.current.editor.setModelLanguage(P,s||n||"text")},[n,r,s],h),pt(()=>{var j;(j=k.current)==null||j.editor.setTheme(c)},[c],h),pt(()=>{var j;(j=C.current)==null||j.updateOptions(m)},[m],h);let X=b.useCallback(()=>{var J;if(!k.current)return;T.current(k.current);let j=Gr(k.current,e||"",r||n||"text",i||""),P=Gr(k.current,t||"",s||n||"text",a||"");(J=C.current)==null||J.setModel({original:j,modified:P})},[n,t,s,e,r,i,a]),Q=b.useCallback(()=>{var j;!B.current&&N.current&&(C.current=k.current.editor.createDiffEditor(N.current,{automaticLayout:!0,...m}),X(),(j=k.current)==null||j.editor.setTheme(c),g(!0),B.current=!0)},[m,c,X]);b.useEffect(()=>{h&&M.current(C.current,k.current)},[h]),b.useEffect(()=>{!S&&!h&&Q()},[S,h,Q]);function L(){var P,J,R,O;let j=(P=C.current)==null?void 0:P.getModel();o||((J=j==null?void 0:j.original)==null||J.dispose()),l||((R=j==null?void 0:j.modified)==null||R.dispose()),(O=C.current)==null||O.dispose()}return ln.createElement(h0,{width:y,height:f,isEditorReady:h,loading:d,_ref:N,className:v,wrapperProps:w})}var qj=Hj;b.memo(qj);function Qj(){let[e,t]=b.useState(vo.__getMonacoInstance());return df(()=>{let n;return e||(n=vo.init(),n.then(r=>{t(r)})),()=>n==null?void 0:n.cancel()}),e}var Kj=Qj;function Gj(e){let t=b.useRef();return b.useEffect(()=>{t.current=e},[e]),t.current}var Yj=Gj,pa=new Map;function Xj({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:s,path:i,theme:a="light",line:o,loading:l="Loading...",options:c={},overrideServices:d={},saveViewState:m=!0,keepCurrentModel:f=!1,width:y="100%",height:v="100%",className:w,wrapperProps:x={},beforeMount:p=ri,onMount:h=ri,onChange:g,onValidate:S=ri}){let[E,C]=b.useState(!1),[k,N]=b.useState(!0),M=b.useRef(null),T=b.useRef(null),B=b.useRef(null),X=b.useRef(h),Q=b.useRef(p),L=b.useRef(),j=b.useRef(r),P=Yj(i),J=b.useRef(!1),R=b.useRef(!1);df(()=>{let z=vo.init();return z.then(U=>(M.current=U)&&N(!1)).catch(U=>(U==null?void 0:U.type)!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>T.current?_():z.cancel()}),pt(()=>{var U,A,D,V;let z=Gr(M.current,e||r||"",t||s||"",i||n||"");z!==((U=T.current)==null?void 0:U.getModel())&&(m&&pa.set(P,(A=T.current)==null?void 0:A.saveViewState()),(D=T.current)==null||D.setModel(z),m&&((V=T.current)==null||V.restoreViewState(pa.get(i))))},[i],E),pt(()=>{var z;(z=T.current)==null||z.updateOptions(c)},[c],E),pt(()=>{!T.current||r===void 0||(T.current.getOption(M.current.editor.EditorOption.readOnly)?T.current.setValue(r):r!==T.current.getValue()&&(R.current=!0,T.current.executeEdits("",[{range:T.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),T.current.pushUndoStop(),R.current=!1))},[r],E),pt(()=>{var U,A;let z=(U=T.current)==null?void 0:U.getModel();z&&s&&((A=M.current)==null||A.editor.setModelLanguage(z,s))},[s],E),pt(()=>{var z;o!==void 0&&((z=T.current)==null||z.revealLine(o))},[o],E),pt(()=>{var z;(z=M.current)==null||z.editor.setTheme(a)},[a],E);let O=b.useCallback(()=>{var z;if(!(!B.current||!M.current)&&!J.current){Q.current(M.current);let U=i||n,A=Gr(M.current,r||e||"",t||s||"",U||"");T.current=(z=M.current)==null?void 0:z.editor.create(B.current,{model:A,automaticLayout:!0,...c},d),m&&T.current.restoreViewState(pa.get(U)),M.current.editor.setTheme(a),o!==void 0&&T.current.revealLine(o),C(!0),J.current=!0}},[e,t,n,r,s,i,c,d,m,a,o]);b.useEffect(()=>{E&&X.current(T.current,M.current)},[E]),b.useEffect(()=>{!k&&!E&&O()},[k,E,O]),j.current=r,b.useEffect(()=>{var z,U;E&&g&&((z=L.current)==null||z.dispose(),L.current=(U=T.current)==null?void 0:U.onDidChangeModelContent(A=>{R.current||g(T.current.getValue(),A)}))},[E,g]),b.useEffect(()=>{if(E){let z=M.current.editor.onDidChangeMarkers(U=>{var D;let A=(D=T.current.getModel())==null?void 0:D.uri;if(A&&U.find(V=>V.path===A.path)){let V=M.current.editor.getModelMarkers({resource:A});S==null||S(V)}});return()=>{z==null||z.dispose()}}return()=>{}},[E,S]);function _(){var z,U;(z=L.current)==null||z.dispose(),f?m&&pa.set(i,T.current.saveViewState()):(U=T.current.getModel())==null||U.dispose(),T.current.dispose()}return ln.createElement(h0,{width:y,height:v,isEditorReady:E,loading:l,_ref:B,className:w,wrapperProps:x})}var Jj=Xj,Zj=b.memo(Jj),g0=Zj;function xp(){return{from:{name:"",schema:void 0,alias:void 0},joins:[],select:[],groupBy:[],orderBy:[]}}function eL(){return{operator:"AND",conditions:[]}}const Bt=Zt(e=>({isOpen:!1,model:xp(),open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),reset:()=>e({model:xp()}),setFromTable:t=>e(n=>({model:{...n.model,from:t}})),addJoin:t=>e(n=>({model:{...n.model,joins:[...n.model.joins,t]}})),removeJoin:t=>e(n=>({model:{...n.model,joins:n.model.joins.filter((r,s)=>s!==t)}})),updateJoin:(t,n)=>e(r=>({model:{...r.model,joins:r.model.joins.map((s,i)=>i===t?n:s)}})),addColumn:t=>e(n=>({model:{...n.model,select:[...n.model.select,t]}})),removeColumn:t=>e(n=>({model:{...n.model,select:n.model.select.filter((r,s)=>s!==t)}})),toggleColumn:t=>e(n=>n.model.select.some(s=>s.table===t.table&&s.column===t.column)?{model:{...n.model,select:n.model.select.filter(s=>!(s.table===t.table&&s.column===t.column))}}:{model:{...n.model,select:[...n.model.select,t]}}),setWhere:t=>e(n=>({model:{...n.model,where:t}})),addCondition:t=>e(n=>{const r=n.model.where||eL();return{model:{...n.model,where:{...r,conditions:[...r.conditions,t]}}}}),removeCondition:t=>e(n=>n.model.where?{model:{...n.model,where:{...n.model.where,conditions:n.model.where.conditions.filter((r,s)=>s!==t)}}}:n),addGroupBy:t=>e(n=>({model:{...n.model,groupBy:[...n.model.groupBy,t]}})),removeGroupBy:t=>e(n=>({model:{...n.model,groupBy:n.model.groupBy.filter((r,s)=>s!==t)}})),addOrderBy:t=>e(n=>({model:{...n.model,orderBy:[...n.model.orderBy,t]}})),removeOrderBy:t=>e(n=>({model:{...n.model,orderBy:n.model.orderBy.filter((r,s)=>s!==t)}})),updateOrderBy:(t,n)=>e(r=>({model:{...r.model,orderBy:r.model.orderBy.map((s,i)=>i===t?n:s)}})),setLimit:t=>e(n=>({model:{...n.model,limit:t}}))})),sr=class sr{parse(t,n){const r=this.extractAliases(t),s=this.detectCursorContext(t,n),{currentWord:i,prefix:a}=this.extractCurrentWord(t,n);return{aliases:r,cursorContext:s,currentWord:i,prefix:a}}extractAliases(t){const n=new Map,r=t.replace(/\s+/g," ");let s;for(sr.TABLE_ALIAS_PATTERN.lastIndex=0;(s=sr.TABLE_ALIAS_PATTERN.exec(r))!==null;){const i=s[1],a=s[2];this.isKeyword(a)||n.set(a.toLowerCase(),i)}return n}detectCursorContext(t,n){const r=t.substring(0,n).toUpperCase(),s=[{pattern:/\bSELECT\b(?!.*\bFROM\b)/i,context:"select_columns"},{pattern:/\b(?:FROM|JOIN)\s+[^,]*$/i,context:"from_clause"},{pattern:/\bWHERE\b(?!.*\b(?:ORDER|GROUP)\b)/i,context:"where_clause"},{pattern:/\bON\s+[^,]*$/i,context:"join_condition"},{pattern:/\bORDER\s+BY\b/i,context:"order_by"},{pattern:/\bGROUP\s+BY\b/i,context:"group_by"}];for(const{pattern:i,context:a}of s)if(i.test(r))return a;return"general"}extractCurrentWord(t,n){const s=t.substring(0,n).match(/([a-zA-Z_][a-zA-Z0-9_]*)?\.?([a-zA-Z_][a-zA-Z0-9_]*)?$/);if(!s)return{currentWord:""};const i=s[0];if(i.includes(".")){const a=i.split(".");return{prefix:a[0],currentWord:a[1]||""}}return{currentWord:i}}isKeyword(t){return sr.CONTEXT_KEYWORDS.includes(t.toUpperCase())}resolveAlias(t,n){return t.get(n.toLowerCase())||n}};Ie(sr,"TABLE_ALIAS_PATTERN",/(?:FROM|JOIN)\s+([a-zA-Z_][a-zA-Z0-9_]*(?:\.[a-zA-Z_][a-zA-Z0-9_]*)?)\s+(?:AS\s+)?([a-zA-Z_][a-zA-Z0-9_]*)/gi),Ie(sr,"CONTEXT_KEYWORDS",["SELECT","FROM","JOIN","LEFT","RIGHT","INNER","OUTER","CROSS","WHERE","AND","OR","ON","ORDER","BY","GROUP","HAVING","LIMIT","OFFSET","INSERT","UPDATE","DELETE","SET","VALUES","INTO"]);let vc=sr;const y0=new vc;class vp{formatTableName(t){return t.schema&&t.schema!=="public"?`${t.schema}.${t.name}`:t.name}formatSchemaName(t){return t}getSeparator(){return"."}supportsSchemas(){return!0}getKeywords(){return["SELECT","FROM","WHERE","JOIN","LEFT JOIN","RIGHT JOIN","INNER JOIN","OUTER JOIN","CROSS JOIN","ON","AND","OR","ORDER BY","GROUP BY","HAVING","LIMIT","OFFSET","AS","INSERT INTO","VALUES","UPDATE","SET","DELETE FROM","CREATE TABLE","ALTER TABLE","DROP TABLE","TRUNCATE","DISTINCT","COUNT","SUM","AVG","MIN","MAX","CASE","WHEN","THEN","ELSE","END","NULL","NOT NULL","PRIMARY KEY","FOREIGN KEY","REFERENCES","UNIQUE","INDEX","RETURNING","WITH","RECURSIVE","UNION","INTERSECT","EXCEPT","COALESCE","NULLIF","CAST","EXTRACT","DATE_TRUNC","ARRAY","JSONB","JSON","LATERAL","FILTER","OVER","PARTITION BY"]}}class tL{formatTableName(t){return t.database?`${t.database}.${t.name}`:t.name}formatSchemaName(t){return t}getSeparator(){return"."}supportsSchemas(){return!0}getKeywords(){return["SELECT","FROM","WHERE","JOIN","LEFT JOIN","RIGHT JOIN","INNER JOIN","OUTER JOIN","CROSS JOIN","ON","AND","OR","ORDER BY","GROUP BY","HAVING","LIMIT","OFFSET","AS","INSERT INTO","VALUES","UPDATE","SET","DELETE FROM","CREATE TABLE","ALTER TABLE","DROP TABLE","TRUNCATE","DISTINCT","COUNT","SUM","AVG","MIN","MAX","CASE","WHEN","THEN","ELSE","END","NULL","NOT NULL","PRIMARY KEY","FOREIGN KEY","REFERENCES","UNIQUE","INDEX","AUTO_INCREMENT","ENGINE","CHARSET","COLLATE","IF EXISTS","IF NOT EXISTS","REPLACE INTO","ON DUPLICATE KEY","COALESCE","IFNULL","NULLIF","CAST","CONVERT","DATE_FORMAT","STR_TO_DATE","NOW","CURDATE","CURTIME","JSON","JSON_EXTRACT","JSON_OBJECT","JSON_ARRAY"]}}class nL{formatTableName(t){return t.name}formatSchemaName(t){return t}getSeparator(){return"."}supportsSchemas(){return!1}getKeywords(){return["SELECT","FROM","WHERE","JOIN","LEFT JOIN","CROSS JOIN","INNER JOIN","NATURAL JOIN","ON","AND","OR","ORDER BY","GROUP BY","HAVING","LIMIT","OFFSET","AS","INSERT INTO","VALUES","UPDATE","SET","DELETE FROM","CREATE TABLE","ALTER TABLE","DROP TABLE","DISTINCT","COUNT","SUM","AVG","MIN","MAX","TOTAL","CASE","WHEN","THEN","ELSE","END","NULL","NOT NULL","PRIMARY KEY","FOREIGN KEY","REFERENCES","UNIQUE","AUTOINCREMENT","WITHOUT ROWID","STRICT","IF EXISTS","IF NOT EXISTS","REPLACE INTO","INSERT OR REPLACE","COALESCE","IFNULL","NULLIF","TYPEOF","CAST","DATE","TIME","DATETIME","JULIANDAY","STRFTIME","JSON","JSON_EXTRACT","JSON_OBJECT","JSON_ARRAY","GLOB","LIKE","BETWEEN","IN","EXISTS"]}}function x0(e){switch(e){case"postgresql":return new vp;case"mysql":return new tL;case"sqlite":return new nL;default:return new vp}}function Gl(e,t,n){return(n?e.searchTables(n):e.getTables()).map((s,i)=>({label:t.formatTableName(s),insertText:t.formatTableName(s),kind:s.type==="view"?"view":"table",detail:s.type==="view"?"View":"Table",documentation:s.schema?`Schema: ${s.schema}`:void 0,sortOrder:i}))}function bp(e,t){return t.supportsSchemas()?e.getSchemas().map((n,r)=>({label:t.formatSchemaName(n),insertText:t.formatSchemaName(n),kind:"schema",detail:"Schema",sortOrder:r})):[]}function rL(e,t,n){return(n?e.searchColumns(t,n):e.getColumns(t)).map((s,i)=>({label:s.name,insertText:s.name,kind:"column",detail:s.dataType,documentation:[s.isPrimaryKey?" Primary Key":"",s.nullable?"Nullable":"NOT NULL",s.comment||""].filter(Boolean).join(" | "),sortOrder:s.isPrimaryKey?-1:i}))}function sL(e,t){switch(e){case"schema":return t.languages.CompletionItemKind.Module;case"table":return t.languages.CompletionItemKind.Class;case"view":return t.languages.CompletionItemKind.Interface;case"column":return t.languages.CompletionItemKind.Field;case"keyword":return t.languages.CompletionItemKind.Keyword;default:return t.languages.CompletionItemKind.Text}}function iL(e,t,n){return e.map(r=>({label:r.label,kind:sL(r.kind,n),insertText:r.insertText,detail:r.detail,documentation:r.documentation,sortText:String(r.sortOrder).padStart(5,"0"),range:t}))}function aL(e){const n=x0(me.getEngine()).getKeywords(),r=e.toUpperCase();return n.filter(s=>s.startsWith(r)).map((s,i)=>({label:s,insertText:s,kind:"keyword",detail:"Keyword",sortOrder:100+i}))}function oL(e,t,n,r){const s=x0(me.getEngine()),i=[];if(n){const a=y0.resolveAlias(r,n);return rL(me,a,t)}switch(e){case"from_clause":i.push(...bp(me,s)),i.push(...Gl(me,s,t));break;case"select_columns":case"where_clause":case"join_condition":case"order_by":case"group_by":for(const[a,o]of r)i.push({label:a,insertText:a,kind:"table",detail:`Alias  ${o}`,sortOrder:0});i.push(...Gl(me,s,t));break;case"general":default:i.push(...aL(t)),i.push(...bp(me,s)),i.push(...Gl(me,s,t));break}return i}function lL(e){let t="",n=0,r=null;return{triggerCharacters:["."," "],provideCompletionItems(s,i){if(me.isEmpty())return{suggestions:[]};const a=s.getValue(),o=s.getOffsetAt(i),l=a!==t,c=Math.abs(o-n)>5;(l||c||!r)&&(r=y0.parse(a,o),t=a,n=o);const{aliases:d,cursorContext:m,currentWord:f,prefix:y}=r,v=s.getWordUntilPosition(i),w={startLineNumber:i.lineNumber,startColumn:y?i.column-f.length-y.length-1:v.startColumn,endLineNumber:i.lineNumber,endColumn:i.column},x=oL(m,f,y,d);return{suggestions:iL(x,w,e)}}}}function uL(e){return e.languages.registerCompletionItemProvider("sql",lL(e))}function cL(e){var m;const t=b.useRef(null),{connections:n,activeConnectionId:r}=_e(),{nodes:s}=o0(),i=yt(f=>{var y;return r?((y=f.byConnection[r])==null?void 0:y.schemas)||[]:[]}),a=yt(f=>{var y;return r?((y=f.byConnection[r])==null?void 0:y.tables)||[]:[]}),o=yt(f=>{var y;return r&&((y=f.byConnection[r])==null?void 0:y.selectedDatabase)||null}),l=yt(f=>{var y;return r&&((y=f.byConnection[r])==null?void 0:y.selectedTable)||null}),c=n.find(f=>f.id===r),d=(m=c==null?void 0:c.engine)!=null?m:"postgresql";b.useEffect(()=>{const f=[],y=[];for(const[,x]of Object.entries(s)){if(x.type==="schema"&&x.metadata){const h={name:x.metadata.schema,tables:[],views:[],functions:[],sequences:[],is_system:x.metadata.isSystem||!1};y.push(h)}if(x.type==="table"&&x.metadata){const p=x.name,h=x.metadata.schema;if(x.metadata.connectionId===r){const S={name:p,schema:h,columns:[],foreign_keys:[],indexes:[],constraints:[],triggers:[]};f.push(S)}}if(x.type==="view"&&x.metadata){const p=x.name,h=x.metadata.schema;if(x.metadata.connectionId===r){const S={name:p,schema:h,columns:[],foreign_keys:[],indexes:[],constraints:[],triggers:[]};f.push(S)}}}const v=[...i];for(const x of y)v.find(p=>p.name===x.name)||v.push(x);let w;if(f.length>a.length){w=[...f];for(const x of a){const p=x.schema?`${x.schema}.${x.name}`:x.name,h=w.findIndex(g=>(g.schema?`${g.schema}.${g.name}`:g.name)===p);h>=0&&x.columns.length>0?w[h]=x:h<0&&w.push(x)}}else{w=[...a];for(const x of f){const p=x.schema?`${x.schema}.${x.name}`:x.name;w.find(g=>(g.schema?`${g.schema}.${g.name}`:g.name)===p)||w.push(x)}}r&&me.update(r,d,o!=null?o:void 0,v,w)},[d,o,i,a,s,r]),b.useEffect(()=>{l&&me.updateTable(l)},[l]),b.useEffect(()=>{if(e)return t.current&&t.current.dispose(),t.current=uL(e),()=>{t.current&&(t.current.dispose(),t.current=null)}},[e]),b.useEffect(()=>{r||me.clear()},[r])}const Ps=new Map,dL=50;function ff(e){const t=Ps.get(e);if(t)return t;const n=[];let r="",s=0,i=1,a=1,o=!1,l=!1,c=!1,d=!1,m=!1;for(let y=0;y<e.length;y++){const v=e[y],w=e[y+1];if(v===`
`&&(a++,c&&(c=!1)),m){r+=v,m=!1;continue}if(v==="\\"&&(o||l)){m=!0,r+=v;continue}if(!o&&!l){if(v==="-"&&w==="-"){c=!0,r+=v;continue}if(v==="/"&&w==="*"){d=!0,r+=v;continue}if(d&&v==="*"&&w==="/"){r+=v+w,y++,d=!1;continue}}if(c||d){r+=v;continue}if(v==="'"&&!l){o=!o,r+=v;continue}if(v==='"'&&!o){l=!l,r+=v;continue}if(v===";"&&!o&&!l){r+=v;const x=r.trim();x&&x!==";"&&n.push({sql:x,startLine:i,endLine:a,startOffset:s,endOffset:y+1}),r="",s=y+1,i=a;continue}r+=v}const f=r.trim();if(f&&n.push({sql:f,startLine:i,endLine:a,startOffset:s,endOffset:e.length}),Ps.size>=dL){const y=Ps.keys().next().value;y!==void 0&&Ps.delete(y)}return Ps.set(e,n),n}function v0(e,t){const n=ff(e);for(let r=0;r<n.length;r++){const s=n[r];if(t>=s.startOffset&&t<=s.endOffset)return{statement:s,index:r}}return null}const fL=Object.freeze(Object.defineProperty({__proto__:null,findStatementAtCursor:v0,parseMultipleStatements:ff},Symbol.toStringTag,{value:"Module"}));async function Y(e){return ne("tauri",e)}async function mL(e={}){return typeof e=="object"&&Object.freeze(e),Y({__tauriModule:"Dialog",message:{cmd:"openDialog",options:e}})}async function Ia(e={}){return typeof e=="object"&&Object.freeze(e),Y({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:e}})}var wp;(function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Desktop=6]="Desktop",e[e.Document=7]="Document",e[e.Download=8]="Download",e[e.Executable=9]="Executable",e[e.Font=10]="Font",e[e.Home=11]="Home",e[e.Picture=12]="Picture",e[e.Public=13]="Public",e[e.Runtime=14]="Runtime",e[e.Template=15]="Template",e[e.Video=16]="Video",e[e.Resource=17]="Resource",e[e.App=18]="App",e[e.Log=19]="Log",e[e.Temp=20]="Temp",e[e.AppConfig=21]="AppConfig",e[e.AppData=22]="AppData",e[e.AppLocalData=23]="AppLocalData",e[e.AppCache=24]="AppCache",e[e.AppLog=25]="AppLog"})(wp||(wp={}));async function hL(e,t={}){return Y({__tauriModule:"Fs",message:{cmd:"readTextFile",path:e,options:t}})}async function bc(e,t,n){typeof e=="object"&&Object.freeze(e);const r={path:"",contents:""};let s=n;return typeof e=="string"?r.path=e:(r.path=e.path,r.contents=e.contents),typeof t=="string"?r.contents=t!=null?t:"":s=t,Y({__tauriModule:"Fs",message:{cmd:"writeFile",path:r.path,contents:Array.from(new TextEncoder().encode(r.contents)),options:s}})}function pL({tab:e}){const{updateQuery:t,executeQuery:n,executeMultiStatement:r,cancelQuery:s}=rt(),i=Bt(C=>C.open),a=Kj(),o=b.useRef(null),{connections:l,activeConnectionId:c}=_e();cL(a),b.useEffect(()=>{const C=l.find(k=>k.id===c);!c||!C||!me.isEmpty()||Ai(C)},[c,l]);const d=b.useMemo(()=>e.query.trim()?ff(e.query):[],[e.query]),m=d.length>1,f=b.useCallback(C=>{t(e.id,C||"")},[e.id,t]),y=b.useRef(()=>{}),v=b.useRef(()=>{}),w=b.useCallback(()=>{if(!o.current){n(e.id);return}const C=o.current.getPosition(),k=o.current.getModel().getOffsetAt(C),N=v0(e.query,k);N?n(e.id,N.statement.sql):n(e.id)},[e.id,e.query,n]),x=b.useCallback(()=>{d.length>1?r(e.id):n(e.id)},[e.id,d.length,r,n]);b.useEffect(()=>{y.current=w,v.current=x},[w,x]);const p=b.useCallback((C,k)=>{o.current=C,k.editor.defineTheme("queryx-dark",{base:"vs-dark",inherit:!0,rules:[{token:"keyword",foreground:"00e676",fontStyle:"bold"},{token:"operator",foreground:"00e676"},{token:"string",foreground:"a5d6ff"},{token:"comment",foreground:"6272a4",fontStyle:"italic"},{token:"number",foreground:"bd93f9"},{token:"delimiter",foreground:"f8f8f2"}],colors:{"editor.background":"#00000000","editor.lineHighlightBackground":"#00e67610","editorCursor.foreground":"#00e676","editor.selectionBackground":"#00e67630"}}),k.editor.setTheme("queryx-dark"),C.addCommand(k.KeyMod.CtrlCmd|k.KeyCode.Enter,()=>{y.current()}),C.addCommand(k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.Enter,()=>{v.current()})},[]),h=b.useCallback(()=>{s(e.id)},[e.id,s]),g=b.useCallback(async()=>{const C=await Ia({filters:[{name:"SQL",extensions:["sql"]}],defaultPath:"query.sql"});C&&await bc(C,e.query||"")},[e.query]),S=b.useCallback(async()=>{const C=await mL({filters:[{name:"SQL",extensions:["sql"]}],multiple:!1});if(!C||Array.isArray(C))return;const k=await hL(C);t(e.id,k)},[e.id,t]),E=b.useCallback(C=>{(C.ctrlKey||C.metaKey)&&C.key==="Enter"&&(C.preventDefault(),C.shiftKey?x():w())},[w,x]);return u.jsxs("div",{className:"h-full flex flex-col bg-dark-bg",onKeyDown:E,children:[u.jsxs(se.div,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},transition:{duration:.15},className:"flex items-center justify-between px-3 py-1.5 bg-dark-surface/70 backdrop-blur-md border-b border-dark-border/30",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[e.isExecuting?u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,className:"btn btn-danger flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",children:[u.jsx(Zv,{className:"w-3 h-3"}),"Cancel"]}):u.jsxs(u.Fragment,{children:[u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:w,disabled:!e.query.trim(),className:"btn btn-primary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7 shadow-glow-sm",title:"Run current statement (Ctrl+Enter)",children:[u.jsx(uf,{className:"w-3 h-3"}),"Run"]}),m&&u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:x,className:"btn btn-secondary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",title:"Run all statements (Ctrl+Shift+Enter)",children:[u.jsx(kk,{className:"w-3 h-3"}),"Run All (",d.length,")"]})]}),u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:S,className:"btn btn-secondary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",title:"Abrir .sql",children:[u.jsx(mc,{className:"w-3 h-3"}),"Abrir"]}),u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,className:"btn btn-secondary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",title:"Guardar .sql",children:[u.jsx(cf,{className:"w-3 h-3"}),"Guardar"]}),u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"btn btn-secondary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",title:"Visual Query Builder (Ctrl+Shift+B)",children:[u.jsx(xk,{className:"w-3 h-3"}),"Builder"]}),e.isExecuting&&u.jsxs(se.div,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},exit:{opacity:0,x:-5},className:"flex items-center gap-1.5 text-matrix-400 ml-1",children:[u.jsx(Yv,{className:"w-3.5 h-3.5 animate-spin"}),u.jsx("span",{className:"text-xs font-medium",children:"Executing..."})]})]}),u.jsxs("div",{className:"flex items-center gap-2.5 text-xs text-dark-muted/60",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Hv,{className:"w-3 h-3 text-matrix-500/70"}),u.jsx("span",{className:"text-[11px]",children:"SQL Editor"})]}),u.jsx("div",{className:"h-3 w-px bg-dark-border/30"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("kbd",{className:"text-[10px] px-1.5 py-0.5",children:"Ctrl+Enter"}),u.jsx("span",{className:"text-[11px]",children:"Run"})]}),m&&u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("kbd",{className:"text-[10px] px-1.5 py-0.5",children:"Ctrl+Shift+Enter"}),u.jsx("span",{className:"text-[11px]",children:"Run All"})]})})]})]}),u.jsx("div",{className:"flex-1 relative",children:u.jsx(g0,{height:"100%",defaultLanguage:"sql",value:e.query,onChange:f,onMount:p,theme:"queryx-dark",options:{minimap:{enabled:!1},fontSize:14,fontFamily:"JetBrains Mono, Fira Code, Consolas, monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",padding:{top:12,bottom:12},suggestOnTriggerCharacters:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},lineHeight:21,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",smoothScrolling:!0,renderLineHighlight:"line",renderWhitespace:"selection",folding:!0,foldingHighlight:!0,bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0},acceptSuggestionOnCommitCharacter:!0,acceptSuggestionOnEnter:"on",accessibilitySupport:"off",codeLens:!1,contextmenu:!0,fastScrollSensitivity:5,formatOnPaste:!1,formatOnType:!1,glyphMargin:!1,hover:{enabled:!0,delay:300},links:!1,mouseWheelZoom:!1,occurrencesHighlight:"off",overviewRulerBorder:!1,overviewRulerLanes:0,quickSuggestionsDelay:100,renderControlCharacters:!1,renderFinalNewline:"off",renderLineHighlightOnlyWhenFocus:!0,renderValidationDecorations:"on",scrollbar:{useShadows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10},selectionHighlight:!1,snippetSuggestions:"top",suggest:{filterGraceful:!0,localityBonus:!0,shareSuggestSelections:!1,showIcons:!0},suggestFontSize:13,suggestLineHeight:20,wordBasedSuggestions:"off"}})})]})}function gL(e){const t=e.trim().toUpperCase();if(!t.startsWith("SELECT")&&!t.startsWith("WITH"))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Only SELECT queries can be edited"};if(t.includes(" JOIN ")||t.includes(" INNER JOIN ")||t.includes(" LEFT JOIN ")||t.includes(" RIGHT JOIN ")||t.includes(" FULL JOIN ")||t.includes(" CROSS JOIN "))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with JOINs cannot be edited"};if(t.includes(" GROUP BY "))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with GROUP BY cannot be edited"};if(t.includes("SELECT DISTINCT"))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with DISTINCT cannot be edited"};if(t.includes(" UNION "))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with UNION cannot be edited"};const n=["COUNT(","SUM(","AVG(","MIN(","MAX("];for(const s of n)if(t.includes(s))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with aggregate functions cannot be edited"};const r=yL(e);return r.tableName?{isEditable:!0,tableName:r.tableName,schemaName:r.schemaName,primaryKeyColumns:[]}:{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Could not determine table name"}}function yL(e){const t=/FROM\s+(?:([a-zA-Z_][a-zA-Z0-9_]*|"[^"]+"|`[^`]+`)\.)?([a-zA-Z_][a-zA-Z0-9_]*|"[^"]+"|`[^`]+`)(?:\s+(?:AS\s+)?[a-zA-Z_][a-zA-Z0-9_]*)?(?:\s|$|,)/i,n=e.match(t);if(!n)return{tableName:null,schemaName:null};const r=n[1]?Sp(n[1]):null;return{tableName:Sp(n[2]),schemaName:r}}function Sp(e){return e.replace(/^["'`]|["'`]$/g,"")}function xL(e,t,n,r,s){const i=t?sn(t,s)+"."+sn(e,s):sn(e,s),a=[];for(const[l,c]of n.entries())a.push(`${sn(l,s)} = ${wc(c)}`);const o=[];for(const[l,c]of r.entries())o.push(`${sn(l,s)} = ${wc(c)}`);if(o.length===0)throw new Error("Cannot generate UPDATE without primary key values");return`UPDATE ${i}
SET ${a.join(", ")}
WHERE ${o.join(" AND ")};`}function vL(e,t,n,r){const s=t?sn(t,r)+"."+sn(e,r):sn(e,r),i=[];for(const[a,o]of n.entries())i.push(`${sn(a,r)} = ${wc(o)}`);if(i.length===0)throw new Error("Cannot generate DELETE without primary key values");return`DELETE FROM ${s}
WHERE ${i.join(" AND ")};`}function sn(e,t){switch(t){case"mysql":return`\`${e}\``;case"postgresql":case"sqlite":case"sqlserver":return`"${e}"`;default:return`"${e}"`}}function wc(e){return e==null?"NULL":typeof e=="string"?`'${e.replace(/'/g,"''")}'`:typeof e=="boolean"?e?"TRUE":"FALSE":typeof e=="number"?String(e):e instanceof Date?`'${e.toISOString()}'`:`'${JSON.stringify(e).replace(/'/g,"''")}'`}function Qo(e){var t;switch(e.type){case"Null":return null;case"Bool":case"Int":case"Float":case"Uuid":case"Date":case"Time":case"DateTime":return(t=e.value)!=null?t:null;case"String":return e.value;case"Json":return e.value;case"Bytes":return(e.value||[]).map(n=>String(n)).join(",");case"Array":return JSON.stringify(e.value.map(n=>Qo(n)));default:return null}}function Ep(e,t){if(e==null)return"";const n=typeof e=="string"?e:JSON.stringify(e);return n.includes(t)||n.includes(`
`)||n.includes("\r")||n.includes('"')?`"${n.replace(/"/g,'""')}"`:n}function bL(e,t=","){const n=e.columns.map(s=>Ep(s.name,t)).join(t),r=e.rows.map(s=>s.map(i=>Ep(Qo(i),t)).join(t));return[n,...r].join(`
`)}function ga(e,t){return t==="mysql"?`\`${e}\``:`"${e}"`}function wL(e,t){return e==null?"NULL":typeof e=="number"?String(e):typeof e=="boolean"?e?"TRUE":"FALSE":`'${(typeof e=="string"?e:JSON.stringify(e)).replace(/'/g,"''")}'`}function SL(e,t,n){const r=(n==null?void 0:n.schema)||null,s=(n==null?void 0:n.table)||null,i=s?r?`${ga(r,t)}.${ga(s,t)}`:`${ga(s,t)}`:"/* set table name */",a=e.columns.map(l=>ga(l.name,t)).join(", ");return e.rows.map(l=>{const c=l.map(d=>wL(Qo(d))).join(", ");return`INSERT INTO ${i} (${a}) VALUES (${c});`}).join(`
`)}function EL(e){const t=e.columns.map(r=>r.name),n=e.rows.map(r=>r.map(s=>{const i=Qo(s);return typeof i=="object"&&i!==null?JSON.stringify(i):i}));return{columns:t,rows:n}}class Sc{constructor(t){this.engine=t}compile(t){const n=[];return n.push(this.compileSelect(t.select)),n.push(this.compileFrom(t.from)),t.joins.length>0&&n.push(this.compileJoins(t.joins)),t.where&&t.where.conditions.length>0&&n.push(this.compileWhere(t.where)),t.groupBy.length>0&&n.push(this.compileGroupBy(t.groupBy)),t.orderBy.length>0&&n.push(this.compileOrderBy(t.orderBy)),t.limit!==void 0&&t.limit>0&&n.push(this.compileLimit(t.limit)),n.join(`
`)+";"}compileSelect(t){return t.length===0?"SELECT *":`SELECT ${t.map(r=>{const s=this.quoteIdentifier(r.column),i=r.table?`${this.quoteIdentifier(r.table)}.`:"",a=r.alias?` AS ${this.quoteIdentifier(r.alias)}`:"";return`${i}${s}${a}`}).join(", ")}`}compileFrom(t){const n=this.formatTableName(t),r=t.alias?` AS ${this.quoteIdentifier(t.alias)}`:"";return`FROM ${n}${r}`}compileJoins(t){return t.map(n=>{const r=this.formatTableName(n.table),s=n.table.alias?` AS ${this.quoteIdentifier(n.table.alias)}`:"",i=`${this.quoteIdentifier(n.on.leftTable)}.${this.quoteIdentifier(n.on.leftColumn)}`,a=`${this.quoteIdentifier(n.on.rightTable)}.${this.quoteIdentifier(n.on.rightColumn)}`;return`${n.type} JOIN ${r}${s} ON ${i} = ${a}`}).join(`
`)}compileWhere(t){const n=this.compileConditionGroup(t);return n?`WHERE ${n}`:""}compileConditionGroup(t){return t.conditions.map(r=>{if("operator"in r&&r.operator==="AND"||r.operator==="OR"){const s=this.compileConditionGroup(r);return s?`(${s})`:""}else return this.compileCondition(r)}).filter(r=>r!=="").join(` ${t.operator} `)}compileCondition(t){const n=`${this.quoteIdentifier(t.column.table)}.${this.quoteIdentifier(t.column.column)}`;switch(t.operator){case"IS NULL":return`${n} IS NULL`;case"IS NOT NULL":return`${n} IS NOT NULL`;case"IN":if(!t.values||t.values.length===0)return"";const r=t.values.map(s=>this.formatValue(s)).join(", ");return`${n} IN (${r})`;case"LIKE":return`${n} LIKE ${this.formatValue(t.value)}`;default:return`${n} ${t.operator} ${this.formatValue(t.value)}`}}compileGroupBy(t){return`GROUP BY ${t.map(r=>`${r.table?`${this.quoteIdentifier(r.table)}.`:""}${this.quoteIdentifier(r.column)}`).join(", ")}`}compileOrderBy(t){return`ORDER BY ${t.map(r=>`${`${r.column.table?`${this.quoteIdentifier(r.column.table)}.`:""}${this.quoteIdentifier(r.column.column)}`} ${r.direction}`).join(", ")}`}compileLimit(t){return`LIMIT ${t}`}formatTableName(t){return t.schema?`${this.quoteIdentifier(t.schema)}.${this.quoteIdentifier(t.name)}`:this.quoteIdentifier(t.name)}quoteIdentifier(t){switch(this.engine){case"postgresql":return`"${t}"`;case"mysql":return`\`${t}\``;case"sqlite":return`"${t}"`;default:return t}}formatValue(t){return t==null?"NULL":typeof t=="string"?`'${t.replace(/'/g,"''")}'`:typeof t=="boolean"?t?"TRUE":"FALSE":String(t)}}const bo=100;function Ec(e){return e.type==="String"?e.value.length>bo:e.type==="Json"?JSON.stringify(e.value).length>bo:!1}function Er(e){return e.type==="Null"?"NULL":e.type==="Bool"?e.value?"true":"false":e.type==="Bytes"?`[${e.value.length} bytes]`:e.type==="Json"?JSON.stringify(e.value,null,2):e.type==="Array"?JSON.stringify(e.value.map(t=>Er(t)),null,2):String(e.value)}function b0(e){const t=Er(e);return t.length>bo?t.substring(0,bo)+"...":t}function _s(e){return e.type==="Null"?null:e.type==="Bool"||e.type==="Int"||e.type==="Float"||e.type==="String"||e.type==="Json"||e.type==="Date"||e.type==="Time"||e.type==="DateTime"||e.type==="Uuid"||e.type==="Bytes"||e.type==="Array"?e.value:null}function NL(e){if(e.type==="Json")return"json";if(e.type==="String"){const t=e.value.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]"))try{return JSON.parse(t),"json"}catch{}if(t.startsWith("<")&&t.includes(">"))return"html"}return"plaintext"}function CL({value:e,columnName:t,onClose:n}){const[r,s]=b.useState(!1),i=Er(e),a=NL(e),o=b.useCallback(()=>{navigator.clipboard.writeText(i),s(!0),setTimeout(()=>s(!1),2e3)},[i]);return u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:n,children:u.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-dark-surface border border-dark-border/50 rounded-lg shadow-2xl w-[800px] max-w-[90vw] h-[600px] max-h-[80vh] flex flex-col",onClick:l=>l.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-dark-border/50 bg-dark-elevated/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-semibold text-matrix-400 text-sm",children:t}),u.jsxs("span",{className:"text-xs text-dark-muted bg-dark-surface/50 px-2 py-0.5 rounded border border-dark-border/30",children:[e.type,"  ",i.length," chars"]})]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsxs(se.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:o,className:"btn btn-ghost px-2 py-1 text-xs flex items-center gap-1",children:[r?u.jsx(af,{className:"w-3.5 h-3.5 text-matrix-400"}):u.jsx(Qv,{className:"w-3.5 h-3.5"}),r?"Copied!":"Copy"]}),u.jsx(se.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"btn btn-ghost p-1",children:u.jsx(Vt,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"flex-1",children:u.jsx(g0,{height:"100%",language:a,value:i,theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},fontSize:13,fontFamily:"JetBrains Mono, Fira Code, monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",padding:{top:12}}})})]})})}function kL({onModal:e,onPin:t,onCsv:n,onXlsx:r,onInsert:s}){const[i,a]=b.useState(!1),o=b.useRef(null),l=b.useRef(null),c=b.useRef(null),[d,m]=b.useState(null);return b.useEffect(()=>{const f=y=>{var p,h;const v=y.target,w=(p=o.current)==null?void 0:p.contains(v),x=(h=c.current)==null?void 0:h.contains(v);!w&&!x&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:o,className:"relative",children:[u.jsxs("button",{ref:l,onClick:()=>{var y;a(v=>!v);const f=(y=l.current)==null?void 0:y.getBoundingClientRect();f&&m({left:Math.min(f.left,window.innerWidth-160),top:f.bottom+4})},className:"btn btn-secondary px-2 py-1 text-xs flex items-center gap-1",title:"Ms acciones",children:[u.jsx(yn,{className:"w-3 h-3"}),"+"]}),i&&d&&vr.createPortal(u.jsxs("div",{ref:c,className:"fixed w-40 bg-dark-surface border border-dark-border/40 rounded shadow-xl pointer-events-auto",style:{left:d.left,top:d.top,zIndex:1e5},children:[u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),e()},children:"Modal"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),t()},children:"Pinear"}),u.jsx("div",{className:"h-px bg-dark-border/30 my-1"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),n()},children:"CSV"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),r()},children:"Excel"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),s()},children:"INSERT"})]}),document.body)]})}function TL({x:e,y:t,cell:n,columnName:r,isEditMode:s,canEdit:i,onClose:a,onViewContent:o,onStartEdit:l,onDeleteRow:c}){const[d,m]=b.useState(!1),f=b.useCallback(()=>{navigator.clipboard.writeText(Er(n)),m(!0),setTimeout(()=>{m(!1),a()},500)},[n,a]);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:a}),u.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},className:"fixed z-50 bg-dark-surface/95 backdrop-blur-sm border border-dark-border/50 rounded-lg shadow-xl py-1 min-w-[160px]",style:{left:e,top:t},onClick:y=>y.stopPropagation(),children:[u.jsx("div",{className:"px-3 py-1.5 text-xs text-dark-muted/70 border-b border-dark-border/30 mb-1",children:r}),u.jsxs("button",{onClick:f,className:"w-full px-3 py-1.5 text-left text-xs hover:bg-dark-hover/50 flex items-center gap-2 transition-colors",children:[d?u.jsx(af,{className:"w-3.5 h-3.5 text-matrix-400"}):u.jsx(Qv,{className:"w-3.5 h-3.5"}),d?"Copied!":"Copy Value"]}),Ec(n)&&u.jsx("button",{onClick:o,className:"w-full px-3 py-1.5 text-left text-xs hover:bg-dark-hover/50 transition-colors",children:"View Full Content"}),i&&s&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-dark-border/30 my-1"}),u.jsxs("button",{onClick:l,className:"w-full px-3 py-1.5 text-left text-xs hover:bg-dark-hover/50 flex items-center gap-2 transition-colors",children:[u.jsx(Jv,{className:"w-3.5 h-3.5"}),"Edit Cell"]}),u.jsxs("button",{onClick:c,className:"w-full px-3 py-1.5 text-left text-xs hover:bg-red-900/30 text-accent-red flex items-center gap-2 transition-colors",children:[u.jsx(Sr,{className:"w-3.5 h-3.5"}),"Delete Row"]})]})]})]})}function jL({editedRowsCount:e,statements:t,onConfirm:n,onCancel:r}){return u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:r,children:u.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-dark-surface border border-dark-border/50 rounded-lg shadow-2xl w-[700px] max-w-[90vw] max-h-[80vh] flex flex-col",onClick:s=>s.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-dark-border/50 bg-dark-elevated/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Fv,{className:"w-5 h-5 text-yellow-500"}),u.jsx("h2",{className:"text-lg font-semibold",children:"Confirm Changes"})]}),u.jsx("button",{onClick:r,className:"btn btn-ghost p-1",children:u.jsx(Vt,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[u.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700/30 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-yellow-200",children:["You are about to update ",u.jsx("span",{className:"font-bold",children:e})," row",e>1?"s":""," in the database."]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold mb-2 text-dark-muted",children:"SQL Statements to Execute:"}),u.jsx("div",{className:"bg-dark-bg/50 border border-dark-border/30 rounded-lg p-3 max-h-[300px] overflow-auto",children:u.jsx("pre",{className:"text-xs font-mono text-dark-text whitespace-pre-wrap",children:t.join(`

`)})})]}),u.jsx("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-3",children:u.jsxs("p",{className:"text-xs text-blue-200",children:[u.jsx("strong",{children:"Note:"})," These changes will be applied immediately and cannot be undone from this interface. Make sure you have backups if needed."]})})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 px-4 py-3 border-t border-dark-border/50 bg-dark-elevated/50",children:[u.jsx("button",{onClick:r,className:"btn btn-ghost px-4 py-2",children:"Cancel"}),u.jsxs("button",{onClick:n,className:"btn btn-primary px-4 py-2 flex items-center gap-2",children:[u.jsx(cf,{className:"w-4 h-4"}),"Confirm & Save"]})]})]})})}function LL({statement:e,onConfirm:t,onCancel:n}){return u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:n,children:u.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-dark-surface border border-red-700/50 rounded-lg shadow-2xl w-[600px] max-w-[90vw] flex flex-col",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-red-700/50 bg-red-900/20",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Sr,{className:"w-5 h-5 text-red-400"}),u.jsx("h2",{className:"text-lg font-semibold text-red-400",children:"Confirm Delete"})]}),u.jsx("button",{onClick:n,className:"btn btn-ghost p-1",children:u.jsx(Vt,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{className:"bg-red-900/20 border border-red-700/30 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-red-200",children:[u.jsx("strong",{children:"Warning:"})," You are about to permanently delete this row from the database."]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold mb-2 text-dark-muted",children:"SQL Statement to Execute:"}),u.jsx("div",{className:"bg-dark-bg/50 border border-dark-border/30 rounded-lg p-3",children:u.jsx("pre",{className:"text-xs font-mono text-dark-text whitespace-pre-wrap",children:e})})]}),u.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700/30 rounded-lg p-3",children:u.jsxs("p",{className:"text-xs text-yellow-200",children:[u.jsx("strong",{children:"Note:"})," This action cannot be undone. Make sure you have backups if needed."]})})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 px-4 py-3 border-t border-red-700/50 bg-red-900/10",children:[u.jsx("button",{onClick:n,className:"btn btn-ghost px-4 py-2",children:"Cancel"}),u.jsxs("button",{onClick:t,className:"btn bg-red-600 hover:bg-red-700 text-white px-4 py-2 flex items-center gap-2",children:[u.jsx(Sr,{className:"w-4 h-4"}),"Confirm Delete"]})]})]})})}function AL({value:e,isEditing:t,isModified:n,onStartEdit:r,onSave:s,onCancel:i}){const[a,o]=b.useState(Er(e));return b.useEffect(()=>{t&&o(Er(e))},[t,e]),t?u.jsx("div",{className:"flex items-center gap-1",children:u.jsx("input",{type:"text",value:a,onChange:l=>o(l.target.value),onKeyDown:l=>{l.key==="Enter"?s(a):l.key==="Escape"&&i()},onBlur:()=>s(a),autoFocus:!0,className:"flex-1 bg-dark-surface border border-matrix-500 rounded px-2 py-0.5 text-xs focus:outline-none focus:ring-1 focus:ring-matrix-400"})}):u.jsx("div",{className:xe("truncate",n&&"text-matrix-400 font-semibold"),onDoubleClick:r,children:b0(e)})}function mf({tab:e}){const{executeQuery:t}=rt(),{connections:n}=_e(),{result:r,error:s,isExecuting:i,connectionId:a,query:o}=e,[l,c]=b.useState(null),[d,m]=b.useState(null),[f,y]=b.useState(!1),[v,w]=b.useState(new Map),[x,p]=b.useState(null),[h,g]=b.useState([]),[,S]=b.useState(!1),[E,C]=b.useState(!1),[k,N]=b.useState([]),[M,T]=b.useState(!1),[B,X]=b.useState(""),[,Q]=b.useState(null),[L,j]=b.useState(""),[P,J]=b.useState(null),R=b.useMemo(()=>{if(!r)return[];let $=r.rows.map((F,G)=>({row:F,index:G}));if(L.trim()){const F=L.toLowerCase();$=$.filter(({row:G})=>G.some(oe=>Er(oe).toLowerCase().includes(F)))}return P&&$.sort((F,G)=>{const oe=F.row[P.key],Z=G.row[P.key],le=_s(oe),je=_s(Z);if(le===je)return 0;if(le===null)return 1;if(je===null)return-1;const Re=le<je?-1:1;return P.direction==="asc"?Re:-Re}),$},[r,L,P]),O=$=>{J(F=>(F==null?void 0:F.key)===$?F.direction==="asc"?{key:$,direction:"desc"}:null:{key:$,direction:"asc"})},_=b.useMemo(()=>!o||!r?null:gL(o),[o,r]);b.useEffect(()=>{async function $(){var F;if(!(_!=null&&_.isEditable)||!_.tableName||!a){g([]);return}S(!0);try{const oe=((F=(await Ge.getTableInfo(a,_.tableName,_.schemaName||void 0)).primary_key)==null?void 0:F.columns)||[];g(oe)}catch(G){console.error("Failed to load primary keys:",G),g([])}finally{S(!1)}}$()},[_,a]);const z=(_==null?void 0:_.isEditable)&&h.length>0,U=n.find($=>$.id===a),A=(U==null?void 0:U.engine)||"postgresql",[D,V]=b.useState([{column:"",operator:"=",value:""}]),[K,H]=b.useState("AND"),ee=b.useCallback(()=>{V($=>[...$,{column:"",operator:"=",value:""}])},[]),ae=b.useCallback($=>{V(F=>F.filter((G,oe)=>oe!==$))},[]),ce=b.useCallback(($,F)=>{V(G=>G.map((oe,Z)=>Z===$?{...oe,...F}:oe))},[]),Ae=b.useCallback($=>{switch(A){case"mysql":return`\`${$}\``;case"postgresql":case"sqlite":default:return`"${$}"`}},[A]),Ve=b.useCallback(($,F)=>$?`${Ae($)}.${Ae(F)}`:Ae(F),[Ae]),fe=b.useCallback(($,F)=>{const G=$.trim();if(G.length===0)return null;const oe=(F||"").toLowerCase();if(oe.includes("int")||oe.includes("decimal")||oe.includes("numeric")||oe.includes("float")||oe.includes("double")){const Z=Number(G);return isNaN(Z)?G:Z}if(oe.includes("bool")){const Z=G.toLowerCase();return Z==="true"||Z==="1"||Z==="t"}return G},[]),at=b.useCallback(()=>{if(!(_!=null&&_.tableName)||!r)return"";const $=new Sc(A),F={operator:K,conditions:[]},G=_.tableName;return D.forEach(Z=>{if(!Z.column||!Z.operator)return;const le=r.columns.find(Re=>Re.name===Z.column),je={column:{table:G,column:Z.column},operator:Z.operator};if(!(Z.operator==="IS NULL"||Z.operator==="IS NOT NULL"))if(Z.operator==="IN"){const Re=Z.value.split(",").map(Ut=>Ut.trim()).filter(Boolean);je.values=Re.map(Ut=>fe(Ut,le==null?void 0:le.data_type))}else je.value=fe(Z.value,le==null?void 0:le.data_type);F.conditions.push(je)}),F.conditions.length===0?"":$.compileWhere(F)},[A,K,D,_,r,fe]),Kn=b.useCallback(async()=>{var Re;if(!r)return;const $=at();if(!$)return;const F=(_==null?void 0:_.tableName)||null,G=(_==null?void 0:_.schemaName)||null;if(!F)return;const oe=Ve(G,F);let Z="";const le=o.match(/LIMIT\s+\d+/i);le?Z=le[0]:(Re=r.pagination)!=null&&Re.page_size&&(Z=`LIMIT ${r.pagination.page_size}`);const je=[`SELECT * FROM ${oe}`,$,Z].filter(Boolean).join(`
`)+";";await t(e.id,je)},[r,at,_,Ve,o,t,e.id]),Gn=$=>{var F;t(e.id,void 0,$,((F=r==null?void 0:r.pagination)==null?void 0:F.page_size)||50)},bs=b.useCallback(async()=>{if(!r)return;const $=bL(r),F=await Ia({filters:[{name:"CSV",extensions:["csv"]}],defaultPath:"query-results.csv"});F&&await bc(F,$)},[r]),qe=b.useCallback(async()=>{if(!r)return;const $=SL(r,A,{schema:(_==null?void 0:_.schemaName)||null,table:(_==null?void 0:_.tableName)||null}),F=await Ia({filters:[{name:"SQL",extensions:["sql"]}],defaultPath:"insert-data.sql"});F&&await bc(F,$)},[r,A,_]),Ui=b.useCallback(async()=>{if(!r)return;const{columns:$,rows:F}=EL(r),G=await Ia({filters:[{name:"Excel",extensions:["xlsx"]}],defaultPath:"query-results.xlsx"});G&&await ET.exportXlsx($,F,G)},[r]),Ko=b.useCallback(($,F,G,oe,Z)=>{$.preventDefault(),c({x:$.clientX,y:$.clientY,cell:F,columnName:G,rowIndex:oe,columnIndex:Z})},[]),Yn=b.useCallback(($,F)=>{Ec($)&&m({cell:$,columnName:F})},[]),ws=b.useCallback(()=>{f&&(w(new Map),p(null)),y(!f)},[f]),Ss=b.useCallback(($,F)=>{f&&p({rowIndex:$,columnIndex:F})},[f]),C0=b.useCallback(($,F,G)=>{if(!r)return;const oe=r.rows[$][F];let Z;if(G.trim().toUpperCase()==="NULL"||G.trim()==="")Z={type:"Null"};else if(oe.type==="Bool"){const le=G.toLowerCase();Z={type:"Bool",value:le==="true"||le==="1"||le==="t"}}else if(oe.type==="Int"){const le=parseInt(G);Z=isNaN(le)?oe:{type:"Int",value:le}}else if(oe.type==="Float"){const le=parseFloat(G);Z=isNaN(le)?oe:{type:"Float",value:le}}else if(oe.type==="Json")try{Z={type:"Json",value:JSON.parse(G)}}catch{Z={type:"String",value:G}}else Z={type:"String",value:G};w(le=>{const je=new Map(le);return je.has($)||je.set($,new Map),je.get($).set(F,Z),je})},[r]),k0=b.useCallback(($,F)=>{const G=v.get($);return G!=null&&G.has(F)?G.get(F):(r==null?void 0:r.rows[$][F])||{type:"Null"}},[v,r]),gf=v.size>0,T0=b.useCallback(()=>{if(!r||!_||!z)return;const $=[];for(const[F,G]of v.entries()){const oe=r.rows[F],Z=new Map;for(const[Re,Ut]of G.entries()){const Es=r.columns[Re].name;Z.set(Es,_s(Ut))}const le=new Map;for(const Re of h){const Ut=r.columns.findIndex(Es=>Es.name===Re);Ut>=0&&le.set(Re,_s(oe[Ut]))}const je=xL(_.tableName,_.schemaName,Z,le,A);$.push(je)}N($),C(!0)},[r,_,z,v,h,A]),j0=b.useCallback(async()=>{if(!(!r||!_||!z)){C(!1);try{for(const $ of k)await t(e.id,$);await t(e.id,o),w(new Map),y(!1),p(null),N([])}catch($){console.error("Failed to save changes:",$),alert("Failed to save changes: "+String($))}}},[r,_,z,k,t,e.id,o]),L0=b.useCallback(async $=>{if(!r||!_||!z)return;const F=r.rows[$],G=new Map;for(const Z of h){const le=r.columns.findIndex(je=>je.name===Z);le>=0&&G.set(Z,_s(F[le]))}const oe=vL(_.tableName,_.schemaName,G,A);X(oe),Q($),T(!0)},[r,_,z,h,A]),A0=b.useCallback(async()=>{if(B){T(!1);try{await t(e.id,B),await t(e.id,o),X(""),Q(null)}catch($){console.error("Failed to delete row:",$),alert("Failed to delete row: "+String($))}}},[B,t,e.id,o]);return i?u.jsx("div",{className:"h-full flex items-center justify-center bg-dark-bg/50 text-dark-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx(se.div,{className:"w-8 h-8 border-2 border-matrix-500 border-t-transparent rounded-full mx-auto mb-2",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),u.jsx("p",{className:"text-sm",children:"Executing query..."})]})}):s?u.jsx("div",{className:"h-full flex items-center justify-center p-4 bg-dark-bg/50",children:u.jsx(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-2xl w-full",children:u.jsx("div",{className:"bg-accent-red/10 border border-accent-red/30 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Fv,{className:"w-5 h-5 text-accent-red flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm font-semibold text-accent-red mb-2",children:"Query Error"}),u.jsx("pre",{className:"text-xs text-dark-text/90 font-mono bg-dark-surface/50 p-3 rounded border border-dark-border/30 whitespace-pre-wrap overflow-auto max-h-[200px]",children:s})]})]})})})}):r?u.jsxs("div",{className:"h-full flex flex-col bg-dark-bg/50",children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-b border-dark-border/30 bg-dark-surface/50 backdrop-blur-sm text-xs",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1 text-dark-muted/80",children:[u.jsx(Lk,{className:"w-3.5 h-3.5"}),u.jsxs("span",{children:[r.row_count," rows"]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-dark-muted/80",children:[u.jsx(lf,{className:"w-3.5 h-3.5"}),u.jsxs("span",{children:[r.execution_time_ms,"ms"]})]}),r.affected_rows!==void 0&&u.jsxs("span",{className:"text-matrix-400 font-medium",children:[r.affected_rows," rows affected"]}),_&&!_.isEditable&&u.jsx("span",{className:"text-dark-muted/60 text-[10px]",children:_.reason})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(kL,{onModal:()=>Un.getState().setPanelState(e.id,"modal"),onPin:()=>Un.getState().setPanelState(e.id,"pinned"),onCsv:bs,onXlsx:Ui,onInsert:qe}),z&&u.jsxs("div",{className:"flex items-center gap-2",children:[f&&gf&&u.jsxs("span",{className:"text-matrix-400 text-[10px]",children:[v.size," row(s) modified"]}),f?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:T0,disabled:!gf,className:"btn btn-primary px-2 py-1 text-xs flex items-center gap-1 disabled:opacity-50",children:[u.jsx(cf,{className:"w-3 h-3"}),"Save"]}),u.jsxs("button",{onClick:ws,className:"btn btn-ghost px-2 py-1 text-xs flex items-center gap-1",children:[u.jsx(Kr,{className:"w-3 h-3"}),"Cancel"]})]}):u.jsxs("button",{onClick:ws,className:"btn btn-secondary px-2 py-1 text-xs flex items-center gap-1",children:[u.jsx(Jv,{className:"w-3 h-3"}),"Edit"]})]})]})]}),u.jsxs("div",{className:"flex-1 overflow-auto",children:[u.jsxs("div",{className:"px-3 py-2 border-b border-dark-border/30 bg-dark-surface/40",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("select",{value:K,onChange:$=>H($.target.value),className:"bg-dark-surface border border-dark-border/50 rounded px-2 py-1 text-xs",children:[u.jsx("option",{value:"AND",children:"AND"}),u.jsx("option",{value:"OR",children:"OR"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(hc,{className:"w-3 h-3 absolute left-2 top-1/2 -translate-y-1/2 text-dark-muted"}),u.jsx("input",{type:"text",value:L,onChange:$=>j($.target.value),placeholder:"Buscar en resultados...",className:"pl-7 pr-2 py-1 bg-dark-surface border border-dark-border/50 rounded text-xs focus:outline-none focus:border-matrix-500 w-48 transition-all focus:w-64"})]}),u.jsx("div",{className:"w-px h-4 bg-dark-border/30 mx-1"}),u.jsxs("button",{onClick:ee,className:"btn btn-secondary px-2 py-1 text-xs flex items-center gap-1",children:[u.jsx(yn,{className:"w-3 h-3"}),"Filtro SQL"]}),u.jsxs("button",{onClick:Kn,disabled:!(_!=null&&_.tableName),className:"btn btn-primary px-2 py-1 text-xs flex items-center gap-1 disabled:opacity-50",children:[u.jsx(hc,{className:"w-3 h-3"}),"Aplicar filtros"]})]}),u.jsx("div",{className:"space-y-2",children:D.map(($,F)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:$.column,onChange:G=>ce(F,{column:G.target.value}),className:"bg-dark-surface border border-dark-border/50 rounded px-2 py-1 text-xs min-w-[160px]",children:[u.jsx("option",{value:"",children:"Columna"}),r.columns.map(G=>u.jsx("option",{value:G.name,children:G.name},G.name))]}),u.jsxs("select",{value:$.operator,onChange:G=>ce(F,{operator:G.target.value}),className:"bg-dark-surface border border-dark-border/50 rounded px-2 py-1 text-xs min-w-[120px]",children:[u.jsx("option",{value:"=",children:"="}),u.jsx("option",{value:"!=",children:"!="}),u.jsx("option",{value:">",children:">"}),u.jsx("option",{value:"<",children:"<"}),u.jsx("option",{value:">=",children:">="}),u.jsx("option",{value:"<=",children:"<="}),u.jsx("option",{value:"LIKE",children:"LIKE"}),u.jsx("option",{value:"IN",children:"IN"}),u.jsx("option",{value:"IS NULL",children:"IS NULL"}),u.jsx("option",{value:"IS NOT NULL",children:"IS NOT NULL"})]}),$.operator!=="IS NULL"&&$.operator!=="IS NOT NULL"&&u.jsx("input",{type:"text",placeholder:"Valor",value:$.value,onChange:G=>ce(F,{value:G.target.value}),className:"flex-1 bg-dark-surface border border-dark-border/50 rounded px-2 py-1 text-xs"}),u.jsx("button",{onClick:()=>ae(F),className:"btn btn-ghost p-1",children:u.jsx(Xv,{className:"w-3 h-3"})})]},F))})]}),u.jsxs("table",{className:"w-full text-xs",children:[u.jsx("thead",{className:"sticky top-0 bg-dark-surface/90 backdrop-blur-sm z-10",children:u.jsx("tr",{children:r.columns.map(($,F)=>{const G=h.includes($.name);return u.jsx("th",{className:"px-3 py-2 text-left font-semibold text-matrix-400/90 border-b border-dark-border/50 whitespace-nowrap cursor-pointer hover:bg-dark-surface/50 transition-colors select-none group",onClick:()=>O(F),children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[G&&u.jsx(Gv,{className:"w-3 h-3 text-yellow-500"}),$.name,u.jsx("span",{className:"text-[10px] text-dark-muted/60 font-normal",children:$.data_type}),(P==null?void 0:P.key)===F?P.direction==="asc"?u.jsx(Bv,{className:"w-3 h-3 text-matrix-500"}):u.jsx(Vv,{className:"w-3 h-3 text-matrix-500"}):u.jsx(yk,{className:"w-3 h-3 text-dark-muted/30 opacity-0 group-hover:opacity-100 transition-opacity"})]})},F)})})}),u.jsx("tbody",{children:R.map(({row:$,index:F})=>{const G=v.has(F);return u.jsx("tr",{className:xe("hover:bg-dark-surface/30 border-b border-dark-border/20 transition-colors",G&&"bg-matrix-900/10"),children:$.map((oe,Z)=>{var yf,xf;const le=((yf=r.columns[Z])==null?void 0:yf.name)||`Column ${Z}`,je=Ec(oe),Re=k0(F,Z),Ut=((xf=v.get(F))==null?void 0:xf.has(Z))||!1,Es=(x==null?void 0:x.rowIndex)===F&&(x==null?void 0:x.columnIndex)===Z;return u.jsx("td",{className:xe("px-3 py-1.5 font-mono max-w-[300px]",Re.type==="Null"&&"text-dark-muted/60 italic",je&&!f&&"cursor-pointer hover:bg-matrix-900/20",f&&"cursor-pointer hover:bg-dark-surface/50"),onContextMenu:Go=>Ko(Go,Re,le,F,Z),onDoubleClick:()=>{f?Ss(F,Z):Yn(Re,le)},title:je&&!f?"Double-click to view full content":void 0,children:f?u.jsx(AL,{value:Re,isEditing:Es,isModified:Ut,onStartEdit:()=>Ss(F,Z),onSave:Go=>{C0(F,Z,Go),p(null)},onCancel:()=>p(null)}):u.jsx("div",{className:"truncate",children:b0(Re)})},Z)})},F)})})]})]}),r.pagination&&u.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-t border-dark-border/30 bg-dark-surface/50 backdrop-blur-sm",children:[u.jsxs("span",{className:"text-xs text-dark-muted/70",children:["Page ",r.pagination.page," of ",r.pagination.total_pages||"?",r.pagination.total_rows&&` (${r.pagination.total_rows} total)`]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:()=>Gn(r.pagination.page-1),disabled:!r.pagination.has_previous,className:"btn btn-ghost p-1 disabled:opacity-30",children:u.jsx(Wv,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>Gn(r.pagination.page+1),disabled:!r.pagination.has_next,className:"btn btn-ghost p-1 disabled:opacity-30",children:u.jsx(of,{className:"w-4 h-4"})})]})]}),l&&u.jsx(TL,{x:l.x,y:l.y,cell:l.cell,columnName:l.columnName,rowIndex:l.rowIndex,columnIndex:l.columnIndex,isEditMode:f,canEdit:z||!1,onClose:()=>c(null),onViewContent:()=>{m({cell:l.cell,columnName:l.columnName}),c(null)},onStartEdit:()=>{Ss(l.rowIndex,l.columnIndex),c(null)},onDeleteRow:()=>{L0(l.rowIndex),c(null)}}),d&&u.jsx(CL,{value:d.cell,columnName:d.columnName,onClose:()=>m(null)}),E&&u.jsx(jL,{editedRowsCount:v.size,statements:k,onConfirm:j0,onCancel:()=>{C(!1),N([])}}),M&&u.jsx(LL,{statement:B,onConfirm:A0,onCancel:()=>{T(!1),X(""),Q(null)}})]}):u.jsx("div",{className:"h-full flex items-center justify-center bg-dark-bg/50 text-dark-muted/60",children:u.jsx("p",{className:"text-sm",children:"Run a query to see results"})})}function RL({results:e,totalExecutionTimeMs:t,connectionId:n,tabId:r}){const[s,i]=b.useState(0),a=e[s],o=e.filter(d=>d.success).length,l=e.filter(d=>!d.success).length;function c({onModal:d,onPin:m}){const[f,y]=b.useState(!1),v=b.useRef(null),w=b.useRef(null),x=b.useRef(null),[p,h]=b.useState(null);return b.useEffect(()=>{const g=S=>{var N,M;const E=S.target,C=(N=v.current)==null?void 0:N.contains(E),k=(M=x.current)==null?void 0:M.contains(E);!C&&!k&&y(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),u.jsxs("div",{ref:v,className:"relative",children:[u.jsxs("button",{ref:w,onClick:()=>{var S;y(E=>!E);const g=(S=w.current)==null?void 0:S.getBoundingClientRect();g&&h({left:Math.min(g.left,window.innerWidth-160),top:g.bottom+4})},className:"btn btn-secondary px-2 py-1 text-xs flex items-center gap-1",title:"Ms acciones",children:[u.jsx(yn,{className:"w-3 h-3"}),"+"]}),f&&p&&vr.createPortal(u.jsxs("div",{ref:x,className:"fixed w-36 bg-dark-surface border border-dark-border/40 rounded shadow-xl",style:{left:p.left,top:p.top,zIndex:1e5},children:[u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{y(!1),d()},children:"Modal"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{y(!1),m()},children:"Pinear"})]}),document.body)]})}return u.jsxs("div",{className:"h-full flex flex-col bg-dark-bg",children:[u.jsxs("div",{className:"flex items-center gap-4 px-3 py-2 border-b border-dark-border/30 bg-dark-surface/50 backdrop-blur-sm text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-matrix-400",children:[u.jsx(fa,{className:"w-3.5 h-3.5"}),u.jsxs("span",{className:"font-medium",children:[o," succeeded"]})]}),l>0&&u.jsxs("div",{className:"flex items-center gap-1.5 text-accent-red",children:[u.jsx(Kr,{className:"w-3.5 h-3.5"}),u.jsxs("span",{className:"font-medium",children:[l," failed"]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-dark-muted/80",children:[u.jsx(lf,{className:"w-3.5 h-3.5"}),u.jsxs("span",{children:["Total: ",t,"ms"]})]})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsx("div",{className:"w-64 border-r border-dark-border/30 bg-dark-surface/30 overflow-y-auto",children:u.jsx("div",{className:"p-2 space-y-1",children:e.map((d,m)=>u.jsxs(se.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>i(m),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${s===m?"bg-matrix-900/30 border border-matrix-500/30":"hover:bg-dark-hover/30 border border-transparent"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.success?u.jsx(fa,{className:"w-3.5 h-3.5 text-matrix-400 flex-shrink-0"}):u.jsx(Kr,{className:"w-3.5 h-3.5 text-accent-red flex-shrink-0"}),u.jsxs("span",{className:"text-xs font-medium text-dark-text truncate",children:["Statement ",m+1]})]}),u.jsxs("div",{className:"text-[10px] text-dark-muted/70 font-mono truncate",children:[d.sql.substring(0,40),"..."]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1 text-[10px] text-dark-muted/60",children:[u.jsxs("span",{children:[d.execution_time_ms,"ms"]}),d.affected_rows!==void 0&&u.jsxs("span",{children:[" ",d.affected_rows," rows"]})]})]},m))})}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"px-4 py-2 border-b border-dark-border/30 bg-dark-elevated/50",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.success?u.jsx(fa,{className:"w-4 h-4 text-matrix-400"}):u.jsx(Kr,{className:"w-4 h-4 text-accent-red"}),u.jsxs("span",{className:"text-sm font-semibold text-dark-text",children:["Statement ",s+1]}),u.jsxs("span",{className:"text-xs text-dark-muted/70",children:[a.execution_time_ms,"ms"]}),u.jsx("div",{className:"ml-auto",children:u.jsx(c,{onModal:()=>Un.getState().setPanelState(`${r}:stmt:${s}`,"modal"),onPin:()=>Un.getState().setPanelState(`${r}:stmt:${s}`,"pinned")})})]}),u.jsx("pre",{className:"text-xs font-mono text-dark-muted/90 bg-dark-surface/50 px-2 py-1 rounded border border-dark-border/30 overflow-x-auto",children:a.sql})]}),u.jsx("div",{className:"flex-1 overflow-hidden",children:a.error?u.jsx("div",{className:"h-full flex items-center justify-center p-4",children:u.jsx("div",{className:"max-w-2xl w-full bg-accent-red/10 border border-accent-red/30 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Kr,{className:"w-5 h-5 text-accent-red flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm font-semibold text-accent-red mb-2",children:"Execution Error"}),u.jsx("pre",{className:"text-xs text-dark-text/90 font-mono whitespace-pre-wrap",children:a.error})]})]})})}):a.result?u.jsx(mf,{tab:{id:`multi-${s}`,connectionId:n,query:a.sql,result:a.result,error:null,isExecuting:!1}}):u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(fa,{className:"w-8 h-8 text-matrix-400 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-dark-text font-medium",children:"Statement executed successfully"}),a.affected_rows!==void 0&&u.jsxs("p",{className:"text-xs text-dark-muted mt-1",children:[a.affected_rows," rows affected"]})]})})})]})]})]})}function ML(){const{tabs:e,activeTabId:t,createTab:n,closeTab:r,setActiveTab:s}=rt(),{activeConnectionId:i}=_e();return u.jsxs("div",{className:"flex items-center bg-dark-surface/50 backdrop-blur-sm border-b border-dark-border/30",children:[u.jsx("div",{className:"flex-1 flex overflow-x-auto scrollbar-thin",children:u.jsx(wr,{mode:"popLayout",children:e.map((a,o)=>{const l=t===a.id;return u.jsxs(se.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.12},className:xe("group relative flex items-center gap-1.5 px-3 py-2 border-r border-dark-border/30 cursor-pointer transition-all",l?"bg-dark-bg text-matrix-400":"text-dark-muted hover:text-dark-text hover:bg-dark-hover/30"),onClick:()=>s(a.id),children:[l&&u.jsx(se.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-matrix-500 shadow-glow-sm",transition:{type:"spring",stiffness:500,damping:30}}),u.jsxs("span",{className:"text-xs font-medium whitespace-nowrap",children:["Query ",o+1]}),a.isExecuting&&u.jsx(se.span,{initial:{scale:0},animate:{scale:1},className:"w-1.5 h-1.5 rounded-full bg-matrix-500 animate-pulse-glow"}),u.jsx(se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:c=>{c.stopPropagation(),r(a.id)},className:xe("p-0.5 rounded transition-all",l?"opacity-100 hover:bg-dark-hover/50":"opacity-0 group-hover:opacity-100 hover:bg-dark-border/50"),children:u.jsx(Vt,{className:"w-3 h-3"})})]},a.id)})})}),u.jsx(se.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>i&&n(i),disabled:!i,className:"p-2 hover:bg-dark-hover/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"New Query Tab",children:u.jsx(yn,{className:"w-3.5 h-3.5 text-matrix-400"})})]})}const PL=({definition:e,onChange:t,engine:n})=>{const r=(a,o,l)=>{const c=[...e.columns];c[a]={...c[a],[o]:l},t({...e,columns:c})},s=()=>{t({...e,columns:[...e.columns,{name:"new_column",type:"VARCHAR(255)",nullable:!0,primaryKey:!1}]})},i=a=>{const o=e.columns.filter((l,c)=>c!==a);t({...e,columns:o})};return u.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Table Name"}),u.jsx("input",{type:"text",className:"input",value:e.name,onChange:a=>t({...e,name:a.target.value})})]}),e.schema!==void 0&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Schema"}),u.jsx("input",{type:"text",className:"input",value:e.schema,onChange:a=>t({...e,schema:a.target.value})})]})]}),u.jsxs("div",{className:"border rounded-md",children:[u.jsxs("div",{className:"bg-muted p-2 font-medium flex gap-2",children:[u.jsx("div",{className:"w-8"}),u.jsx("div",{className:"flex-1",children:"Name"}),u.jsx("div",{className:"w-32",children:"Type"}),u.jsx("div",{className:"w-20 text-center",children:"Nullable"}),u.jsx("div",{className:"w-20 text-center",children:"PK"}),u.jsx("div",{className:"w-32",children:"Default"}),u.jsx("div",{className:"w-8"})]}),u.jsx("div",{className:"divide-y",children:e.columns.map((a,o)=>u.jsxs("div",{className:"flex gap-2 p-2 items-center hover:bg-muted/50",children:[u.jsx("div",{className:"w-8 flex justify-center text-muted-foreground",children:o+1}),u.jsx("div",{className:"flex-1",children:u.jsx("input",{type:"text",className:"input h-8",value:a.name,onChange:l=>r(o,"name",l.target.value)})}),u.jsx("div",{className:"w-32",children:u.jsx("input",{type:"text",className:"input h-8",value:a.type,onChange:l=>r(o,"type",l.target.value)})}),u.jsx("div",{className:"w-20 flex justify-center",children:u.jsx("input",{type:"checkbox",checked:a.nullable,onChange:l=>r(o,"nullable",l.target.checked)})}),u.jsx("div",{className:"w-20 flex justify-center",children:u.jsx("input",{type:"checkbox",checked:a.primaryKey,onChange:l=>r(o,"primaryKey",l.target.checked)})}),u.jsx("div",{className:"w-32",children:u.jsx("input",{type:"text",className:"input h-8",value:a.defaultValue||"",onChange:l=>r(o,"defaultValue",l.target.value),placeholder:"NULL"})}),u.jsx("div",{className:"w-8",children:u.jsx("button",{onClick:()=>i(o),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(Ak,{className:"h-4 w-4"})})})]},o))}),u.jsx("div",{className:"p-2 border-t bg-muted/20",children:u.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-sm font-medium text-primary hover:text-primary/80",children:[u.jsx(yn,{className:"h-4 w-4"})," Add Column"]})})]})]})},w0=({isOpen:e,onClose:t,sql:n,title:r,isDangerous:s=!1,connectionId:i,onSuccess:a})=>{const[o,l]=b.useState(n),[c,d]=b.useState(!1),[m,f]=b.useState(null);if(!e)return null;const y=async()=>{d(!0),f(null);try{await Kt.executeStatement(i,o),a==null||a(),t()}catch(v){f(String(v))}finally{d(!1)}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:u.jsxs("div",{className:"w-full max-w-2xl rounded-lg border border-border bg-background shadow-xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border p-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[s&&u.jsx(gk,{className:"h-5 w-5 text-destructive"}),u.jsx("h2",{className:"text-lg font-semibold",children:r})]}),u.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-muted",children:u.jsx(Vt,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"mb-4 rounded-md border border-border bg-muted/50 p-2",children:u.jsx("textarea",{value:o,onChange:v=>l(v.target.value),className:"h-64 w-full resize-none bg-transparent font-mono text-sm focus:outline-none",spellCheck:!1})}),m&&u.jsx("div",{className:"mb-4 rounded-md bg-destructive/10 p-3 text-sm text-destructive",children:m}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:t,className:"rounded-md px-4 py-2 text-sm font-medium hover:bg-muted",disabled:c,children:"Cancel"}),u.jsxs("button",{onClick:y,className:`flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium text-white ${s?"bg-destructive hover:bg-destructive/90":"bg-primary hover:bg-primary/90"}`,disabled:c,children:[u.jsx(uf,{className:"h-4 w-4"}),c?"Executing...":"Execute"]})]})]})]})})},_L=({initialDefinition:e,engine:t,connectionId:n,onClose:r,mode:s})=>{const[i,a]=b.useState("structure"),[o,l]=b.useState(e||{name:"new_table",columns:[{name:"id",type:"INTEGER",nullable:!1,primaryKey:!0,autoIncrement:!0}],constraints:[]}),[c,d]=b.useState(!1),m=b.useMemo(()=>Qt.getAdapter(t),[t]),f=b.useMemo(()=>s==="create"?m.getCreateTableSQL(o):e?m.getAlterTableSQL(e,o):"",[m,o,s,e]);return u.jsxs("div",{className:"flex flex-col h-full bg-background text-foreground",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-2",children:[u.jsx("h1",{className:"text-xl font-bold",children:s==="create"?"Create Table":`Edit Table: ${o.name}`}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>d(!0),className:"btn btn-primary",children:"Preview SQL"}),u.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})]})]}),u.jsx("div",{className:"flex border-b border-border",children:["structure","permissions","sql","history"].map(y=>u.jsx("button",{onClick:()=>a(y),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${i===y?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),u.jsxs("div",{className:"flex-1 overflow-auto",children:[i==="structure"&&u.jsx(PL,{definition:o,onChange:l,engine:t}),i==="sql"&&u.jsx("div",{className:"p-4 h-full",children:u.jsx("textarea",{readOnly:!0,value:f,className:"w-full h-full bg-muted/50 p-4 font-mono text-sm resize-none focus:outline-none rounded-md"})}),i==="permissions"&&u.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Permissions management coming soon..."}),i==="history"&&u.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Table history coming soon..."})]}),u.jsx(w0,{isOpen:c,onClose:()=>d(!1),sql:f,title:s==="create"?"Create Table":"Alter Table",connectionId:n,isDangerous:s==="edit",onSuccess:()=>{r()}})]})},IL=({definition:e,onChange:t,engine:n,availableRoles:r})=>{const s=n==="mysql",i=a=>{const o=e.roles||[],l=o.includes(a)?o.filter(c=>c!==a):[...o,a];t({...e,roles:l})};return u.jsxs("div",{className:"flex flex-col gap-6 p-6 max-w-2xl mx-auto",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"User Details"}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1 block",children:"Username"}),u.jsx("input",{type:"text",className:"input w-full",value:e.name,onChange:a=>t({...e,name:a.target.value}),placeholder:"username"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1 block",children:"Password"}),u.jsx("input",{type:"password",className:"input w-full",value:e.password||"",onChange:a=>t({...e,password:a.target.value}),placeholder:e.password===void 0?"Leave empty to keep current":"Enter password"})]}),s&&u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1 block",children:"Host"}),u.jsx("input",{type:"text",className:"input w-full",value:e.host||"%",onChange:a=>t({...e,host:a.target.value}),placeholder:"%"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"MySQL specific: Host from which the user can connect (default: %)"})]})]})]}),r.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Roles & Groups"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 bg-muted/20 p-4 rounded-md border",children:r.map(a=>u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-2 rounded transition-colors",children:[u.jsx("input",{type:"checkbox",checked:(e.roles||[]).includes(a),onChange:()=>i(a),className:"rounded border-gray-300 text-primary focus:ring-primary"}),u.jsx("span",{className:"text-sm",children:a})]},a))})]})]})},OL=e=>!e||e.type==="Null"?null:e.value,DL=({initialDefinition:e,engine:t,connectionId:n,onClose:r,mode:s})=>{const[i,a]=b.useState(e||{name:"new_user",password:"",host:"%",roles:[]}),[o,l]=b.useState([]),[c,d]=b.useState(!1),m=b.useMemo(()=>Qt.getAdapter(t),[t]);b.useEffect(()=>{(async()=>{const v=m.getRolesQuery();if(v&&m.features.roles)try{const w=await Kt.execute(n,v);if(w.rows){const x=w.rows.map(p=>{const h={};return w.columns.forEach((g,S)=>{h[g.name]=OL(p[S])}),h});l(x.map(p=>p.name))}}catch(w){console.error("Failed to load roles",w)}})()},[m,n]);const f=b.useMemo(()=>s==="create"?m.getCreateUserSQL(i):m.getAlterUserSQL(i),[m,i,s]);return u.jsxs("div",{className:"flex flex-col h-full bg-background text-foreground",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-2",children:[u.jsx("h1",{className:"text-xl font-bold",children:s==="create"?"Create User":`Edit User: ${i.name}`}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>d(!0),className:"btn btn-primary",children:"Preview SQL"}),u.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})]})]}),u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsx(IL,{definition:i,onChange:a,engine:t,availableRoles:o})}),u.jsx(w0,{isOpen:c,onClose:()=>d(!1),sql:f,title:s==="create"?"Create User":"Alter User",connectionId:n,isDangerous:s==="edit",onSuccess:()=>{r()}})]})};function $L(){var l,c;const{tabs:e,activeTabId:t,closeTab:n}=rt(),{activeConnectionId:r}=_e(),s=e.find(d=>d.id===t),i=b.useRef(null),a=b.useRef(null),o=Un(d=>d.panels.find(m=>m.id===(s==null?void 0:s.id)));return!r||e.length===0?u.jsx("div",{className:"h-full flex items-center justify-center bg-dark-bg",children:u.jsxs(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},className:"text-center max-w-md",children:[u.jsxs("div",{className:"relative mb-6 inline-block",children:[u.jsx(fs,{className:"w-20 h-20 text-dark-border/50"}),u.jsx(se.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.15,type:"spring",stiffness:200},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:u.jsx(Hv,{className:"w-9 h-9 text-matrix-500 drop-shadow-[0_0_12px_rgba(0,230,118,0.5)]"})})]}),u.jsx("h2",{className:"text-lg font-semibold text-matrix-400 mb-2",children:r?"No Open Queries":"No Active Connection"}),u.jsx("p",{className:"text-sm text-dark-muted/80 mb-6",children:r?"Create a new query tab to get started":"Connect to a database from the sidebar to start writing queries"}),u.jsxs("div",{className:"flex flex-col items-center gap-2.5 text-xs text-dark-muted/70",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("kbd",{className:"text-xs",children:"Ctrl+P"}),u.jsx("span",{children:"Command Palette"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("kbd",{className:"text-xs",children:"Ctrl+Shift+B"}),u.jsx("span",{children:"Query Builder"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("kbd",{className:"text-xs",children:"Ctrl+Enter"}),u.jsx("span",{children:"Execute Query"})]})]})]})}):u.jsxs("div",{className:"h-full flex flex-col bg-dark-bg",children:[u.jsx(ML,{}),s&&(s.type==="admin"?u.jsxs("div",{className:"flex-1 overflow-hidden",children:[((l=s.adminState)==null?void 0:l.type)==="table"&&u.jsx(_L,{initialDefinition:s.adminState.initialDefinition,engine:s.adminState.engine,connectionId:s.connectionId,mode:s.adminState.mode,onClose:()=>n(s.id)}),((c=s.adminState)==null?void 0:c.type)==="user"&&u.jsx(DL,{initialDefinition:s.adminState.initialDefinition,engine:s.adminState.engine,connectionId:s.connectionId,mode:s.adminState.mode,onClose:()=>n(s.id)})]}):u.jsxs(Cd,{direction:"vertical",className:"flex-1",children:[u.jsx(wi,{defaultSize:65,minSize:30,maxSize:85,ref:i,children:u.jsx(pL,{tab:s})}),u.jsx(kd,{className:"h-px bg-dark-border/30 hover:bg-matrix-700/50 transition-all relative group",children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(se.div,{className:"w-12 h-0.5 bg-dark-border/50 rounded-full group-hover:bg-matrix-700/70 group-hover:w-16 transition-all",whileHover:{scaleY:2}})})}),u.jsx(wi,{minSize:15,maxSize:70,ref:a,children:s.multiResults?u.jsx(RL,{results:s.multiResults,totalExecutionTimeMs:s.multiResults.reduce((d,m)=>d+m.execution_time_ms,0),connectionId:s.connectionId,tabId:s.id}):u.jsx(mf,{tab:s})})]})),(o==null?void 0:o.state)==="pinned"&&u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-dark-surface/70 backdrop-blur-md border-t border-dark-border/30 px-4 py-1.5 flex items-center justify-end",children:u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded border border-matrix-600/40 text-matrix-400 bg-matrix-900/20",children:[u.jsx(jk,{className:"w-3 h-3"}),"Pineado"]})})]})}const zL=[{value:"postgresql",label:"PostgreSQL",icon:""},{value:"mysql",label:"MySQL / MariaDB",icon:""},{value:"sqlite",label:"SQLite",icon:""}],ya={postgresql:5432,mysql:3306,sqlite:0,sqlserver:1433};function FL(){const{closeConnectionModal:e,editingConnectionId:t}=kr(),{connections:n,createConnection:r,updateConnection:s,testConnection:i}=_e(),a=t?n.find(g=>g.id===t):null,[o,l]=b.useState({name:"",engine:"postgresql",host:"localhost",port:5432,database:void 0,username:"",password:"",file_path:""}),[c,d]=b.useState(!1),[m,f]=b.useState(!1),[y,v]=b.useState(null),w=o.engine==="sqlite";b.useEffect(()=>{a&&l({name:a.name,engine:a.engine,host:a.host||"localhost",port:a.port||ya[a.engine],database:a.database,username:a.username||"",password:"",file_path:a.file_path||""})},[a]);const x=g=>{l(S=>({...S,engine:g,port:ya[g]}))},p=async g=>{g.preventDefault(),v(null),f(!0);try{const S={name:o.name,engine:o.engine,database:w?o.file_path:o.database||void 0,host:w?void 0:o.host||"localhost",port:w?void 0:o.port&&o.port>0?o.port:ya[o.engine],username:w?void 0:o.username,password:w?void 0:o.password,file_path:w?o.file_path:void 0};console.log("Creating connection with payload:",S),t?await s(t,{name:S.name,host:S.host,port:S.port,database:S.database,username:S.username,password:S.password||void 0}):await r(S),e()}catch(S){v(String(S))}finally{f(!1)}},h=async()=>{v(null),d(!0);try{if(t)await i(t),alert("Connection successful!");else{const g=await r(o);await i(g.id),alert("Connection successful!")}}catch(g){v(String(g))}finally{d(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-dark-surface rounded-xl shadow-2xl w-full max-w-lg mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[u.jsx("h2",{className:"text-lg font-semibold",children:t?"Edit Connection":"New Connection"}),u.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-dark-border",children:u.jsx(Vt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:p,className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Database Type"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:zL.map(g=>u.jsxs("button",{type:"button",onClick:()=>x(g.value),className:`p-3 rounded-lg border text-center transition-colors ${o.engine===g.value?"border-primary-500 bg-primary-900/30":"border-dark-border hover:border-dark-muted"}`,children:[u.jsx("span",{className:"text-2xl block mb-1",children:g.icon}),u.jsx("span",{className:"text-sm",children:g.label})]},g.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Connection Name"}),u.jsx("input",{type:"text",className:"input",value:o.name,onChange:g=>l(S=>({...S,name:g.target.value})),placeholder:"My Database",required:!0})]}),w?u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Database File"}),u.jsx("input",{type:"text",className:"input",value:o.file_path,onChange:g=>l(S=>({...S,file_path:g.target.value,database:g.target.value})),placeholder:"/path/to/database.db",required:!0})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"label",children:"Host"}),u.jsx("input",{type:"text",className:"input",value:o.host,onChange:g=>l(S=>({...S,host:g.target.value})),placeholder:"localhost",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Port"}),u.jsx("input",{type:"number",className:"input",value:o.port,onChange:g=>{const S=parseInt(g.target.value);l(E=>({...E,port:isNaN(S)?ya[E.engine]:S}))},min:1,max:65535,required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Database"}),u.jsx("input",{type:"text",className:"input",value:o.database||"",onChange:g=>l(S=>({...S,database:g.target.value||void 0})),placeholder:"mydb"}),u.jsx("p",{className:"text-xs text-dark-muted mt-1",children:"Optional  if left empty, all databases/schemas will be shown"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Username"}),u.jsx("input",{type:"text",className:"input",value:o.username,onChange:g=>l(S=>({...S,username:g.target.value})),placeholder:o.engine==="postgresql"?"postgres":"root"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Password"}),u.jsx("input",{type:"password",className:"input",value:o.password,onChange:g=>l(S=>({...S,password:g.target.value})),placeholder:""})]})]})]}),y&&u.jsx("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg text-red-400 text-sm",children:y}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:h,disabled:c,className:"btn btn-secondary",children:c?"Testing...":"Test Connection"}),u.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary",children:m?"Saving...":t?"Update":"Create"})]})]})]})})}function VL(){const{model:e,setFromTable:t}=Bt(),[n,r]=b.useState(""),{activeConnectionId:s}=_e(),i=yt(c=>{var d;return s?((d=c.byConnection[s])==null?void 0:d.tables)||[]:[]}),a=b.useMemo(()=>i,[i]),o=b.useMemo(()=>{if(!n)return a;const c=n.toLowerCase();return a.filter(d=>d.name.toLowerCase().includes(c)||d.schema&&d.schema.toLowerCase().includes(c))},[a,n]),l=(c,d)=>{t({name:c,schema:d,alias:void 0}),r("")};return u.jsx("div",{className:"space-y-3",children:e.from.name?u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded border border-dark-border",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"font-mono text-sm",children:[e.from.schema&&u.jsxs("span",{className:"text-primary-400",children:[e.from.schema,"."]}),u.jsx("span",{className:"text-white",children:e.from.name}),e.from.alias&&u.jsxs("span",{className:"text-dark-muted",children:[" AS ",e.from.alias]})]})}),u.jsx("button",{onClick:()=>t({name:"",schema:void 0,alias:void 0}),className:"btn btn-ghost btn-sm",children:"Cambiar"})]}):u.jsxs("div",{children:[u.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),placeholder:"Buscar tabla...",className:"input w-full mb-2",autoFocus:!0}),u.jsx("div",{className:"max-h-48 overflow-y-auto border border-dark-border rounded",children:a.length===0?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx("div",{className:"text-red-500 text-sm mb-2",children:" No hay tablas disponibles en el catlogo"}),u.jsxs("div",{className:"text-xs text-dark-muted",children:["Asegrate de:",u.jsxs("ul",{className:"list-disc text-left ml-5 mt-2",children:[u.jsx("li",{children:"Estar conectado a una base de datos"}),u.jsx("li",{children:"Haber explorado el schema en el Database Explorer"})]})]})]}):o.length===0?u.jsxs("div",{className:"p-4 text-center text-dark-muted text-sm",children:['No se encontraron tablas con "',n,'"']}):o.map(c=>u.jsx("button",{onClick:()=>l(c.name,c.schema),className:"w-full text-left px-3 py-2 hover:bg-dark-hover border-b border-dark-border last:border-b-0 transition-colors",children:u.jsxs("div",{className:"font-mono text-sm",children:[c.schema&&u.jsxs("span",{className:"text-primary-400",children:[c.schema,"."]}),u.jsx("span",{children:c.name})]})},`${c.schema}.${c.name}`))})]})})}function BL(){const{model:e,toggleColumn:t,addColumn:n}=Bt(),{selectTable:r}=yt(),{activeConnectionId:s}=_e(),i=yt(d=>{var m;return s?((m=d.byConnection[s])==null?void 0:m.tables)||[]:[]}),a=b.useMemo(()=>{const d=[e.from];return e.joins.forEach(m=>d.push(m.table)),d},[e.from,e.joins]);b.useEffect(()=>{s&&a.forEach(d=>{if(!d.name)return;const m=i.find(f=>f.name===d.name&&(d.schema&&f.schema===d.schema||!d.schema||!f.schema));(!m||!m.columns||m.columns.length===0)&&r(s,d.name,d.schema)})},[a,s,r,i]),console.log("ColumnSelector - availableTables:",a),console.log("ColumnSelector - model.from:",e.from);const o=(d,m)=>{t({table:d,column:m})},l=d=>{const m=i.find(f=>f.name===d);m&&m.columns.forEach(f=>{const y={table:d,column:f.name};e.select.some(w=>w.table===d&&w.column===f.name)||n(y)})},c=(d,m)=>e.select.some(f=>f.table===d&&f.column===m);return u.jsxs("div",{className:"space-y-4",children:[e.select.length===0&&i.length>0&&u.jsx("div",{className:"text-sm text-yellow-500 bg-yellow-500/10 border border-yellow-500/20 rounded p-3",children:" Selecciona al menos una columna"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(d=>{const m=i.find(y=>y.name===d.name&&(d.schema&&y.schema===d.schema||!d.schema||!y.schema));if(console.log("Buscando tabla:",d.name,"Encontrada:",m),!m)return u.jsxs("div",{className:"border border-red-500/50 rounded-lg p-4 text-red-400",children:[u.jsxs("p",{className:"text-sm",children:[' Tabla "',d.name,'" no encontrada en el catlogo']}),u.jsx("p",{className:"text-xs mt-2",children:"Asegrate de estar conectado a la base de datos"})]},d.name);if(!m.columns||m.columns.length===0)return u.jsxs("div",{className:"border border-yellow-500/50 rounded-lg p-4",children:[u.jsxs("div",{className:"font-mono text-sm font-semibold mb-2",children:[d.schema&&u.jsxs("span",{className:"text-primary-400",children:[d.schema,"."]}),d.name]}),u.jsx("div",{className:"text-yellow-500 text-xs",children:" Esta tabla no tiene columnas cargadas."}),u.jsx("div",{className:"text-xs text-dark-muted mt-2",children:"Haz clic en la tabla en el Database Explorer para cargar sus columnas."})]},d.name);const f=d.alias||d.name;return u.jsxs("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"bg-dark-hover px-3 py-2 flex items-center justify-between",children:[u.jsxs("div",{className:"font-mono text-sm font-semibold",children:[d.schema&&u.jsxs("span",{className:"text-primary-400",children:[d.schema,"."]}),d.name,d.alias&&u.jsxs("span",{className:"text-dark-muted",children:[" (",d.alias,")"]})]}),u.jsx("button",{onClick:()=>l(f),className:"text-xs text-primary-400 hover:text-primary-300",children:"Todas"})]}),u.jsx("div",{className:"max-h-64 overflow-y-auto",children:m.columns.map(y=>{const v=c(f,y.name);return u.jsxs("button",{onClick:()=>o(f,y.name),className:`w-full text-left px-3 py-2 flex items-center gap-2 hover:bg-dark-hover transition-colors border-b border-dark-border last:border-b-0 ${v?"bg-primary-500/10":""}`,children:[u.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${v?"bg-primary-500 border-primary-500":"border-dark-border"}`,children:v&&u.jsx(af,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-mono text-sm truncate",children:y.name}),u.jsxs("div",{className:"text-xs text-dark-muted truncate",children:[y.data_type,y.is_primary_key&&"  PK"]})]})]},y.name)})})]},f)})}),e.select.length>0&&u.jsxs("div",{className:"text-sm text-dark-muted",children:[e.select.length," columna",e.select.length!==1?"s":""," ","seleccionada",e.select.length!==1?"s":""]})]})}function Oa({options:e,value:t,onChange:n,placeholder:r,disabled:s}){var w;const[i,a]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(0),m=b.useRef(null),f=b.useRef(null),y=b.useMemo(()=>{if(!o)return e;const x=o.toLowerCase();return e.filter(p=>p.label.toLowerCase().includes(x))},[e,o]);b.useEffect(()=>{i||d(0)},[i]),b.useEffect(()=>{const x=p=>{!f.current||!m.current||!f.current.contains(p.target)&&!m.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const v=x=>{const p=y[x];p&&(n(p.value),a(!1),l(""))};return u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{ref:m,type:"text",value:o,onChange:x=>{l(x.target.value),a(!0)},onFocus:()=>a(!0),onKeyDown:x=>{x.key==="ArrowDown"?(x.preventDefault(),a(!0),d(p=>Math.min(p+1,Math.max(y.length-1,0)))):x.key==="ArrowUp"?(x.preventDefault(),d(p=>Math.max(p-1,0))):x.key==="Enter"?(x.preventDefault(),v(c)):x.key==="Escape"&&a(!1)},placeholder:r,className:"input w-full",disabled:s}),t&&u.jsx("div",{className:"text-xs text-dark-muted truncate max-w-[12rem]",children:(w=e.find(x=>x.value===t))==null?void 0:w.label})]}),i&&!s&&u.jsx("div",{ref:f,className:"absolute z-50 mt-2 w-full max-h-48 overflow-auto border border-dark-border rounded bg-dark-surface shadow-lg",children:y.length===0?u.jsx("div",{className:"px-3 py-2 text-sm text-dark-muted",children:"Sin resultados"}):y.map((x,p)=>u.jsx("button",{onMouseEnter:()=>d(p),onClick:()=>v(p),className:`w-full text-left px-3 py-2 border-b border-dark-border last:border-b-0 ${p===c?"bg-dark-hover":"hover:bg-dark-hover"}`,children:x.label},x.value))})]})}function UL(){const{model:e,addJoin:t,removeJoin:n}=Bt(),[r,s]=b.useState(!1),i=()=>{s(!0)},a=()=>{s(!1)},o=l=>{t(l),s(!1)};return u.jsxs("div",{className:"space-y-3",children:[e.joins.map((l,c)=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded border border-dark-border",children:[u.jsxs("div",{className:"flex-1 font-mono text-sm",children:[u.jsxs("span",{className:"text-primary-400",children:[l.type," JOIN"]})," ",l.table.schema&&u.jsxs("span",{className:"text-primary-400",children:[l.table.schema,"."]}),u.jsx("span",{children:l.table.name}),l.table.alias&&u.jsxs("span",{className:"text-dark-muted",children:[" AS ",l.table.alias]}),u.jsx("span",{className:"text-dark-muted",children:" ON "}),u.jsxs("span",{children:[l.on.leftTable,".",l.on.leftColumn]}),u.jsx("span",{className:"text-dark-muted",children:" = "}),u.jsxs("span",{children:[l.on.rightTable,".",l.on.rightColumn]})]}),u.jsx("button",{onClick:()=>n(c),className:"btn btn-ghost btn-sm text-red-400 hover:text-red-300",children:u.jsx(Sr,{className:"w-4 h-4"})})]},c)),r?u.jsx(WL,{onSave:o,onCancel:a}):u.jsxs("button",{onClick:i,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[u.jsx(yn,{className:"w-4 h-4"}),"Agregar JOIN"]})]})}function WL({onSave:e,onCancel:t}){const{model:n}=Bt(),[r,s]=b.useState("INNER"),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(""),[m,f]=b.useState(n.from.alias||n.from.name),[y,v]=b.useState(""),[w,x]=b.useState(""),p=[n.from,...n.joins.map(T=>T.table)],{selectTable:h}=yt(),{activeConnectionId:g}=_e(),S=yt(T=>{var B;return g?((B=T.byConnection[g])==null?void 0:B.tables)||[]:[]});b.useEffect(()=>{i&&g&&h(g,i,o||void 0)},[i,o,g,h]);const E=b.useMemo(()=>{if(!i)return[];const T=S.find(B=>B.name===i&&(o&&B.schema===o||!o||!B.schema));return(T==null?void 0:T.columns)||[]},[i,o,S]),C=b.useMemo(()=>S.map(T=>({value:T.schema?`${T.schema}.${T.name}`:T.name,label:T.schema?`${T.schema}.${T.name}`:T.name})),[S]),k=b.useMemo(()=>p.flatMap(T=>{const B=T.alias||T.name,X=S.find(L=>L.name===T.name);return((X==null?void 0:X.columns)||[]).map(L=>({value:`${B}.${L.name}`,label:`${B}.${L.name}`,table:B,column:L.name}))}),[p,S]),N=()=>{if(!i||!y||!w)return;e({type:r,table:{name:i,schema:o||void 0,alias:c||void 0},on:{leftTable:m,leftColumn:y,rightTable:c||i,rightColumn:w}})},M=i&&y&&w;return u.jsxs("div",{className:"border border-dark-border rounded-lg p-4 space-y-4 bg-dark-bg",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipo de JOIN"}),u.jsxs("select",{value:r,onChange:T=>s(T.target.value),className:"input w-full",children:[u.jsx("option",{value:"INNER",children:"INNER JOIN"}),u.jsx("option",{value:"LEFT",children:"LEFT JOIN"}),u.jsx("option",{value:"RIGHT",children:"RIGHT JOIN"}),u.jsx("option",{value:"FULL",children:"FULL JOIN"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tabla"}),u.jsx(Oa,{options:C,value:o?`${o}.${i}`:i,onChange:T=>{const[B,X]=T.includes(".")?T.split("."):["",T];a(X),l(B)},placeholder:"Buscar y seleccionar tabla..."})]})]}),i&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alias (opcional)"}),u.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),placeholder:"Ej: t2",className:"input w-full"})]}),i&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Columna izquierda"}),u.jsx(Oa,{options:k,value:`${m}.${y}`,onChange:T=>{const[B,X]=T.split(".");f(B),v(X)},placeholder:"Buscar y seleccionar columna..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Columna derecha"}),u.jsx(Oa,{options:E.map(T=>({value:T.name,label:T.name})),value:w,onChange:T=>x(T),placeholder:E.length===0?`Cargando columnas de ${i}...`:"Buscar y seleccionar columna...",disabled:E.length===0})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:t,className:"btn btn-secondary btn-sm",children:"Cancelar"}),u.jsx("button",{onClick:N,disabled:!M,className:"btn btn-primary btn-sm disabled:opacity-50",children:"Agregar"})]})]})}function HL(){var m,f;const{model:e,addCondition:t,removeCondition:n,setWhere:r}=Bt(),[s,i]=b.useState(!1),a=((m=e.where)==null?void 0:m.conditions)||[],o=()=>{i(!0)},l=y=>{t(y),i(!1)},c=()=>{i(!1)},d=()=>{if(!e.where)return;const y=e.where.operator==="AND"?"OR":"AND";r({...e.where,operator:y})};return u.jsxs("div",{className:"space-y-3",children:[a.length>0&&u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-dark-muted",children:"Operador lgico:"}),u.jsx("button",{onClick:d,className:"btn btn-secondary btn-sm",children:((f=e.where)==null?void 0:f.operator)||"AND"})]}),a.map((y,v)=>{var x;if("operator"in y&&(y.operator==="AND"||y.operator==="OR"))return null;const w=y;return u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded border border-dark-border",children:[u.jsxs("div",{className:"flex-1 font-mono text-sm",children:[u.jsxs("span",{children:[w.column.table,".",w.column.column]}),u.jsx("span",{className:"text-primary-400 mx-2",children:w.operator}),w.operator!=="IS NULL"&&w.operator!=="IS NOT NULL"&&u.jsx("span",{className:"text-green-400",children:w.operator==="IN"?`(${(x=w.values)==null?void 0:x.join(", ")})`:typeof w.value=="string"?`'${w.value}'`:w.value})]}),u.jsx("button",{onClick:()=>n(v),className:"btn btn-ghost btn-sm text-red-400 hover:text-red-300",children:u.jsx(Sr,{className:"w-4 h-4"})})]},v)}),s?u.jsx(qL,{onSave:l,onCancel:c}):u.jsxs("button",{onClick:o,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[u.jsx(yn,{className:"w-4 h-4"}),"Agregar Condicin"]})]})}function qL({onSave:e,onCancel:t}){const{model:n}=Bt(),{activeConnectionId:r}=_e(),s=yt(S=>{var E;return r?((E=S.byConnection[r])==null?void 0:E.tables)||[]:[]}),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState("="),[m,f]=b.useState(""),[y,v]=b.useState(""),w=[n.from,...n.joins.map(S=>S.table)],p=b.useMemo(()=>w.flatMap(S=>{const E=S.alias||S.name,C=s.find(N=>N.name===S.name);return((C==null?void 0:C.columns)||[]).map(N=>({value:`${E}.${N.name}`,label:`${E}.${N.name}`,table:E,column:N.name}))}),[w,s]),h=()=>{if(!i||!o||c!=="IS NULL"&&c!=="IS NOT NULL"&&!m&&c!=="IN"||c==="IN"&&!y)return;const E={column:{table:i,column:o},operator:c,value:c==="IN"?void 0:m,values:c==="IN"?y.split(",").map(C=>C.trim()):void 0};e(E)},g=i&&o&&(c==="IS NULL"||c==="IS NOT NULL"||c==="IN"&&y||m);return u.jsxs("div",{className:"border border-dark-border rounded-lg p-4 space-y-4 bg-dark-bg",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Columna"}),u.jsx(Oa,{options:p,value:`${i}.${o}`,onChange:S=>{const[E,C]=S.split(".");a(E),l(C)},placeholder:"Buscar y seleccionar columna..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Operador"}),u.jsxs("select",{value:c,onChange:S=>d(S.target.value),className:"input w-full",children:[u.jsx("option",{value:"=",children:"="}),u.jsx("option",{value:"!=",children:"!="}),u.jsx("option",{value:">",children:">"}),u.jsx("option",{value:"<",children:"<"}),u.jsx("option",{value:">=",children:">="}),u.jsx("option",{value:"<=",children:"<="}),u.jsx("option",{value:"LIKE",children:"LIKE"}),u.jsx("option",{value:"IN",children:"IN"}),u.jsx("option",{value:"IS NULL",children:"IS NULL"}),u.jsx("option",{value:"IS NOT NULL",children:"IS NOT NULL"})]})]})]}),c!=="IS NULL"&&c!=="IS NOT NULL"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:c==="IN"?"Valores (separados por coma)":"Valor"}),c==="IN"?u.jsx("input",{type:"text",value:y,onChange:S=>v(S.target.value),placeholder:"1, 2, 3",className:"input w-full"}):u.jsx("input",{type:"text",value:m,onChange:S=>f(S.target.value),placeholder:"Valor",className:"input w-full"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:t,className:"btn btn-secondary btn-sm",children:"Cancelar"}),u.jsx("button",{onClick:h,disabled:!g,className:"btn btn-primary btn-sm disabled:opacity-50",children:"Agregar"})]})]})}function QL(){const{model:e,addOrderBy:t,removeOrderBy:n,updateOrderBy:r}=Bt(),[s,i]=b.useState(!1),a=()=>{i(!0)},o=d=>{t(d),i(!1)},l=()=>{i(!1)},c=d=>{const m=e.orderBy[d],f=m.direction==="ASC"?"DESC":"ASC";r(d,{...m,direction:f})};return u.jsxs("div",{className:"space-y-3",children:[e.orderBy.map((d,m)=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded border border-dark-border",children:[u.jsxs("div",{className:"flex-1 font-mono text-sm",children:[u.jsxs("span",{children:[d.column.table,".",d.column.column]}),u.jsx("span",{className:"text-primary-400 mx-2",children:d.direction})]}),u.jsx("button",{onClick:()=>c(m),className:"btn btn-ghost btn-sm",title:"Cambiar direccin",children:d.direction==="ASC"?u.jsx(Bv,{className:"w-4 h-4"}):u.jsx(Vv,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>n(m),className:"btn btn-ghost btn-sm text-red-400 hover:text-red-300",children:u.jsx(Sr,{className:"w-4 h-4"})})]},m)),s?u.jsx(KL,{onSave:o,onCancel:l}):u.jsxs("button",{onClick:a,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[u.jsx(yn,{className:"w-4 h-4"}),"Agregar Ordenamiento"]})]})}function KL({onSave:e,onCancel:t}){const{model:n}=Bt(),[r,s]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState("ASC"),[c,d]=b.useState(""),y=[n.from,...n.joins.map(x=>x.table)].flatMap(x=>{const p=x.alias||x.name;return me.getColumns(x.name).map(g=>({value:`${p}.${g.name}`,label:`${p}.${g.name}`,table:p,column:g.name}))}).filter(x=>c?x.label.toLowerCase().includes(c.toLowerCase()):!0),v=()=>{if(!r||!i)return;e({column:{table:r,column:i},direction:o})},w=r&&i;return u.jsxs("div",{className:"border border-dark-border rounded-lg p-4 space-y-4 bg-dark-bg",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Columna"}),u.jsx("input",{type:"text",value:c,onChange:x=>d(x.target.value),placeholder:"Buscar columna...",className:"input w-full mb-2"}),u.jsxs("select",{value:`${r}.${i}`,onChange:x=>{const[p,h]=x.target.value.split(".");s(p),a(h),d("")},className:"input w-full",size:5,children:[u.jsx("option",{value:"",children:"Seleccionar..."}),y.map(x=>u.jsx("option",{value:x.value,children:x.label},x.value))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Direccin"}),u.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"input w-full",children:[u.jsx("option",{value:"ASC",children:"Ascendente (ASC)"}),u.jsx("option",{value:"DESC",children:"Descendente (DESC)"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:t,className:"btn btn-secondary btn-sm",children:"Cancelar"}),u.jsx("button",{onClick:v,disabled:!w,className:"btn btn-primary btn-sm disabled:opacity-50",children:"Agregar"})]})]})}function GL(){const{isOpen:e,close:t,model:n,reset:r,setLimit:s}=Bt(),{connections:i,activeConnectionId:a}=_e(),{activeTabId:o,updateQuery:l}=rt(),{selectTable:c,byConnection:d}=yt(),m=i.find(h=>h.id===a),f=(m==null?void 0:m.engine)||"postgresql";b.useEffect(()=>{!e||!a||!m||Ai(m)},[e,f,a,m]),b.useEffect(()=>{var S;if(!e||!a)return;const h=[n.from,...n.joins.map(E=>E.table)].filter(E=>E&&E.name),g=((S=d[a])==null?void 0:S.tables)||[];h.forEach(E=>{const C=g.find(k=>k.name===E.name&&(E.schema&&k.schema===E.schema||!E.schema||!k.schema));(!C||!C.columns||C.columns.length===0)&&c(a,E.name,E.schema)})},[e,a,n.from,n.joins,d,c]);const y=b.useMemo(()=>new Sc(f).compile(n),[f,n]);if(!e)return null;const v=()=>{const g=new Sc(f).compile(n);o&&l(o,g),t()},w=()=>{t()},x=()=>{confirm("Resetear el query builder?")&&r()},p=n.from.name!==""&&n.select.length>0;return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-2xl w-[92vw] h-[88vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-dark-border",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Visual Query Builder"}),u.jsx("p",{className:"text-sm text-dark-muted mt-1",children:"Construye consultas SELECT sin escribir SQL"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:x,className:"btn btn-secondary text-sm",title:"Reset",children:u.jsx(Sr,{className:"w-4 h-4"})}),u.jsx("button",{onClick:w,className:"btn btn-ghost",title:"Cerrar",children:u.jsx(Vt,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden p-6",children:u.jsxs("div",{className:"grid grid-cols-12 gap-6 h-full",children:[u.jsxs("div",{className:"col-span-5 overflow-y-auto pr-2 space-y-6",children:[u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"1. Tabla Principal (FROM)"}),u.jsx(VL,{})]}),n.from.name&&u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"2. Columnas (SELECT)"}),u.jsx(BL,{})]}),n.from.name&&u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"3. Uniones (JOIN) - Opcional"}),u.jsx(UL,{})]})]}),u.jsxs("div",{className:"col-span-7 overflow-y-auto pl-2 space-y-6",children:[n.from.name&&n.select.length>0&&u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"4. Condiciones (WHERE) - Opcional"}),u.jsx(HL,{})]}),n.from.name&&n.select.length>0&&u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"5. Ordenamiento (ORDER BY) - Opcional"}),u.jsx(QL,{})]}),n.from.name&&n.select.length>0&&u.jsxs("section",{className:"flex items-center gap-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase",children:"6. Lmite (LIMIT) - Opcional"}),u.jsx("input",{type:"number",min:"1",value:n.limit||"",onChange:h=>s(h.target.value?parseInt(h.target.value):void 0),placeholder:"Sin lmite",className:"input w-32"})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"Vista previa SQL"}),u.jsx("div",{className:"bg-dark-bg border border-dark-border rounded p-3 h-40 overflow-auto font-mono text-sm",children:y||""})]})]})]})}),u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-dark-border",children:[u.jsx("div",{className:"text-sm text-dark-muted",children:!p&&u.jsx("span",{className:"text-yellow-500",children:" Selecciona una tabla y al menos una columna"})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:w,className:"btn btn-secondary",children:"Cancelar"}),u.jsxs("button",{onClick:v,disabled:!p,className:"btn btn-primary flex items-center gap-2 disabled:opacity-50",children:[u.jsx(uf,{className:"w-4 h-4"}),"Generar SQL"]})]})]})]})})}const S0=Zt(e=>({isOpen:!1,query:"",items:[],selectedIndex:0,action:"insert",open:()=>e({isOpen:!0,query:"",selectedIndex:0}),close:()=>e({isOpen:!1}),setQuery:t=>e({query:t,selectedIndex:0}),setItems:t=>e({items:t,selectedIndex:0}),setSelectedIndex:t=>e(n=>({selectedIndex:Math.max(0,Math.min(t,n.items.length-1))})),selectNext:()=>e(t=>({selectedIndex:Math.min(t.selectedIndex+1,t.items.length-1)})),selectPrevious:()=>e(t=>({selectedIndex:Math.max(t.selectedIndex-1,0)})),setAction:t=>e({action:t}),reset:()=>e({query:"",items:[],selectedIndex:0,action:"insert"})}));function YL(){const{isOpen:e,query:t,items:n,selectedIndex:r,close:s,setQuery:i,setItems:a,selectNext:o,selectPrevious:l}=S0(),{activeTabId:c,updateQuery:d}=rt(),{connections:m,activeConnectionId:f}=_e(),{queries:y,loadQueries:v}=u0(),w=m.find(N=>N.id===f),x=(w==null?void 0:w.engine)||"postgresql",[p,h]=b.useState(0);b.useEffect(()=>me.subscribe(()=>{h(N=>N+1)}),[]);const g=b.useCallback((N,M)=>{if(!N)return"";switch(M){case"mysql":return`\`${N}\``;case"postgresql":return`"${N}"`;case"sqlite":return`"${N}"`;default:return`"${N}"`}},[]),S=b.useCallback((N,M)=>{const T=g(M,x);return N?`${g(N,x)}.${T}`:T},[x,g]),E=b.useMemo(()=>{const N=me.getTables(),M=y.map(Q=>({id:`saved-${Q.id}`,type:"saved-query",name:Q.name,fullName:Q.name,savedQuery:Q}));if(!t){const Q=N.map(L=>{const j=L.schema?`${L.schema}.${L.name}`:L.name;return{id:j,type:L.type,name:L.name,schema:L.schema,database:L.database,fullName:j,table:L}});return[...M,...Q]}const T=t.toLowerCase(),B=N.map(Q=>{var O;const L=Q.schema?`${Q.schema}.${Q.name}`:Q.name,j=Q.name.toLowerCase().includes(T),P=(O=Q.schema)==null?void 0:O.toLowerCase().includes(T),J=L.toLowerCase().includes(T);let R=0;return Q.name.toLowerCase().startsWith(T)&&(R+=10),j&&(R+=5),P&&(R+=3),J&&(R+=1),{id:L,type:Q.type,name:Q.name,schema:Q.schema,database:Q.database,fullName:L,table:Q,score:R}}).filter(Q=>Q.score>0);return[...M.map(Q=>{const L=Q.name.toLowerCase().includes(T);let j=0;return Q.name.toLowerCase().startsWith(T)&&(j+=12),L&&(j+=6),{...Q,score:j}}).filter(Q=>Q.score>0),...B].sort((Q,L)=>L.score-Q.score).slice(0,50).map(({score:Q,...L})=>L)},[t,e,y,p]);b.useEffect(()=>{a(E)},[E,a]),b.useEffect(()=>{!e||!f||!w||(me.getConnectionId()!==f&&Ai(w),v(f))},[e,f,x,w,v]);const C=b.useCallback(N=>{if(c){if(N.type==="saved-query"&&N.savedQuery)d(c,N.savedQuery.sql);else{const M=`SELECT * FROM ${S(N.schema,N.name)} LIMIT 100`;d(c,M)}s()}},[c,d,s,S]),k=b.useCallback(N=>{switch(N.key){case"Escape":N.preventDefault(),s();break;case"ArrowDown":N.preventDefault(),o();break;case"ArrowUp":N.preventDefault(),l();break;case"Enter":N.preventDefault(),n[r]&&C(n[r]);break}},[s,o,l,n,r,C]);return b.useEffect(()=>{if(e){const N=document.getElementById(`palette-item-${r}`);N==null||N.scrollIntoView({block:"nearest"})}},[r,e]),e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh] bg-black/50",onClick:s,children:u.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-2xl w-[600px] max-h-[500px] flex flex-col",onClick:N=>N.stopPropagation(),onKeyDown:k,children:[u.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-dark-border",children:[u.jsx(hc,{className:"w-5 h-5 text-dark-muted"}),u.jsx("input",{type:"text",value:t,onChange:N=>i(N.target.value),placeholder:"Buscar tablas y vistas...",className:"flex-1 bg-transparent outline-none text-white placeholder-dark-muted",autoFocus:!0}),u.jsx("button",{onClick:s,className:"text-dark-muted hover:text-white transition-colors",children:u.jsx(Vt,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?u.jsxs("div",{className:"p-8 text-center text-dark-muted",children:[u.jsx(pc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),u.jsx("p",{children:"No se encontraron tablas"})]}):u.jsx("div",{children:n.map((N,M)=>{var T;return u.jsxs("button",{id:`palette-item-${M}`,onClick:()=>C(N),className:`w-full text-left px-4 py-3 flex items-center gap-3 transition-colors border-b border-dark-border last:border-b-0 ${M===r?"bg-primary-500/20 border-l-2 border-l-primary-500":"hover:bg-dark-hover"}`,children:[u.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center ${N.type==="table"?"bg-blue-500/20 text-blue-400":N.type==="saved-query"?"bg-green-500/20 text-green-400":"bg-purple-500/20 text-purple-400"}`,children:N.type==="table"?u.jsx(pc,{className:"w-4 h-4"}):N.type==="saved-query"?u.jsx(Uv,{className:"w-4 h-4"}):u.jsx(Kv,{className:"w-4 h-4"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"font-mono text-sm truncate",children:[N.schema&&u.jsxs("span",{className:"text-primary-400",children:[N.schema,"."]}),u.jsx("span",{className:"text-white",children:N.name})]}),u.jsxs("div",{className:"text-xs text-dark-muted",children:[N.type==="table"?"Tabla":N.type==="saved-query"?"Consulta Guardada":"Vista"," "," ",((T=N.table)==null?void 0:T.columns.length)||0," columnas"]})]}),u.jsx("div",{className:"text-xs text-dark-muted",children:"Enter"})]},N.id)})})}),u.jsxs("div",{className:"px-4 py-2 border-t border-dark-border flex items-center justify-between text-xs text-dark-muted",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{children:" Navegar"}),u.jsx("span",{children:"Enter Seleccionar"}),u.jsx("span",{children:"Esc Cerrar"})]}),u.jsxs("div",{children:[n.length," resultados"]})]})]})}):null}function XL(e,t){let n=null;return function(...s){const i=()=>{n=null,e(...s)};n&&clearTimeout(n),n=setTimeout(i,t)}}const JL=XL(async e=>{const t=rt.getState(),r=t.tabs.filter(i=>i.connectionId===e).map(i=>({id:i.id,tab_type:"sql-editor",title:i.title,payload:{type:"sqlEditor",sql:i.query}})),s={connection_id:e,active_tab_id:t.activeTabId||void 0,tabs:r};await yc.save(s)},1e3),hf=Zt(e=>({isRestoring:!1,lastSaved:{},saveWorkspace:async t=>{await JL(t),e(n=>({lastSaved:{...n.lastSaved,[t]:new Date}}))},restoreWorkspace:async t=>{e({isRestoring:!0});try{const n=await yc.get(t);if(!n||n.tabs.length===0){e({isRestoring:!1});return}const r=rt.getState();n.tabs.forEach(s=>{s.payload.type==="sqlEditor"&&r.addTab({title:s.title,query:s.payload.sql,connectionId:t})}),n.active_tab_id&&r.setActiveTab(n.active_tab_id),e({isRestoring:!1})}catch(n){console.error("Failed to restore workspace:",n),e({isRestoring:!1})}},deleteWorkspace:async t=>{await yc.delete(t),e(n=>{const{[t]:r,...s}=n.lastSaved;return{lastSaved:s}})}})),ZL=()=>{let e=null;rt.subscribe(t=>{const n=JSON.stringify({tabs:t.tabs.map(r=>({id:r.id,query:r.query,connectionId:r.connectionId})),activeTabId:t.activeTabId});n!==e&&(e=n,new Set(t.tabs.map(s=>s.connectionId).filter(Boolean)).forEach(s=>{hf.getState().saveWorkspace(s)}))})};function e2(){const{isRestoring:e}=hf();return e?u.jsxs("div",{className:"fixed top-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[u.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),u.jsx("span",{children:"Restaurando sesin..."})]}):null}function t2(){const{isAboutModalOpen:e,setAboutModalOpen:t}=kr();return e?u.jsx(wr,{children:u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),u.jsxs(se.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative bg-dark-surface border border-dark-border rounded-lg shadow-2xl w-full max-w-md mx-4 overflow-hidden",children:[u.jsxs("div",{className:"relative bg-gradient-to-br from-matrix-900/50 via-dark-surface to-dark-surface border-b border-dark-border/50 p-6",children:[u.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 p-1.5 rounded-lg hover:bg-dark-hover/50 transition-colors group",children:u.jsx(Vt,{className:"w-4 h-4 text-dark-muted group-hover:text-dark-text"})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-matrix-500/20 blur-xl rounded-full"}),u.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-matrix-500 to-matrix-700 rounded-xl flex items-center justify-center shadow-lg",children:u.jsx("img",{src:"/icon.png",alt:"QueryX Logo",className:"w-12 h-12 object-contain",onError:n=>{n.currentTarget.style.display="none",n.currentTarget.parentElement.innerHTML='<svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"></path></svg>'}})})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-dark-text",children:"QueryX"}),u.jsx("p",{className:"text-sm text-matrix-400 font-medium",children:"Professional SQL Database Manager"})]})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg/50 rounded-lg border border-dark-border/30",children:[u.jsx("span",{className:"text-sm text-dark-muted",children:"Versin"}),u.jsx("span",{className:"text-sm font-mono text-matrix-400 font-semibold",children:"1.0.0"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm text-dark-text leading-relaxed",children:"QueryX es un gestor de bases de datos SQL profesional con soporte para mltiples motores de bases de datos."}),u.jsx("p",{className:"text-xs text-dark-muted leading-relaxed",children:"Diseado para desarrolladores que necesitan una herramienta potente, rpida y elegante para trabajar con PostgreSQL, MySQL y SQLite."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xs font-semibold text-dark-muted uppercase tracking-wider",children:"Caractersticas"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{icon:fs,text:"Multi-motor"},{icon:qv,text:"Editor SQL"},{icon:wk,text:"Query Builder"},{icon:fs,text:"Workspaces"}].map((n,r)=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-dark-bg/30 rounded border border-dark-border/20",children:[u.jsx(n.icon,{className:"w-3.5 h-3.5 text-matrix-500"}),u.jsx("span",{className:"text-xs text-dark-text",children:n.text})]},r))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xs font-semibold text-dark-muted uppercase tracking-wider",children:"Tecnologas"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["React","TypeScript","Tauri","Rust","Monaco Editor"].map(n=>u.jsx("span",{className:"px-2 py-1 text-xs bg-matrix-900/30 text-matrix-400 rounded border border-matrix-700/30 font-medium",children:n},n))})]}),u.jsxs("div",{className:"pt-4 border-t border-dark-border/30",children:[u.jsx("p",{className:"text-xs text-center text-dark-muted",children:" 2024-2026 QueryX. Todos los derechos reservados."}),u.jsx("p",{className:"text-xs text-center text-dark-muted/70 mt-1",children:"Hecho con  para desarrolladores"})]})]})]})]})}):null}async function E0(e,t){return Y({__tauriModule:"Event",message:{cmd:"unlisten",event:e,eventId:t}})}async function n2(e,t,n){await Y({__tauriModule:"Event",message:{cmd:"emit",event:e,windowLabel:t,payload:n}})}async function N0(e,t,n){return Y({__tauriModule:"Event",message:{cmd:"listen",event:e,windowLabel:t,handler:gc(n)}}).then(r=>async()=>E0(e,r))}async function r2(e,t,n){return N0(e,t,r=>{n(r),E0(e,r.id).catch(()=>{})})}var ft;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_CREATED="tauri://window-created",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_FILE_DROP="tauri://file-drop",e.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",e.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",e.MENU="tauri://menu",e.CHECK_UPDATE="tauri://update",e.UPDATE_AVAILABLE="tauri://update-available",e.INSTALL_UPDATE="tauri://update-install",e.STATUS_UPDATE="tauri://update-status",e.DOWNLOAD_PROGRESS="tauri://update-download-progress"})(ft||(ft={}));class s2{constructor(t,n){this.type="Logical",this.width=t,this.height=n}}class Nc{constructor(t,n){this.type="Physical",this.width=t,this.height=n}toLogical(t){return new s2(this.width/t,this.height/t)}}class i2{constructor(t,n){this.type="Logical",this.x=t,this.y=n}}class Cc{constructor(t,n){this.type="Physical",this.x=t,this.y=n}toLogical(t){return new i2(this.x/t,this.y/t)}}var kc;(function(e){e[e.Critical=1]="Critical",e[e.Informational=2]="Informational"})(kc||(kc={}));function Np(){return window.__TAURI_METADATA__.__windows.map(e=>new Mi(e.label,{skip:!0}))}const Cp=["tauri://created","tauri://error"];class a2{constructor(t){this.label=t,this.listeners=Object.create(null)}async listen(t,n){return this._handleTauriEvent(t,n)?Promise.resolve(()=>{const r=this.listeners[t];r.splice(r.indexOf(n),1)}):N0(t,this.label,n)}async once(t,n){return this._handleTauriEvent(t,n)?Promise.resolve(()=>{const r=this.listeners[t];r.splice(r.indexOf(n),1)}):r2(t,this.label,n)}async emit(t,n){if(Cp.includes(t)){for(const r of this.listeners[t]||[])r({event:t,id:-1,windowLabel:this.label,payload:n});return Promise.resolve()}return n2(t,this.label,n)}_handleTauriEvent(t,n){return Cp.includes(t)?(t in this.listeners?this.listeners[t].push(n):this.listeners[t]=[n],!0):!1}}class o2 extends a2{async scaleFactor(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})}async innerPosition(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(({x:t,y:n})=>new Cc(t,n))}async outerPosition(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(({x:t,y:n})=>new Cc(t,n))}async innerSize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(({width:t,height:n})=>new Nc(t,n))}async outerSize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(({width:t,height:n})=>new Nc(t,n))}async isFullscreen(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})}async isMinimized(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimized"}}}})}async isMaximized(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})}async isFocused(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFocused"}}}})}async isDecorated(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})}async isResizable(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})}async isMaximizable(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximizable"}}}})}async isMinimizable(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimizable"}}}})}async isClosable(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isClosable"}}}})}async isVisible(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})}async title(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"title"}}}})}async theme(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})}async center(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})}async requestUserAttention(t){let n=null;return t&&(t===kc.Critical?n={type:"Critical"}:n={type:"Informational"}),Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:n}}}})}async setResizable(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:t}}}})}async setMaximizable(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaximizable",payload:t}}}})}async setMinimizable(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinimizable",payload:t}}}})}async setClosable(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setClosable",payload:t}}}})}async setTitle(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:t}}}})}async maximize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})}async unmaximize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})}async toggleMaximize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})}async minimize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})}async unminimize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})}async show(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})}async hide(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})}async close(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})}async setDecorations(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:t}}}})}async setAlwaysOnTop(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:t}}}})}async setContentProtected(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setContentProtected",payload:t}}}})}async setSize(t){if(!t||t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:t.type,data:{width:t.width,height:t.height}}}}}})}async setMinSize(t){if(t&&t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:t?{type:t.type,data:{width:t.width,height:t.height}}:null}}}})}async setMaxSize(t){if(t&&t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:t?{type:t.type,data:{width:t.width,height:t.height}}:null}}}})}async setPosition(t){if(!t||t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:t.type,data:{x:t.x,y:t.y}}}}}})}async setFullscreen(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:t}}}})}async setFocus(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})}async setIcon(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof t=="string"?t:Array.from(t)}}}}})}async setSkipTaskbar(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:t}}}})}async setCursorGrab(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:t}}}})}async setCursorVisible(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:t}}}})}async setCursorIcon(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:t}}}})}async setCursorPosition(t){if(!t||t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:t.type,data:{x:t.x,y:t.y}}}}}})}async setIgnoreCursorEvents(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIgnoreCursorEvents",payload:t}}}})}async startDragging(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})}async onResized(t){return this.listen(ft.WINDOW_RESIZED,n=>{n.payload=c2(n.payload),t(n)})}async onMoved(t){return this.listen(ft.WINDOW_MOVED,n=>{n.payload=u2(n.payload),t(n)})}async onCloseRequested(t){return this.listen(ft.WINDOW_CLOSE_REQUESTED,n=>{const r=new l2(n);Promise.resolve(t(r)).then(()=>{if(!r.isPreventDefault())return this.close()})})}async onFocusChanged(t){const n=await this.listen(ft.WINDOW_FOCUS,s=>{t({...s,payload:!0})}),r=await this.listen(ft.WINDOW_BLUR,s=>{t({...s,payload:!1})});return()=>{n(),r()}}async onScaleChanged(t){return this.listen(ft.WINDOW_SCALE_FACTOR_CHANGED,t)}async onMenuClicked(t){return this.listen(ft.MENU,t)}async onFileDropEvent(t){const n=await this.listen(ft.WINDOW_FILE_DROP,i=>{t({...i,payload:{type:"drop",paths:i.payload}})}),r=await this.listen(ft.WINDOW_FILE_DROP_HOVER,i=>{t({...i,payload:{type:"hover",paths:i.payload}})}),s=await this.listen(ft.WINDOW_FILE_DROP_CANCELLED,i=>{t({...i,payload:{type:"cancel"}})});return()=>{n(),r(),s()}}async onThemeChanged(t){return this.listen(ft.WINDOW_THEME_CHANGED,t)}}class l2{constructor(t){this._preventDefault=!1,this.event=t.event,this.windowLabel=t.windowLabel,this.id=t.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}class Mi extends o2{constructor(t,n={}){super(t),n!=null&&n.skip||Y({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:{label:t,...n}}}}).then(async()=>this.emit("tauri://created")).catch(async r=>this.emit("tauri://error",r))}static getByLabel(t){return Np().some(n=>n.label===t)?new Mi(t,{skip:!0}):null}static async getFocusedWindow(){for(const t of Np())if(await t.isFocused())return t;return null}}let tn;"__TAURI_METADATA__"in window?tn=new Mi(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),tn=new Mi("main",{skip:!0}));function u2(e){return new Cc(e.x,e.y)}function c2(e){return new Nc(e.width,e.height)}var kp;(function(e){e[e.JSON=1]="JSON",e[e.Text=2]="Text",e[e.Binary=3]="Binary"})(kp||(kp={}));function pf(){return navigator.appVersion.includes("Win")}pf();pf();pf();async function d2(){return Y({__tauriModule:"Os",message:{cmd:"platform"}})}async function f2(){return Y({__tauriModule:"Os",message:{cmd:"osType"}})}let Zn=null;const m2=()=>{const e=navigator.userAgent.toLowerCase();return e.includes("linux")&&!e.includes("android")},h2=async()=>{if(Zn!==null)return Zn;try{Zn=await f2()==="Linux",Zn&&console.log("[Linux Detection] Confirmed via Tauri API: Linux")}catch(e){console.warn("[Linux Detection] Tauri API failed, using UserAgent fallback",e),Zn=m2(),Zn&&console.log("[Linux Detection] Detected via UserAgent: Linux")}return Zn||!1};function p2(){const[e,t]=b.useState(!0),[n,r]=b.useState(""),[s,i]=b.useState(!1),a=kr(w=>w.setAboutModalOpen),{activeConnectionId:o,connections:l}=_e(),c=l.find(w=>w.id===o);b.useEffect(()=>{d2().then(r).catch(()=>r("unknown")),h2().then(i).catch(()=>i(!1));const w=tn.onResized(async()=>{const x=await tn.isMaximized();t(x)});return tn.isMaximized().then(t),()=>{w.then(x=>x())}},[]);const d=()=>tn.minimize(),m=async()=>{e?await tn.unmaximize():await tn.maximize()},f=()=>tn.close(),y=n==="darwin";if(s)return null;const v=()=>u.jsxs("div",{className:"flex items-center h-full",children:[u.jsx("button",{onClick:d,className:"h-full w-11 flex items-center justify-center hover:bg-dark-hover transition-colors group",title:"Minimizar",children:u.jsx(Xv,{className:"w-4 h-4 text-dark-muted group-hover:text-dark-text"})}),u.jsx("button",{onClick:m,className:"h-full w-11 flex items-center justify-center hover:bg-dark-hover transition-colors group",title:e?"Restaurar":"Maximizar",children:e?u.jsx(Zv,{className:"w-3.5 h-3.5 text-dark-muted group-hover:text-dark-text"}):u.jsx(Tk,{className:"w-3.5 h-3.5 text-dark-muted group-hover:text-dark-text"})}),u.jsx("button",{onClick:f,className:"h-full w-11 flex items-center justify-center hover:bg-red-600 transition-colors group",title:"Cerrar",children:u.jsx(Vt,{className:"w-4 h-4 text-dark-muted group-hover:text-white"})})]});return u.jsxs("div",{"data-tauri-drag-region":!0,className:"h-9 bg-dark-surface/95 backdrop-blur-sm border-b border-dark-border/50 flex items-center select-none",children:[y&&u.jsxs(u.Fragment,{children:[u.jsx(v,{}),u.jsx("div",{className:"h-4 w-px bg-dark-border/30"})]}),u.jsxs("div",{"data-tauri-drag-region":!0,className:"flex items-center gap-2 px-3 h-full",children:[u.jsx("img",{src:"/icon.png",alt:"QueryX",className:"w-4 h-4 object-contain pointer-events-none",draggable:!1}),u.jsx("span",{className:"text-xs font-bold text-matrix-400 tracking-wide pointer-events-none",children:"QueryX"})]}),c&&u.jsxs("div",{"data-tauri-drag-region":!0,className:"flex items-center gap-2 px-2 h-full",children:[u.jsx("div",{className:"h-3 w-px bg-dark-border/50"}),u.jsxs("div",{className:"flex items-center gap-1.5 text-xs pointer-events-none",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-matrix-500 animate-pulse"}),u.jsx("span",{className:"text-dark-muted",children:"Connected:"}),u.jsx("span",{className:"text-matrix-400 font-medium",children:c.name}),u.jsx("span",{className:"text-dark-muted/50",children:""}),u.jsx("span",{className:"text-dark-text/80",children:c.database})]})]}),u.jsx("div",{"data-tauri-drag-region":!0,className:"flex-1 h-full"}),u.jsx("button",{onClick:()=>a(!0),className:"h-full px-3 flex items-center justify-center hover:bg-dark-hover/50 transition-colors group",title:"Acerca de QueryX (F1)",children:u.jsx(Nk,{className:"w-3.5 h-3.5 text-dark-muted group-hover:text-matrix-400"})}),!y&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-4 w-px bg-dark-border/30"}),u.jsx(v,{})]})]})}function g2(){const{panels:e,setPanelState:t}=Un(),n=a=>a.result?u.jsx(mf,{tab:{id:a.id,connectionId:a.connectionId,query:a.query,result:a.result,error:null,isExecuting:!1}}):null,r=u.jsx(wr,{children:e.filter(a=>a.state==="modal").map(a=>u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] flex items-center justify-center",onClick:()=>t(a.id,"docked"),children:u.jsxs(se.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-dark-surface border border-dark-border/50 rounded-lg shadow-2xl w-[94vw] h-[90vh] flex flex-col overflow-hidden",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-b border-dark-border/30 bg-dark-elevated/50",children:[u.jsxs("span",{className:"text-xs text-dark-muted",children:[a.type,"  ",a.executedAt.toLocaleString()]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>t(a.id,"pinned"),className:"btn btn-ghost px-2 py-1 text-xs flex items-center gap-1",title:"Pinear",children:u.jsx(Jh,{className:"w-3 h-3 rotate-45"})}),u.jsx("button",{onClick:()=>t(a.id,"docked"),className:"btn btn-ghost p-1",title:"Cerrar modal",children:u.jsx(Vt,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden bg-dark-bg",children:n(a)})]})},`modal-${a.id}`))}),s=u.jsx("div",{className:"fixed top-16 right-4 z-[9999] flex flex-col gap-3 max-h-[80vh] overflow-auto pointer-events-auto",children:e.filter(a=>a.state==="pinned").map(a=>u.jsxs("div",{className:"w-[420px] bg-dark-surface/90 border border-dark-border/50 rounded-lg shadow-xl overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-b border-dark-border/30 bg-dark-elevated/50",children:[u.jsx("span",{className:"text-xs text-dark-muted",children:a.type}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>t(a.id,"modal"),className:"btn btn-ghost px-2 py-1 text-xs",title:"Abrir en modal",children:"Modal"}),u.jsx("button",{onClick:()=>t(a.id,"docked"),className:"btn btn-ghost px-2 py-1 text-xs",title:"Volver a dock",children:"Dock"}),u.jsx("button",{onClick:()=>t(a.id,"docked"),className:"btn btn-ghost p-1",title:"Despinear",children:u.jsx(Jh,{className:"w-3 h-3 rotate-45"})})]})]}),u.jsx("div",{className:"max-h-[60vh] overflow-auto bg-dark-bg",children:n(a)})]},`pinned-${a.id}`))});return u.jsxs(u.Fragment,{children:[vr.createPortal(r,document.body),vr.createPortal(s,document.body),null]})}function y2(){const e=S0(r=>r.open),t=Bt(r=>r.open),n=kr(r=>r.setAboutModalOpen);b.useEffect(()=>{const r=s=>{if((s.ctrlKey||s.metaKey)&&s.key==="p"){s.preventDefault(),e();return}if((s.ctrlKey||s.metaKey)&&s.shiftKey&&s.key==="B"){s.preventDefault(),t();return}if(s.key==="F1"){s.preventDefault(),n(!0);return}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e,t,n])}class x2 extends b.Component{constructor(){super(...arguments);Ie(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){var n;return this.state.hasError?(n=this.props.fallback)!=null?n:null:this.props.children}}function v2(){const e=_e(o=>o.loadConnections),t=kr(o=>o.isConnectionModalOpen),{activeConnectionId:n}=_e(),{restoreWorkspace:r}=hf(),{addTab:s}=rt(),[i,a]=b.useState(!1);return y2(),b.useEffect(()=>{e(),ZL()},[e]),b.useEffect(()=>{n&&r(n)},[n,r]),b.useEffect(()=>{async function o(){try{const l=await ne("get_launch_file");if(l){const{path:c,content:d}=l,m=c.split(/[\\/]/).pop()||"Untitled.sql";s({title:m,query:d,connectionId:_e.getState().activeConnectionId||""})}}catch(l){console.error("Failed to open launch file:",l)}}o()},[s]),u.jsxs("div",{className:"h-screen flex flex-col overflow-hidden bg-dark-bg",children:[u.jsx(p2,{}),u.jsx("div",{className:"flex-1 flex overflow-hidden",children:u.jsxs(Cd,{direction:"horizontal",children:[!i&&u.jsx(wi,{defaultSize:16,minSize:12,maxSize:25,children:u.jsx("div",{className:"h-full",children:u.jsx(UT,{})})}),!i&&u.jsx(kd,{className:"w-px bg-dark-border/50 hover:bg-matrix-700/50 transition-all relative group",children:u.jsx("button",{onClick:()=>a(!0),className:"absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-12 bg-dark-surface/90 border border-dark-border/50 rounded-r flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all hover:bg-dark-hover hover:border-matrix-700/50 hover:w-5",title:"Collapse sidebar (Ctrl+B)",children:u.jsx(Wv,{className:"w-3 h-3 text-matrix-400"})})}),i&&u.jsxs("button",{onClick:()=>a(!1),className:"w-7 bg-dark-surface/80 border-r border-dark-border/50 flex flex-col items-center py-3 gap-2 hover:bg-dark-hover hover:w-8 transition-all group",title:"Expand sidebar (Ctrl+B)",children:[u.jsx(of,{className:"w-3.5 h-3.5 text-matrix-400 group-hover:text-matrix-300"}),u.jsx("div",{className:"h-px w-3 bg-dark-border/50"}),u.jsx(fs,{className:"w-3.5 h-3.5 text-dark-muted group-hover:text-matrix-400"})]}),u.jsx(wi,{minSize:50,children:u.jsx($L,{})})]})}),t&&u.jsx(FL,{}),u.jsx(x2,{fallback:u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-2xl w-[60vw] p-6 text-center",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Error en Query Builder"}),u.jsx("p",{className:"text-dark-muted",children:"Ocurri un problema al renderizar el Query Builder. Cierra y vuelve a abrir el modal."})]})}),children:u.jsx(GL,{})}),u.jsx(YL,{}),u.jsx(e2,{}),u.jsx(t2,{}),u.jsx(g2,{})]})}const Da=document.getElementById("root");Da&&(Da.style.backgroundColor="#0b0f0c",Da.style.minHeight="100vh");Yl.createRoot(Da).render(u.jsx(ln.StrictMode,{children:u.jsx(v2,{})}));
