var A0=Object.defineProperty;var R0=(e,t,n)=>t in e?A0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ie=(e,t,n)=>R0(e,typeof t!="symbol"?t+"":t,n);function M0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function kp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tp={exports:{}},vo={},jp={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi=Symbol.for("react.element"),P0=Symbol.for("react.portal"),_0=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),O0=Symbol.for("react.profiler"),D0=Symbol.for("react.provider"),$0=Symbol.for("react.context"),z0=Symbol.for("react.forward_ref"),F0=Symbol.for("react.suspense"),V0=Symbol.for("react.memo"),B0=Symbol.for("react.lazy"),xf=Symbol.iterator;function U0(e){return e===null||typeof e!="object"?null:(e=xf&&e[xf]||e["@@iterator"],typeof e=="function"?e:null)}var Lp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ap=Object.assign,Rp={};function fs(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||Lp}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mp(){}Mp.prototype=fs.prototype;function kc(e,t,n){this.props=e,this.context=t,this.refs=Rp,this.updater=n||Lp}var Tc=kc.prototype=new Mp;Tc.constructor=kc;Ap(Tc,fs.prototype);Tc.isPureReactComponent=!0;var vf=Array.isArray,Pp=Object.prototype.hasOwnProperty,jc={current:null},_p={key:!0,ref:!0,__self:!0,__source:!0};function Ip(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Pp.call(t,r)&&!_p.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Mi,type:e,key:i,ref:a,props:s,_owner:jc.current}}function W0(e,t){return{$$typeof:Mi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mi}function H0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bf=/\/+/g;function Go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H0(""+e.key):t.toString(36)}function ya(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Mi:case P0:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Go(a,0):r,vf(s)?(n="",e!=null&&(n=e.replace(bf,"$&/")+"/"),ya(s,t,n,"",function(c){return c})):s!=null&&(Lc(s)&&(s=W0(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(bf,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",vf(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+Go(i,o);a+=ya(i,t,n,l,s)}else if(l=U0(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+Go(i,o++),a+=ya(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ui(e,t,n){if(e==null)return e;var r=[],s=0;return ya(e,r,"","",function(i){return t.call(n,i,s++)}),r}function q0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},xa={transition:null},Q0={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:xa,ReactCurrentOwner:jc};function Op(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Ui,forEach:function(e,t,n){Ui(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ui(e,function(){t++}),t},toArray:function(e){return Ui(e,function(t){return t})||[]},only:function(e){if(!Lc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=fs;ie.Fragment=_0;ie.Profiler=O0;ie.PureComponent=kc;ie.StrictMode=I0;ie.Suspense=F0;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0;ie.act=Op;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ap({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=jc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Pp.call(t,l)&&!_p.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Mi,type:e.type,key:s,ref:i,props:r,_owner:a}};ie.createContext=function(e){return e={$$typeof:$0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:D0,_context:e},e.Consumer=e};ie.createElement=Ip;ie.createFactory=function(e){var t=Ip.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:z0,render:e}};ie.isValidElement=Lc;ie.lazy=function(e){return{$$typeof:B0,_payload:{_status:-1,_result:e},_init:q0}};ie.memo=function(e,t){return{$$typeof:V0,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=xa.transition;xa.transition={};try{e()}finally{xa.transition=t}};ie.unstable_act=Op;ie.useCallback=function(e,t){return st.current.useCallback(e,t)};ie.useContext=function(e){return st.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return st.current.useDeferredValue(e)};ie.useEffect=function(e,t){return st.current.useEffect(e,t)};ie.useId=function(){return st.current.useId()};ie.useImperativeHandle=function(e,t,n){return st.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return st.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return st.current.useReducer(e,t,n)};ie.useRef=function(e){return st.current.useRef(e)};ie.useState=function(e){return st.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return st.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return st.current.useTransition()};ie.version="18.3.1";jp.exports=ie;var b=jp.exports;const ln=kp(b),K0=M0({__proto__:null,default:ln},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0=b,Y0=Symbol.for("react.element"),X0=Symbol.for("react.fragment"),J0=Object.prototype.hasOwnProperty,Z0=G0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eb={key:!0,ref:!0,__self:!0,__source:!0};function Dp(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)J0.call(t,r)&&!eb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Y0,type:e,key:i,ref:a,props:s,_owner:Z0.current}}vo.Fragment=X0;vo.jsx=Dp;vo.jsxs=Dp;Tp.exports=vo;var u=Tp.exports,Gl={},$p={exports:{}},bt={},zp={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,O){var _=R.length;R.push(O);e:for(;0<_;){var z=_-1>>>1,U=R[z];if(0<s(U,O))R[z]=O,R[_]=U,_=z;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],_=R.pop();if(_!==O){R[0]=_;e:for(var z=0,U=R.length,A=U>>>1;z<A;){var D=2*(z+1)-1,V=R[D],K=D+1,H=R[K];if(0>s(V,_))K<U&&0>s(H,V)?(R[z]=H,R[K]=_,z=K):(R[z]=V,R[D]=_,z=D);else if(K<U&&0>s(H,_))R[z]=H,R[K]=_,z=K;else break e}}return O}function s(R,O){var _=R.sortIndex-O.sortIndex;return _!==0?_:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,m=null,f=3,y=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=R)r(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(c)}}function S(R){if(w=!1,g(R),!v)if(n(l)!==null)v=!0,P(E);else{var O=n(c);O!==null&&J(S,O.startTime-R)}}function E(R,O){v=!1,w&&(w=!1,p(N),N=-1),y=!0;var _=f;try{for(g(O),m=n(l);m!==null&&(!(m.expirationTime>O)||R&&!B());){var z=m.callback;if(typeof z=="function"){m.callback=null,f=m.priorityLevel;var U=z(m.expirationTime<=O);O=e.unstable_now(),typeof U=="function"?m.callback=U:m===n(l)&&r(l),g(O)}else r(l);m=n(l)}if(m!==null)var A=!0;else{var D=n(c);D!==null&&J(S,D.startTime-O),A=!1}return A}finally{m=null,f=_,y=!1}}var C=!1,k=null,N=-1,M=5,T=-1;function B(){return!(e.unstable_now()-T<M)}function X(){if(k!==null){var R=e.unstable_now();T=R;var O=!0;try{O=k(!0,R)}finally{O?Q():(C=!1,k=null)}}else C=!1}var Q;if(typeof h=="function")Q=function(){h(X)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=X,Q=function(){j.postMessage(null)}}else Q=function(){x(X,0)};function P(R){k=R,C||(C=!0,Q())}function J(R,O){N=x(function(){R(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,P(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var _=f;f=O;try{return R()}finally{f=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var _=f;f=R;try{return O()}finally{f=_}},e.unstable_scheduleCallback=function(R,O,_){var z=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?z+_:z):_=z,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=_+U,R={id:d++,callback:O,priorityLevel:R,startTime:_,expirationTime:U,sortIndex:-1},_>z?(R.sortIndex=_,t(c,R),n(l)===null&&R===n(c)&&(w?(p(N),N=-1):w=!0,J(S,_-z))):(R.sortIndex=U,t(l,R),v||y||(v=!0,P(E))),R},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(R){var O=f;return function(){var _=f;f=O;try{return R.apply(this,arguments)}finally{f=_}}}})(Fp);zp.exports=Fp;var tb=zp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb=b,vt=tb;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vp=new Set,ri={};function Sr(e,t){ns(e,t),ns(e+"Capture",t)}function ns(e,t){for(ri[e]=t,e=0;e<t.length;e++)Vp.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=Object.prototype.hasOwnProperty,rb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wf={},Sf={};function sb(e){return Yl.call(Sf,e)?!0:Yl.call(wf,e)?!1:rb.test(e)?Sf[e]=!0:(wf[e]=!0,!1)}function ib(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ab(e,t,n,r){if(t===null||typeof t>"u"||ib(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function Rc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ac,Rc);He[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ac,Rc);He[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ac,Rc);He[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mc(e,t,n,r){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ab(t,n,s,r)&&(n=null),r||s===null?sb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gn=nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wi=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),Pc=Symbol.for("react.strict_mode"),Xl=Symbol.for("react.profiler"),Bp=Symbol.for("react.provider"),Up=Symbol.for("react.context"),_c=Symbol.for("react.forward_ref"),Jl=Symbol.for("react.suspense"),Zl=Symbol.for("react.suspense_list"),Ic=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Wp=Symbol.for("react.offscreen"),Ef=Symbol.iterator;function Ss(e){return e===null||typeof e!="object"?null:(e=Ef&&e[Ef]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Yo;function _s(e){if(Yo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yo=t&&t[1]||""}return`
`+Yo+e}var Xo=!1;function Jo(e,t){if(!e||Xo)return"";Xo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Xo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_s(e):""}function ob(e){switch(e.tag){case 5:return _s(e.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 2:case 15:return e=Jo(e.type,!1),e;case 11:return e=Jo(e.type.render,!1),e;case 1:return e=Jo(e.type,!0),e;default:return""}}function eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Lr:return"Portal";case Xl:return"Profiler";case Pc:return"StrictMode";case Jl:return"Suspense";case Zl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Up:return(e.displayName||"Context")+".Consumer";case Bp:return(e._context.displayName||"Context")+".Provider";case _c:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ic:return t=e.displayName||null,t!==null?t:eu(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return eu(e(t))}catch{}}return null}function lb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eu(t);case 8:return t===Pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ub(e){var t=Hp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hi(e){e._valueTracker||(e._valueTracker=ub(e))}function qp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tu(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function Nf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qp(e,t){t=t.checked,t!=null&&Mc(e,"checked",t,!1)}function nu(e,t){Qp(e,t);var n=zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ru(e,t.type,n):t.hasOwnProperty("defaultValue")&&ru(e,t.type,zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ru(e,t,n){(t!=="number"||Oa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Is=Array.isArray;function Kr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function su(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Is(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zn(n)}}function Kp(e,t){var n=zn(t.value),r=zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qi,Yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qi=qi||document.createElement("div"),qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function si(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cb=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(e){cb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Us[t]=Us[e]})});function Xp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Us.hasOwnProperty(e)&&Us[e]?(""+t).trim():t+"px"}function Jp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Xp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var db=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function au(e,t){if(t){if(db[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function ou(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=null;function Oc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uu=null,Gr=null,Yr=null;function jf(e){if(e=Ii(e)){if(typeof uu!="function")throw Error(I(280));var t=e.stateNode;t&&(t=No(t),uu(e.stateNode,e.type,t))}}function Zp(e){Gr?Yr?Yr.push(e):Yr=[e]:Gr=e}function eg(){if(Gr){var e=Gr,t=Yr;if(Yr=Gr=null,jf(e),t)for(e=0;e<t.length;e++)jf(t[e])}}function tg(e,t){return e(t)}function ng(){}var Zo=!1;function rg(e,t,n){if(Zo)return e(t,n);Zo=!0;try{return tg(e,t,n)}finally{Zo=!1,(Gr!==null||Yr!==null)&&(ng(),eg())}}function ii(e,t){var n=e.stateNode;if(n===null)return null;var r=No(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var cu=!1;if(dn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{cu=!1}function fb(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ws=!1,Da=null,$a=!1,du=null,mb={onError:function(e){Ws=!0,Da=e}};function hb(e,t,n,r,s,i,a,o,l){Ws=!1,Da=null,fb.apply(mb,arguments)}function pb(e,t,n,r,s,i,a,o,l){if(hb.apply(this,arguments),Ws){if(Ws){var c=Da;Ws=!1,Da=null}else throw Error(I(198));$a||($a=!0,du=c)}}function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lf(e){if(Er(e)!==e)throw Error(I(188))}function gb(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Lf(s),e;if(i===r)return Lf(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function ig(e){return e=gb(e),e!==null?ag(e):null}function ag(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ag(e);if(t!==null)return t;e=e.sibling}return null}var og=vt.unstable_scheduleCallback,Af=vt.unstable_cancelCallback,yb=vt.unstable_shouldYield,xb=vt.unstable_requestPaint,Le=vt.unstable_now,vb=vt.unstable_getCurrentPriorityLevel,Dc=vt.unstable_ImmediatePriority,lg=vt.unstable_UserBlockingPriority,za=vt.unstable_NormalPriority,bb=vt.unstable_LowPriority,ug=vt.unstable_IdlePriority,bo=null,Gt=null;function wb(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(bo,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Nb,Sb=Math.log,Eb=Math.LN2;function Nb(e){return e>>>=0,e===0?32:31-(Sb(e)/Eb|0)|0}var Qi=64,Ki=4194304;function Os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Os(o):(i&=a,i!==0&&(r=Os(i)))}else a=n&~s,a!==0?r=Os(a):i!==0&&(r=Os(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dt(t),s=1<<n,r|=e[n],t&=~s;return r}function Cb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Dt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=Cb(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cg(){var e=Qi;return Qi<<=1,!(Qi&4194240)&&(Qi=64),e}function el(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function Tb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function $c(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var de=0;function dg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fg,zc,mg,hg,pg,mu=!1,Gi=[],An=null,Rn=null,Mn=null,ai=new Map,oi=new Map,Nn=[],jb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rf(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(t.pointerId)}}function Ns(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ii(t),t!==null&&zc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Lb(e,t,n,r,s){switch(t){case"focusin":return An=Ns(An,e,t,n,r,s),!0;case"dragenter":return Rn=Ns(Rn,e,t,n,r,s),!0;case"mouseover":return Mn=Ns(Mn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ai.set(i,Ns(ai.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oi.set(i,Ns(oi.get(i)||null,e,t,n,r,s)),!0}return!1}function gg(e){var t=sr(e.target);if(t!==null){var n=Er(t);if(n!==null){if(t=n.tag,t===13){if(t=sg(n),t!==null){e.blockedOn=t,pg(e.priority,function(){mg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lu=r,n.target.dispatchEvent(r),lu=null}else return t=Ii(n),t!==null&&zc(t),e.blockedOn=n,!1;t.shift()}return!0}function Mf(e,t,n){va(e)&&n.delete(t)}function Ab(){mu=!1,An!==null&&va(An)&&(An=null),Rn!==null&&va(Rn)&&(Rn=null),Mn!==null&&va(Mn)&&(Mn=null),ai.forEach(Mf),oi.forEach(Mf)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,mu||(mu=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,Ab)))}function li(e){function t(s){return Cs(s,e)}if(0<Gi.length){Cs(Gi[0],e);for(var n=1;n<Gi.length;n++){var r=Gi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(An!==null&&Cs(An,e),Rn!==null&&Cs(Rn,e),Mn!==null&&Cs(Mn,e),ai.forEach(t),oi.forEach(t),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)gg(n),n.blockedOn===null&&Nn.shift()}var Xr=gn.ReactCurrentBatchConfig,Va=!0;function Rb(e,t,n,r){var s=de,i=Xr.transition;Xr.transition=null;try{de=1,Fc(e,t,n,r)}finally{de=s,Xr.transition=i}}function Mb(e,t,n,r){var s=de,i=Xr.transition;Xr.transition=null;try{de=4,Fc(e,t,n,r)}finally{de=s,Xr.transition=i}}function Fc(e,t,n,r){if(Va){var s=hu(e,t,n,r);if(s===null)cl(e,t,r,Ba,n),Rf(e,r);else if(Lb(s,e,t,n,r))r.stopPropagation();else if(Rf(e,r),t&4&&-1<jb.indexOf(e)){for(;s!==null;){var i=Ii(s);if(i!==null&&fg(i),i=hu(e,t,n,r),i===null&&cl(e,t,r,Ba,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cl(e,t,r,null,n)}}var Ba=null;function hu(e,t,n,r){if(Ba=null,e=Oc(r),e=sr(e),e!==null)if(t=Er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ba=e,null}function yg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vb()){case Dc:return 1;case lg:return 4;case za:case bb:return 16;case ug:return 536870912;default:return 16}default:return 16}}var Tn=null,Vc=null,ba=null;function xg(){if(ba)return ba;var e,t=Vc,n=t.length,r,s="value"in Tn?Tn.value:Tn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return ba=s.slice(e,1<r?1-r:void 0)}function wa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function Pf(){return!1}function wt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yi:Pf,this.isPropagationStopped=Pf,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),t}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bc=wt(ms),_i=Ne({},ms,{view:0,detail:0}),Pb=wt(_i),tl,nl,ks,wo=Ne({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(tl=e.screenX-ks.screenX,nl=e.screenY-ks.screenY):nl=tl=0,ks=e),tl)},movementY:function(e){return"movementY"in e?e.movementY:nl}}),_f=wt(wo),_b=Ne({},wo,{dataTransfer:0}),Ib=wt(_b),Ob=Ne({},_i,{relatedTarget:0}),rl=wt(Ob),Db=Ne({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),$b=wt(Db),zb=Ne({},ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fb=wt(zb),Vb=Ne({},ms,{data:0}),If=wt(Vb),Bb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ub={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wb[e])?!!t[e]:!1}function Uc(){return Hb}var qb=Ne({},_i,{key:function(e){if(e.key){var t=Bb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ub[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uc,charCode:function(e){return e.type==="keypress"?wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qb=wt(qb),Kb=Ne({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Of=wt(Kb),Gb=Ne({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uc}),Yb=wt(Gb),Xb=Ne({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jb=wt(Xb),Zb=Ne({},wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ew=wt(Zb),tw=[9,13,27,32],Wc=dn&&"CompositionEvent"in window,Hs=null;dn&&"documentMode"in document&&(Hs=document.documentMode);var nw=dn&&"TextEvent"in window&&!Hs,vg=dn&&(!Wc||Hs&&8<Hs&&11>=Hs),Df=" ",$f=!1;function bg(e,t){switch(e){case"keyup":return tw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function rw(e,t){switch(e){case"compositionend":return wg(t);case"keypress":return t.which!==32?null:($f=!0,Df);case"textInput":return e=t.data,e===Df&&$f?null:e;default:return null}}function sw(e,t){if(Rr)return e==="compositionend"||!Wc&&bg(e,t)?(e=xg(),ba=Vc=Tn=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vg&&t.locale!=="ko"?null:t.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iw[e.type]:t==="textarea"}function Sg(e,t,n,r){Zp(r),t=Ua(t,"onChange"),0<t.length&&(n=new Bc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qs=null,ui=null;function aw(e){Pg(e,0)}function So(e){var t=_r(e);if(qp(t))return e}function ow(e,t){if(e==="change")return t}var Eg=!1;if(dn){var sl;if(dn){var il="oninput"in document;if(!il){var Ff=document.createElement("div");Ff.setAttribute("oninput","return;"),il=typeof Ff.oninput=="function"}sl=il}else sl=!1;Eg=sl&&(!document.documentMode||9<document.documentMode)}function Vf(){qs&&(qs.detachEvent("onpropertychange",Ng),ui=qs=null)}function Ng(e){if(e.propertyName==="value"&&So(ui)){var t=[];Sg(t,ui,e,Oc(e)),rg(aw,t)}}function lw(e,t,n){e==="focusin"?(Vf(),qs=t,ui=n,qs.attachEvent("onpropertychange",Ng)):e==="focusout"&&Vf()}function uw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return So(ui)}function cw(e,t){if(e==="click")return So(t)}function dw(e,t){if(e==="input"||e==="change")return So(t)}function fw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:fw;function ci(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yl.call(t,s)||!Ft(e[s],t[s]))return!1}return!0}function Bf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uf(e,t){var n=Bf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bf(n)}}function Cg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kg(){for(var e=window,t=Oa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oa(e.document)}return t}function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mw(e){var t=kg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cg(n.ownerDocument.documentElement,n)){if(r!==null&&Hc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Uf(n,i);var a=Uf(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hw=dn&&"documentMode"in document&&11>=document.documentMode,Mr=null,pu=null,Qs=null,gu=!1;function Wf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gu||Mr==null||Mr!==Oa(r)||(r=Mr,"selectionStart"in r&&Hc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qs&&ci(Qs,r)||(Qs=r,r=Ua(pu,"onSelect"),0<r.length&&(t=new Bc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mr)))}function Xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},al={},Tg={};dn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Eo(e){if(al[e])return al[e];if(!Pr[e])return e;var t=Pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tg)return al[e]=t[n];return e}var jg=Eo("animationend"),Lg=Eo("animationiteration"),Ag=Eo("animationstart"),Rg=Eo("transitionend"),Mg=new Map,Hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){Mg.set(e,t),Sr(t,[e])}for(var ol=0;ol<Hf.length;ol++){var ll=Hf[ol],pw=ll.toLowerCase(),gw=ll[0].toUpperCase()+ll.slice(1);Wn(pw,"on"+gw)}Wn(jg,"onAnimationEnd");Wn(Lg,"onAnimationIteration");Wn(Ag,"onAnimationStart");Wn("dblclick","onDoubleClick");Wn("focusin","onFocus");Wn("focusout","onBlur");Wn(Rg,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function qf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pb(r,t,void 0,e),e.currentTarget=null}function Pg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;qf(s,o,c),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;qf(s,o,c),i=l}}}if($a)throw e=du,$a=!1,du=null,e}function pe(e,t){var n=t[wu];n===void 0&&(n=t[wu]=new Set);var r=e+"__bubble";n.has(r)||(_g(t,e,2,!1),n.add(r))}function ul(e,t,n){var r=0;t&&(r|=4),_g(n,e,r,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function di(e){if(!e[Ji]){e[Ji]=!0,Vp.forEach(function(n){n!=="selectionchange"&&(yw.has(n)||ul(n,!1,e),ul(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,ul("selectionchange",!1,t))}}function _g(e,t,n,r){switch(yg(t)){case 1:var s=Rb;break;case 4:s=Mb;break;default:s=Fc}n=s.bind(null,t,n,e),s=void 0,!cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function cl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=sr(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}rg(function(){var c=i,d=Oc(n),m=[];e:{var f=Mg.get(e);if(f!==void 0){var y=Bc,v=e;switch(e){case"keypress":if(wa(n)===0)break e;case"keydown":case"keyup":y=Qb;break;case"focusin":v="focus",y=rl;break;case"focusout":v="blur",y=rl;break;case"beforeblur":case"afterblur":y=rl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ib;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Yb;break;case jg:case Lg:case Ag:y=$b;break;case Rg:y=Jb;break;case"scroll":y=Pb;break;case"wheel":y=ew;break;case"copy":case"cut":case"paste":y=Fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Of}var w=(t&4)!==0,x=!w&&e==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var h=c,g;h!==null;){g=h;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,p!==null&&(S=ii(h,p),S!=null&&w.push(fi(h,S,g)))),x)break;h=h.return}0<w.length&&(f=new y(f,v,null,n,d),m.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==lu&&(v=n.relatedTarget||n.fromElement)&&(sr(v)||v[fn]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?sr(v):null,v!==null&&(x=Er(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(w=_f,S="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=Of,S="onPointerLeave",p="onPointerEnter",h="pointer"),x=y==null?f:_r(y),g=v==null?f:_r(v),f=new w(S,h+"leave",y,n,d),f.target=x,f.relatedTarget=g,S=null,sr(d)===c&&(w=new w(p,h+"enter",v,n,d),w.target=g,w.relatedTarget=x,S=w),x=S,y&&v)t:{for(w=y,p=v,h=0,g=w;g;g=Cr(g))h++;for(g=0,S=p;S;S=Cr(S))g++;for(;0<h-g;)w=Cr(w),h--;for(;0<g-h;)p=Cr(p),g--;for(;h--;){if(w===p||p!==null&&w===p.alternate)break t;w=Cr(w),p=Cr(p)}w=null}else w=null;y!==null&&Qf(m,f,y,w,!1),v!==null&&x!==null&&Qf(m,x,v,w,!0)}}e:{if(f=c?_r(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var E=ow;else if(zf(f))if(Eg)E=dw;else{E=uw;var C=lw}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=cw);if(E&&(E=E(e,c))){Sg(m,E,n,d);break e}C&&C(e,f,c),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ru(f,"number",f.value)}switch(C=c?_r(c):window,e){case"focusin":(zf(C)||C.contentEditable==="true")&&(Mr=C,pu=c,Qs=null);break;case"focusout":Qs=pu=Mr=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,Wf(m,n,d);break;case"selectionchange":if(hw)break;case"keydown":case"keyup":Wf(m,n,d)}var k;if(Wc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Rr?bg(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(vg&&n.locale!=="ko"&&(Rr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Rr&&(k=xg()):(Tn=d,Vc="value"in Tn?Tn.value:Tn.textContent,Rr=!0)),C=Ua(c,N),0<C.length&&(N=new If(N,e,null,n,d),m.push({event:N,listeners:C}),k?N.data=k:(k=wg(n),k!==null&&(N.data=k)))),(k=nw?rw(e,n):sw(e,n))&&(c=Ua(c,"onBeforeInput"),0<c.length&&(d=new If("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=k))}Pg(m,t)})}function fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ua(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ii(e,n),i!=null&&r.unshift(fi(e,i,s)),i=ii(e,t),i!=null&&r.push(fi(e,i,s))),e=e.return}return r}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qf(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,s?(l=ii(n,i),l!=null&&a.unshift(fi(n,l,o))):s||(l=ii(n,i),l!=null&&a.push(fi(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var xw=/\r\n?/g,vw=/\u0000|\uFFFD/g;function Kf(e){return(typeof e=="string"?e:""+e).replace(xw,`
`).replace(vw,"")}function Zi(e,t,n){if(t=Kf(t),Kf(e)!==t&&n)throw Error(I(425))}function Wa(){}var yu=null,xu=null;function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,ww=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(e){return Gf.resolve(null).then(e).catch(Sw)}:bu;function Sw(e){setTimeout(function(){throw e})}function dl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),li(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);li(t)}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),qt="__reactFiber$"+hs,mi="__reactProps$"+hs,fn="__reactContainer$"+hs,wu="__reactEvents$"+hs,Ew="__reactListeners$"+hs,Nw="__reactHandles$"+hs;function sr(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fn]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yf(e);e!==null;){if(n=e[qt])return n;e=Yf(e)}return t}e=n,n=e.parentNode}return null}function Ii(e){return e=e[qt]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function No(e){return e[mi]||null}var Su=[],Ir=-1;function Hn(e){return{current:e}}function ge(e){0>Ir||(e.current=Su[Ir],Su[Ir]=null,Ir--)}function he(e,t){Ir++,Su[Ir]=e.current,e.current=t}var Fn={},Je=Hn(Fn),ut=Hn(!1),mr=Fn;function rs(e,t){var n=e.type.contextTypes;if(!n)return Fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ct(e){return e=e.childContextTypes,e!=null}function Ha(){ge(ut),ge(Je)}function Xf(e,t,n){if(Je.current!==Fn)throw Error(I(168));he(Je,t),he(ut,n)}function Ig(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,lb(e)||"Unknown",s));return Ne({},n,r)}function qa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,mr=Je.current,he(Je,e),he(ut,ut.current),!0}function Jf(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Ig(e,t,mr),r.__reactInternalMemoizedMergedChildContext=e,ge(ut),ge(Je),he(Je,e)):ge(ut),he(ut,n)}var nn=null,Co=!1,fl=!1;function Og(e){nn===null?nn=[e]:nn.push(e)}function Cw(e){Co=!0,Og(e)}function qn(){if(!fl&&nn!==null){fl=!0;var e=0,t=de;try{var n=nn;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,Co=!1}catch(s){throw nn!==null&&(nn=nn.slice(e+1)),og(Dc,qn),s}finally{de=t,fl=!1}}return null}var Or=[],Dr=0,Qa=null,Ka=0,Et=[],Nt=0,hr=null,an=1,on="";function Zn(e,t){Or[Dr++]=Ka,Or[Dr++]=Qa,Qa=e,Ka=t}function Dg(e,t,n){Et[Nt++]=an,Et[Nt++]=on,Et[Nt++]=hr,hr=e;var r=an;e=on;var s=32-Dt(r)-1;r&=~(1<<s),n+=1;var i=32-Dt(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,an=1<<32-Dt(t)+s|n<<s|r,on=i+e}else an=1<<i|n<<s|r,on=e}function qc(e){e.return!==null&&(Zn(e,1),Dg(e,1,0))}function Qc(e){for(;e===Qa;)Qa=Or[--Dr],Or[Dr]=null,Ka=Or[--Dr],Or[Dr]=null;for(;e===hr;)hr=Et[--Nt],Et[Nt]=null,on=Et[--Nt],Et[Nt]=null,an=Et[--Nt],Et[Nt]=null}var xt=null,gt=null,ve=!1,Ot=null;function $g(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,gt=Pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hr!==null?{id:an,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,gt=null,!0):!1;default:return!1}}function Eu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nu(e){if(ve){var t=gt;if(t){var n=t;if(!Zf(e,t)){if(Eu(e))throw Error(I(418));t=Pn(n.nextSibling);var r=xt;t&&Zf(e,t)?$g(r,n):(e.flags=e.flags&-4097|2,ve=!1,xt=e)}}else{if(Eu(e))throw Error(I(418));e.flags=e.flags&-4097|2,ve=!1,xt=e}}}function em(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function ea(e){if(e!==xt)return!1;if(!ve)return em(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vu(e.type,e.memoizedProps)),t&&(t=gt)){if(Eu(e))throw zg(),Error(I(418));for(;t;)$g(e,t),t=Pn(t.nextSibling)}if(em(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=Pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=xt?Pn(e.stateNode.nextSibling):null;return!0}function zg(){for(var e=gt;e;)e=Pn(e.nextSibling)}function ss(){gt=xt=null,ve=!1}function Kc(e){Ot===null?Ot=[e]:Ot.push(e)}var kw=gn.ReactCurrentBatchConfig;function Ts(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function ta(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tm(e){var t=e._init;return t(e._payload)}function Fg(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=Dn(p,h),p.index=0,p.sibling=null,p}function i(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,h,g,S){return h===null||h.tag!==6?(h=vl(g,p.mode,S),h.return=p,h):(h=s(h,g),h.return=p,h)}function l(p,h,g,S){var E=g.type;return E===Ar?d(p,h,g.props.children,S,g.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sn&&tm(E)===h.type)?(S=s(h,g.props),S.ref=Ts(p,h,g),S.return=p,S):(S=ja(g.type,g.key,g.props,null,p.mode,S),S.ref=Ts(p,h,g),S.return=p,S)}function c(p,h,g,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=bl(g,p.mode,S),h.return=p,h):(h=s(h,g.children||[]),h.return=p,h)}function d(p,h,g,S,E){return h===null||h.tag!==7?(h=cr(g,p.mode,S,E),h.return=p,h):(h=s(h,g),h.return=p,h)}function m(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=vl(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Wi:return g=ja(h.type,h.key,h.props,null,p.mode,g),g.ref=Ts(p,null,h),g.return=p,g;case Lr:return h=bl(h,p.mode,g),h.return=p,h;case Sn:var S=h._init;return m(p,S(h._payload),g)}if(Is(h)||Ss(h))return h=cr(h,p.mode,g,null),h.return=p,h;ta(p,h)}return null}function f(p,h,g,S){var E=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:o(p,h,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wi:return g.key===E?l(p,h,g,S):null;case Lr:return g.key===E?c(p,h,g,S):null;case Sn:return E=g._init,f(p,h,E(g._payload),S)}if(Is(g)||Ss(g))return E!==null?null:d(p,h,g,S,null);ta(p,g)}return null}function y(p,h,g,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(g)||null,o(h,p,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Wi:return p=p.get(S.key===null?g:S.key)||null,l(h,p,S,E);case Lr:return p=p.get(S.key===null?g:S.key)||null,c(h,p,S,E);case Sn:var C=S._init;return y(p,h,g,C(S._payload),E)}if(Is(S)||Ss(S))return p=p.get(g)||null,d(h,p,S,E,null);ta(h,S)}return null}function v(p,h,g,S){for(var E=null,C=null,k=h,N=h=0,M=null;k!==null&&N<g.length;N++){k.index>N?(M=k,k=null):M=k.sibling;var T=f(p,k,g[N],S);if(T===null){k===null&&(k=M);break}e&&k&&T.alternate===null&&t(p,k),h=i(T,h,N),C===null?E=T:C.sibling=T,C=T,k=M}if(N===g.length)return n(p,k),ve&&Zn(p,N),E;if(k===null){for(;N<g.length;N++)k=m(p,g[N],S),k!==null&&(h=i(k,h,N),C===null?E=k:C.sibling=k,C=k);return ve&&Zn(p,N),E}for(k=r(p,k);N<g.length;N++)M=y(k,p,N,g[N],S),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?N:M.key),h=i(M,h,N),C===null?E=M:C.sibling=M,C=M);return e&&k.forEach(function(B){return t(p,B)}),ve&&Zn(p,N),E}function w(p,h,g,S){var E=Ss(g);if(typeof E!="function")throw Error(I(150));if(g=E.call(g),g==null)throw Error(I(151));for(var C=E=null,k=h,N=h=0,M=null,T=g.next();k!==null&&!T.done;N++,T=g.next()){k.index>N?(M=k,k=null):M=k.sibling;var B=f(p,k,T.value,S);if(B===null){k===null&&(k=M);break}e&&k&&B.alternate===null&&t(p,k),h=i(B,h,N),C===null?E=B:C.sibling=B,C=B,k=M}if(T.done)return n(p,k),ve&&Zn(p,N),E;if(k===null){for(;!T.done;N++,T=g.next())T=m(p,T.value,S),T!==null&&(h=i(T,h,N),C===null?E=T:C.sibling=T,C=T);return ve&&Zn(p,N),E}for(k=r(p,k);!T.done;N++,T=g.next())T=y(k,p,N,T.value,S),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?N:T.key),h=i(T,h,N),C===null?E=T:C.sibling=T,C=T);return e&&k.forEach(function(X){return t(p,X)}),ve&&Zn(p,N),E}function x(p,h,g,S){if(typeof g=="object"&&g!==null&&g.type===Ar&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Wi:e:{for(var E=g.key,C=h;C!==null;){if(C.key===E){if(E=g.type,E===Ar){if(C.tag===7){n(p,C.sibling),h=s(C,g.props.children),h.return=p,p=h;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Sn&&tm(E)===C.type){n(p,C.sibling),h=s(C,g.props),h.ref=Ts(p,C,g),h.return=p,p=h;break e}n(p,C);break}else t(p,C);C=C.sibling}g.type===Ar?(h=cr(g.props.children,p.mode,S,g.key),h.return=p,p=h):(S=ja(g.type,g.key,g.props,null,p.mode,S),S.ref=Ts(p,h,g),S.return=p,p=S)}return a(p);case Lr:e:{for(C=g.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=s(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=bl(g,p.mode,S),h.return=p,p=h}return a(p);case Sn:return C=g._init,x(p,h,C(g._payload),S)}if(Is(g))return v(p,h,g,S);if(Ss(g))return w(p,h,g,S);ta(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=s(h,g),h.return=p,p=h):(n(p,h),h=vl(g,p.mode,S),h.return=p,p=h),a(p)):n(p,h)}return x}var is=Fg(!0),Vg=Fg(!1),Ga=Hn(null),Ya=null,$r=null,Gc=null;function Yc(){Gc=$r=Ya=null}function Xc(e){var t=Ga.current;ge(Ga),e._currentValue=t}function Cu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Jr(e,t){Ya=e,Gc=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Gc!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if(Ya===null)throw Error(I(308));$r=e,Ya.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var ir=null;function Jc(e){ir===null?ir=[e]:ir.push(e)}function Bg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Jc(t)):(n.next=s.next,s.next=n),t.interleaved=n,mn(e,r)}function mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function Zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ug(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,mn(e,n)}return s=r.interleaved,s===null?(t.next=t,Jc(r)):(t.next=s.next,s.next=t),r.interleaved=t,mn(e,n)}function Sa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$c(e,n)}}function nm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xa(e,t,n,r){var s=e.updateQueue;En=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var m=s.baseState;a=0,d=c=l=null,o=i;do{var f=o.lane,y=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,w=o;switch(f=t,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){m=v.call(y,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(y,m,f):v,f==null)break e;m=Ne({},m,f);break e;case 2:En=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=y,l=m):d=d.next=y,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=m),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gr|=a,e.lanes=a,e.memoizedState=m}}function rm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var Oi={},Yt=Hn(Oi),hi=Hn(Oi),pi=Hn(Oi);function ar(e){if(e===Oi)throw Error(I(174));return e}function ed(e,t){switch(he(pi,t),he(hi,e),he(Yt,Oi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iu(t,e)}ge(Yt),he(Yt,t)}function as(){ge(Yt),ge(hi),ge(pi)}function Wg(e){ar(pi.current);var t=ar(Yt.current),n=iu(t,e.type);t!==n&&(he(hi,e),he(Yt,n))}function td(e){hi.current===e&&(ge(Yt),ge(hi))}var we=Hn(0);function Ja(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=[];function nd(){for(var e=0;e<ml.length;e++)ml[e]._workInProgressVersionPrimary=null;ml.length=0}var Ea=gn.ReactCurrentDispatcher,hl=gn.ReactCurrentBatchConfig,pr=0,Ee=null,De=null,ze=null,Za=!1,Ks=!1,gi=0,Tw=0;function Qe(){throw Error(I(321))}function rd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function sd(e,t,n,r,s,i){if(pr=i,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ea.current=e===null||e.memoizedState===null?Rw:Mw,e=n(r,s),Ks){i=0;do{if(Ks=!1,gi=0,25<=i)throw Error(I(301));i+=1,ze=De=null,t.updateQueue=null,Ea.current=Pw,e=n(r,s)}while(Ks)}if(Ea.current=eo,t=De!==null&&De.next!==null,pr=0,ze=De=Ee=null,Za=!1,t)throw Error(I(300));return e}function id(){var e=gi!==0;return gi=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ee.memoizedState=ze=e:ze=ze.next=e,ze}function At(){if(De===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=ze===null?Ee.memoizedState:ze.next;if(t!==null)ze=t,De=e;else{if(e===null)throw Error(I(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},ze===null?Ee.memoizedState=ze=e:ze=ze.next=e}return ze}function yi(e,t){return typeof t=="function"?t(e):t}function pl(e){var t=At(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=De,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((pr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=m,a=r):l=l.next=m,Ee.lanes|=d,gr|=d}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=o,Ft(r,t.memoizedState)||(lt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ee.lanes|=i,gr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gl(e){var t=At(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ft(i,t.memoizedState)||(lt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Hg(){}function qg(e,t){var n=Ee,r=At(),s=t(),i=!Ft(r.memoizedState,s);if(i&&(r.memoizedState=s,lt=!0),r=r.queue,ad(Gg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,xi(9,Kg.bind(null,n,r,s,t),void 0,null),Fe===null)throw Error(I(349));pr&30||Qg(n,t,s)}return s}function Qg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kg(e,t,n,r){t.value=n,t.getSnapshot=r,Yg(t)&&Xg(e)}function Gg(e,t,n){return n(function(){Yg(t)&&Xg(e)})}function Yg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function Xg(e){var t=mn(e,1);t!==null&&$t(t,e,1,-1)}function sm(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Aw.bind(null,Ee,e),[t.memoizedState,e]}function xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ee.updateQueue,t===null?(t={lastEffect:null,stores:null},Ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Jg(){return At().memoizedState}function Na(e,t,n,r){var s=Ht();Ee.flags|=e,s.memoizedState=xi(1|t,n,void 0,r===void 0?null:r)}function ko(e,t,n,r){var s=At();r=r===void 0?null:r;var i=void 0;if(De!==null){var a=De.memoizedState;if(i=a.destroy,r!==null&&rd(r,a.deps)){s.memoizedState=xi(t,n,i,r);return}}Ee.flags|=e,s.memoizedState=xi(1|t,n,i,r)}function im(e,t){return Na(8390656,8,e,t)}function ad(e,t){return ko(2048,8,e,t)}function Zg(e,t){return ko(4,2,e,t)}function ey(e,t){return ko(4,4,e,t)}function ty(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ny(e,t,n){return n=n!=null?n.concat([e]):null,ko(4,4,ty.bind(null,t,e),n)}function od(){}function ry(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sy(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function iy(e,t,n){return pr&21?(Ft(n,t)||(n=cg(),Ee.lanes|=n,gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=n)}function jw(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=hl.transition;hl.transition={};try{e(!1),t()}finally{de=n,hl.transition=r}}function ay(){return At().memoizedState}function Lw(e,t,n){var r=On(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oy(e))ly(t,n);else if(n=Bg(e,t,n,r),n!==null){var s=nt();$t(n,e,r,s),uy(n,t,r)}}function Aw(e,t,n){var r=On(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oy(e))ly(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Ft(o,a)){var l=t.interleaved;l===null?(s.next=s,Jc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Bg(e,t,s,r),n!==null&&(s=nt(),$t(n,e,r,s),uy(n,t,r))}}function oy(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function ly(e,t){Ks=Za=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$c(e,n)}}var eo={readContext:Lt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Rw={readContext:Lt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:im,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Na(4194308,4,ty.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Lw.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:sm,useDebugValue:od,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=sm(!1),t=e[0];return e=jw.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ee,s=Ht();if(ve){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Fe===null)throw Error(I(349));pr&30||Qg(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,im(Gg.bind(null,r,i,e),[e]),r.flags|=2048,xi(9,Kg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Fe.identifierPrefix;if(ve){var n=on,r=an;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mw={readContext:Lt,useCallback:ry,useContext:Lt,useEffect:ad,useImperativeHandle:ny,useInsertionEffect:Zg,useLayoutEffect:ey,useMemo:sy,useReducer:pl,useRef:Jg,useState:function(){return pl(yi)},useDebugValue:od,useDeferredValue:function(e){var t=At();return iy(t,De.memoizedState,e)},useTransition:function(){var e=pl(yi)[0],t=At().memoizedState;return[e,t]},useMutableSource:Hg,useSyncExternalStore:qg,useId:ay,unstable_isNewReconciler:!1},Pw={readContext:Lt,useCallback:ry,useContext:Lt,useEffect:ad,useImperativeHandle:ny,useInsertionEffect:Zg,useLayoutEffect:ey,useMemo:sy,useReducer:gl,useRef:Jg,useState:function(){return gl(yi)},useDebugValue:od,useDeferredValue:function(e){var t=At();return De===null?t.memoizedState=e:iy(t,De.memoizedState,e)},useTransition:function(){var e=gl(yi)[0],t=At().memoizedState;return[e,t]},useMutableSource:Hg,useSyncExternalStore:qg,useId:ay,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ku(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var To={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),s=On(e),i=un(r,s);i.payload=t,n!=null&&(i.callback=n),t=_n(e,i,s),t!==null&&($t(t,e,s,r),Sa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),s=On(e),i=un(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_n(e,i,s),t!==null&&($t(t,e,s,r),Sa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=On(e),s=un(n,r);s.tag=2,t!=null&&(s.callback=t),t=_n(e,s,r),t!==null&&($t(t,e,r,n),Sa(t,e,r))}};function am(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!ci(n,r)||!ci(s,i):!0}function cy(e,t,n){var r=!1,s=Fn,i=t.contextType;return typeof i=="object"&&i!==null?i=Lt(i):(s=ct(t)?mr:Je.current,r=t.contextTypes,i=(r=r!=null)?rs(e,s):Fn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=To,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function om(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function Tu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Zc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lt(i):(i=ct(t)?mr:Je.current,s.context=rs(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ku(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&To.enqueueReplaceState(s,s.state,null),Xa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function os(e,t){try{var n="",r=t;do n+=ob(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function yl(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function ju(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _w=typeof WeakMap=="function"?WeakMap:Map;function dy(e,t,n){n=un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){no||(no=!0,$u=r),ju(e,t)},n}function fy(e,t,n){n=un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ju(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ju(e,t),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function lm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _w;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Kw.bind(null,e,t,n),t.then(e,e))}function um(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=un(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e)}var Iw=gn.ReactCurrentOwner,lt=!1;function Ze(e,t,n,r){t.child=e===null?Vg(t,null,n,r):is(t,e.child,n,r)}function dm(e,t,n,r,s){n=n.render;var i=t.ref;return Jr(t,s),r=sd(e,t,n,r,i,s),n=id(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(ve&&n&&qc(t),t.flags|=1,Ze(e,t,r,s),t.child)}function fm(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!pd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,my(e,t,i,r,s)):(e=ja(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(a,r)&&e.ref===t.ref)return hn(e,t,s)}return t.flags|=1,e=Dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function my(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ci(i,r)&&e.ref===t.ref)if(lt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,hn(e,t,s)}return Lu(e,t,n,r,s)}function hy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Fr,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Fr,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,he(Fr,mt),mt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,he(Fr,mt),mt|=r;return Ze(e,t,s,n),t.child}function py(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lu(e,t,n,r,s){var i=ct(n)?mr:Je.current;return i=rs(t,i),Jr(t,s),n=sd(e,t,n,r,i,s),r=id(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(ve&&r&&qc(t),t.flags|=1,Ze(e,t,n,s),t.child)}function mm(e,t,n,r,s){if(ct(n)){var i=!0;qa(t)}else i=!1;if(Jr(t,s),t.stateNode===null)Ca(e,t),cy(t,n,r),Tu(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Lt(c):(c=ct(n)?mr:Je.current,c=rs(t,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&om(t,a,r,c),En=!1;var f=t.memoizedState;a.state=f,Xa(t,r,a,s),l=t.memoizedState,o!==r||f!==l||ut.current||En?(typeof d=="function"&&(ku(t,n,d,r),l=t.memoizedState),(o=En||am(t,n,o,r,f,l,c))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ug(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:_t(t.type,o),a.props=c,m=t.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Lt(l):(l=ct(n)?mr:Je.current,l=rs(t,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||f!==l)&&om(t,a,r,l),En=!1,f=t.memoizedState,a.state=f,Xa(t,r,a,s);var v=t.memoizedState;o!==m||f!==v||ut.current||En?(typeof y=="function"&&(ku(t,n,y,r),v=t.memoizedState),(c=En||am(t,n,c,r,f,v,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,i,s)}function Au(e,t,n,r,s,i){py(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Jf(t,n,!1),hn(e,t,i);r=t.stateNode,Iw.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=is(t,e.child,null,i),t.child=is(t,null,o,i)):Ze(e,t,o,i),t.memoizedState=r.state,s&&Jf(t,n,!0),t.child}function gy(e){var t=e.stateNode;t.pendingContext?Xf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xf(e,t.context,!1),ed(e,t.containerInfo)}function hm(e,t,n,r,s){return ss(),Kc(s),t.flags|=256,Ze(e,t,n,r),t.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function yy(e,t,n){var r=t.pendingProps,s=we.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),he(we,s&1),e===null)return Nu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ao(a,r,0,null),e=cr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mu(n),t.memoizedState=Ru,e):ld(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Ow(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Dn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Dn(o,i):(i=cr(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Mu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ru,r}return i=e.child,e=i.sibling,r=Dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ld(e,t){return t=Ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function na(e,t,n,r){return r!==null&&Kc(r),is(t,e.child,null,n),e=ld(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ow(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=yl(Error(I(422))),na(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ao({mode:"visible",children:r.children},s,0,null),i=cr(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&is(t,e.child,null,a),t.child.memoizedState=Mu(a),t.memoizedState=Ru,i);if(!(t.mode&1))return na(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(I(419)),r=yl(i,r,void 0),na(e,t,a,r)}if(o=(a&e.childLanes)!==0,lt||o){if(r=Fe,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mn(e,s),$t(r,e,s,-1))}return hd(),r=yl(Error(I(421))),na(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Gw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,gt=Pn(s.nextSibling),xt=t,ve=!0,Ot=null,e!==null&&(Et[Nt++]=an,Et[Nt++]=on,Et[Nt++]=hr,an=e.id,on=e.overflow,hr=t),t=ld(t,r.children),t.flags|=4096,t)}function pm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cu(e.return,t,n)}function xl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ze(e,t,r.children,n),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pm(e,n,t);else if(e.tag===19)pm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(we,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ja(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ja(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xl(t,!0,n,null,i);break;case"together":xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ca(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dw(e,t,n){switch(t.tag){case 3:gy(t),ss();break;case 5:Wg(t);break;case 1:ct(t.type)&&qa(t);break;case 4:ed(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;he(Ga,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(we,we.current&1),t.flags|=128,null):n&t.child.childLanes?yy(e,t,n):(he(we,we.current&1),e=hn(e,t,n),e!==null?e.sibling:null);he(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,hy(e,t,n)}return hn(e,t,n)}var vy,Pu,by,wy;vy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pu=function(){};by=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ar(Yt.current);var i=null;switch(n){case"input":s=tu(e,s),r=tu(e,r),i=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),i=[];break;case"textarea":s=su(e,s),r=su(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wa)}au(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ri.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ri.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pe("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};wy=function(e,t,n,r){n!==r&&(t.flags|=4)};function js(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $w(e,t,n){var r=t.pendingProps;switch(Qc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return ct(t.type)&&Ha(),Ke(t),null;case 3:return r=t.stateNode,as(),ge(ut),ge(Je),nd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Vu(Ot),Ot=null))),Pu(e,t),Ke(t),null;case 5:td(t);var s=ar(pi.current);if(n=t.type,e!==null&&t.stateNode!=null)by(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ke(t),null}if(e=ar(Yt.current),ea(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[qt]=t,r[mi]=i,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<Ds.length;s++)pe(Ds[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Nf(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":kf(r,i),pe("invalid",r)}au(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Zi(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Zi(r.textContent,o,e),s=["children",""+o]):ri.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&pe("scroll",r)}switch(n){case"input":Hi(r),Cf(r,i,!0);break;case"textarea":Hi(r),Tf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[qt]=t,e[mi]=r,vy(e,t,!1,!1),t.stateNode=e;e:{switch(a=ou(n,r),n){case"dialog":pe("cancel",e),pe("close",e),s=r;break;case"iframe":case"object":case"embed":pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ds.length;s++)pe(Ds[s],e);s=r;break;case"source":pe("error",e),s=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=r;break;case"details":pe("toggle",e),s=r;break;case"input":Nf(e,r),s=tu(e,r),pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),pe("invalid",e);break;case"textarea":kf(e,r),s=su(e,r),pe("invalid",e);break;default:s=r}au(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Jp(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yp(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&si(e,l):typeof l=="number"&&si(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ri.hasOwnProperty(i)?l!=null&&i==="onScroll"&&pe("scroll",e):l!=null&&Mc(e,i,l,a))}switch(n){case"input":Hi(e),Cf(e,r,!1);break;case"textarea":Hi(e),Tf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Kr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Kr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)wy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=ar(pi.current),ar(Yt.current),ea(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(i=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:Zi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return Ke(t),null;case 13:if(ge(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&gt!==null&&t.mode&1&&!(t.flags&128))zg(),ss(),t.flags|=98560,i=!1;else if(i=ea(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[qt]=t}else ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else Ot!==null&&(Vu(Ot),Ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?$e===0&&($e=3):hd())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return as(),Pu(e,t),e===null&&di(t.stateNode.containerInfo),Ke(t),null;case 10:return Xc(t.type._context),Ke(t),null;case 17:return ct(t.type)&&Ha(),Ke(t),null;case 19:if(ge(we),i=t.memoizedState,i===null)return Ke(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)js(i,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ja(e),a!==null){for(t.flags|=128,js(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>ls&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ja(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),js(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ve)return Ke(t),null}else 2*Le()-i.renderingStartTime>ls&&n!==1073741824&&(t.flags|=128,r=!0,js(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,n=we.current,he(we,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return md(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function zw(e,t){switch(Qc(t),t.tag){case 1:return ct(t.type)&&Ha(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return as(),ge(ut),ge(Je),nd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return td(t),null;case 13:if(ge(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(we),null;case 4:return as(),null;case 10:return Xc(t.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var ra=!1,Ye=!1,Fw=typeof WeakSet=="function"?WeakSet:Set,W=null;function zr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function _u(e,t,n){try{n()}catch(r){ke(e,t,r)}}var gm=!1;function Vw(e,t){if(yu=Va,e=kg(),Hc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,m=e,f=null;t:for(;;){for(var y;m!==n||s!==0&&m.nodeType!==3||(o=a+s),m!==i||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)f=m,m=y;for(;;){if(m===e)break t;if(f===n&&++c===s&&(o=a),f===i&&++d===r&&(l=a),(y=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=y}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xu={focusedElem:e,selectionRange:n},Va=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:_t(t.type,w),x);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){ke(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=gm,gm=!1,v}function Gs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&_u(t,n,i)}s=s.next}while(s!==r)}}function jo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Iu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sy(e){var t=e.alternate;t!==null&&(e.alternate=null,Sy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[mi],delete t[wu],delete t[Ew],delete t[Nw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ey(e){return e.tag===5||e.tag===3||e.tag===4}function ym(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ou(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wa));else if(r!==4&&(e=e.child,e!==null))for(Ou(e,t,n),e=e.sibling;e!==null;)Ou(e,t,n),e=e.sibling}function Du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Du(e,t,n),e=e.sibling;e!==null;)Du(e,t,n),e=e.sibling}var Be=null,It=!1;function xn(e,t,n){for(n=n.child;n!==null;)Ny(e,t,n),n=n.sibling}function Ny(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(bo,n)}catch{}switch(n.tag){case 5:Ye||zr(n,t);case 6:var r=Be,s=It;Be=null,xn(e,t,n),Be=r,It=s,Be!==null&&(It?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(It?(e=Be,n=n.stateNode,e.nodeType===8?dl(e.parentNode,n):e.nodeType===1&&dl(e,n),li(e)):dl(Be,n.stateNode));break;case 4:r=Be,s=It,Be=n.stateNode.containerInfo,It=!0,xn(e,t,n),Be=r,It=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&_u(n,t,a),s=s.next}while(s!==r)}xn(e,t,n);break;case 1:if(!Ye&&(zr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ke(n,t,o)}xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,xn(e,t,n),Ye=r):xn(e,t,n);break;default:xn(e,t,n)}}function xm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fw),t.forEach(function(r){var s=Yw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Be=o.stateNode,It=!1;break e;case 3:Be=o.stateNode.containerInfo,It=!0;break e;case 4:Be=o.stateNode.containerInfo,It=!0;break e}o=o.return}if(Be===null)throw Error(I(160));Ny(i,a,s),Be=null,It=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ke(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cy(t,e),t=t.sibling}function Cy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Wt(e),r&4){try{Gs(3,e,e.return),jo(3,e)}catch(w){ke(e,e.return,w)}try{Gs(5,e,e.return)}catch(w){ke(e,e.return,w)}}break;case 1:Rt(t,e),Wt(e),r&512&&n!==null&&zr(n,n.return);break;case 5:if(Rt(t,e),Wt(e),r&512&&n!==null&&zr(n,n.return),e.flags&32){var s=e.stateNode;try{si(s,"")}catch(w){ke(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Qp(s,i),ou(o,a);var c=ou(o,i);for(a=0;a<l.length;a+=2){var d=l[a],m=l[a+1];d==="style"?Jp(s,m):d==="dangerouslySetInnerHTML"?Yp(s,m):d==="children"?si(s,m):Mc(s,d,m,c)}switch(o){case"input":nu(s,i);break;case"textarea":Kp(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Kr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Kr(s,!!i.multiple,i.defaultValue,!0):Kr(s,!!i.multiple,i.multiple?[]:"",!1))}s[mi]=i}catch(w){ke(e,e.return,w)}}break;case 6:if(Rt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ke(e,e.return,w)}}break;case 3:if(Rt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(w){ke(e,e.return,w)}break;case 4:Rt(t,e),Wt(e);break;case 13:Rt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dd=Le())),r&4&&xm(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(c=Ye)||d,Rt(t,e),Ye=c):Rt(t,e),Wt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(m=W=d;W!==null;){switch(f=W,y=f.child,f.tag){case 0:case 11:case 14:case 15:Gs(4,f,f.return);break;case 1:zr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){ke(r,n,w)}}break;case 5:zr(f,f.return);break;case 22:if(f.memoizedState!==null){bm(m);continue}}y!==null?(y.return=f,W=y):bm(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Xp("display",a))}catch(w){ke(e,e.return,w)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(w){ke(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Rt(t,e),Wt(e),r&4&&xm(e);break;case 21:break;default:Rt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ey(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(si(s,""),r.flags&=-33);var i=ym(e);Du(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=ym(e);Ou(e,o,a);break;default:throw Error(I(161))}}catch(l){ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bw(e,t,n){W=e,ky(e)}function ky(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ra;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ye;o=ra;var c=Ye;if(ra=a,(Ye=l)&&!c)for(W=s;W!==null;)a=W,l=a.child,a.tag===22&&a.memoizedState!==null?wm(s):l!==null?(l.return=a,W=l):wm(s);for(;i!==null;)W=i,ky(i),i=i.sibling;W=s,ra=o,Ye=c}vm(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):vm(e)}}function vm(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||jo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rm(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rm(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&li(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ye||t.flags&512&&Iu(t)}catch(f){ke(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function bm(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function wm(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jo(4,t)}catch(l){ke(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ke(t,s,l)}}var i=t.return;try{Iu(t)}catch(l){ke(t,i,l)}break;case 5:var a=t.return;try{Iu(t)}catch(l){ke(t,a,l)}}}catch(l){ke(t,t.return,l)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var Uw=Math.ceil,to=gn.ReactCurrentDispatcher,ud=gn.ReactCurrentOwner,Tt=gn.ReactCurrentBatchConfig,ue=0,Fe=null,Pe=null,We=0,mt=0,Fr=Hn(0),$e=0,vi=null,gr=0,Lo=0,cd=0,Ys=null,ot=null,dd=0,ls=1/0,en=null,no=!1,$u=null,In=null,sa=!1,jn=null,ro=0,Xs=0,zu=null,ka=-1,Ta=0;function nt(){return ue&6?Le():ka!==-1?ka:ka=Le()}function On(e){return e.mode&1?ue&2&&We!==0?We&-We:kw.transition!==null?(Ta===0&&(Ta=cg()),Ta):(e=de,e!==0||(e=window.event,e=e===void 0?16:yg(e.type)),e):1}function $t(e,t,n,r){if(50<Xs)throw Xs=0,zu=null,Error(I(185));Pi(e,n,r),(!(ue&2)||e!==Fe)&&(e===Fe&&(!(ue&2)&&(Lo|=n),$e===4&&Cn(e,We)),dt(e,r),n===1&&ue===0&&!(t.mode&1)&&(ls=Le()+500,Co&&qn()))}function dt(e,t){var n=e.callbackNode;kb(e,t);var r=Fa(e,e===Fe?We:0);if(r===0)n!==null&&Af(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Af(n),t===1)e.tag===0?Cw(Sm.bind(null,e)):Og(Sm.bind(null,e)),ww(function(){!(ue&6)&&qn()}),n=null;else{switch(dg(r)){case 1:n=Dc;break;case 4:n=lg;break;case 16:n=za;break;case 536870912:n=ug;break;default:n=za}n=_y(n,Ty.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ty(e,t){if(ka=-1,Ta=0,ue&6)throw Error(I(327));var n=e.callbackNode;if(Zr()&&e.callbackNode!==n)return null;var r=Fa(e,e===Fe?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=so(e,r);else{t=r;var s=ue;ue|=2;var i=Ly();(Fe!==e||We!==t)&&(en=null,ls=Le()+500,ur(e,t));do try{qw();break}catch(o){jy(e,o)}while(!0);Yc(),to.current=i,ue=s,Pe!==null?t=0:(Fe=null,We=0,t=$e)}if(t!==0){if(t===2&&(s=fu(e),s!==0&&(r=s,t=Fu(e,s))),t===1)throw n=vi,ur(e,0),Cn(e,r),dt(e,Le()),n;if(t===6)Cn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Ww(s)&&(t=so(e,r),t===2&&(i=fu(e),i!==0&&(r=i,t=Fu(e,i))),t===1))throw n=vi,ur(e,0),Cn(e,r),dt(e,Le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:er(e,ot,en);break;case 3:if(Cn(e,r),(r&130023424)===r&&(t=dd+500-Le(),10<t)){if(Fa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bu(er.bind(null,e,ot,en),t);break}er(e,ot,en);break;case 4:if(Cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Dt(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Uw(r/1960))-r,10<r){e.timeoutHandle=bu(er.bind(null,e,ot,en),r);break}er(e,ot,en);break;case 5:er(e,ot,en);break;default:throw Error(I(329))}}}return dt(e,Le()),e.callbackNode===n?Ty.bind(null,e):null}function Fu(e,t){var n=Ys;return e.current.memoizedState.isDehydrated&&(ur(e,t).flags|=256),e=so(e,t),e!==2&&(t=ot,ot=n,t!==null&&Vu(t)),e}function Vu(e){ot===null?ot=e:ot.push.apply(ot,e)}function Ww(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ft(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cn(e,t){for(t&=~cd,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),r=1<<n;e[n]=-1,t&=~r}}function Sm(e){if(ue&6)throw Error(I(327));Zr();var t=Fa(e,0);if(!(t&1))return dt(e,Le()),null;var n=so(e,t);if(e.tag!==0&&n===2){var r=fu(e);r!==0&&(t=r,n=Fu(e,r))}if(n===1)throw n=vi,ur(e,0),Cn(e,t),dt(e,Le()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,ot,en),dt(e,Le()),null}function fd(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(ls=Le()+500,Co&&qn())}}function yr(e){jn!==null&&jn.tag===0&&!(ue&6)&&Zr();var t=ue;ue|=1;var n=Tt.transition,r=de;try{if(Tt.transition=null,de=1,e)return e()}finally{de=r,Tt.transition=n,ue=t,!(ue&6)&&qn()}}function md(){mt=Fr.current,ge(Fr)}function ur(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bw(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Qc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ha();break;case 3:as(),ge(ut),ge(Je),nd();break;case 5:td(r);break;case 4:as();break;case 13:ge(we);break;case 19:ge(we);break;case 10:Xc(r.type._context);break;case 22:case 23:md()}n=n.return}if(Fe=e,Pe=e=Dn(e.current,null),We=mt=t,$e=0,vi=null,cd=Lo=gr=0,ot=Ys=null,ir!==null){for(t=0;t<ir.length;t++)if(n=ir[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}ir=null}return e}function jy(e,t){do{var n=Pe;try{if(Yc(),Ea.current=eo,Za){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Za=!1}if(pr=0,ze=De=Ee=null,Ks=!1,gi=0,ud.current=null,n===null||n.return===null){$e=1,vi=t,Pe=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=We,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=um(a);if(y!==null){y.flags&=-257,cm(y,a,o,i,t),y.mode&1&&lm(i,c,t),t=y,l=c;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){lm(i,c,t),hd();break e}l=Error(I(426))}}else if(ve&&o.mode&1){var x=um(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),cm(x,a,o,i,t),Kc(os(l,o));break e}}i=l=os(l,o),$e!==4&&($e=2),Ys===null?Ys=[i]:Ys.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=dy(i,l,t);nm(i,p);break e;case 1:o=l;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(In===null||!In.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=fy(i,o,t);nm(i,S);break e}}i=i.return}while(i!==null)}Ry(n)}catch(E){t=E,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Ly(){var e=to.current;return to.current=eo,e===null?eo:e}function hd(){($e===0||$e===3||$e===2)&&($e=4),Fe===null||!(gr&268435455)&&!(Lo&268435455)||Cn(Fe,We)}function so(e,t){var n=ue;ue|=2;var r=Ly();(Fe!==e||We!==t)&&(en=null,ur(e,t));do try{Hw();break}catch(s){jy(e,s)}while(!0);if(Yc(),ue=n,to.current=r,Pe!==null)throw Error(I(261));return Fe=null,We=0,$e}function Hw(){for(;Pe!==null;)Ay(Pe)}function qw(){for(;Pe!==null&&!yb();)Ay(Pe)}function Ay(e){var t=Py(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Ry(e):Pe=t,ud.current=null}function Ry(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zw(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Pe=null;return}}else if(n=$w(n,t,mt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);$e===0&&($e=5)}function er(e,t,n){var r=de,s=Tt.transition;try{Tt.transition=null,de=1,Qw(e,t,n,r)}finally{Tt.transition=s,de=r}return null}function Qw(e,t,n,r){do Zr();while(jn!==null);if(ue&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Tb(e,i),e===Fe&&(Pe=Fe=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sa||(sa=!0,_y(za,function(){return Zr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tt.transition,Tt.transition=null;var a=de;de=1;var o=ue;ue|=4,ud.current=null,Vw(e,n),Cy(n,e),mw(xu),Va=!!yu,xu=yu=null,e.current=n,Bw(n),xb(),ue=o,de=a,Tt.transition=i}else e.current=n;if(sa&&(sa=!1,jn=e,ro=s),i=e.pendingLanes,i===0&&(In=null),wb(n.stateNode),dt(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(no)throw no=!1,e=$u,$u=null,e;return ro&1&&e.tag!==0&&Zr(),i=e.pendingLanes,i&1?e===zu?Xs++:(Xs=0,zu=e):Xs=0,qn(),null}function Zr(){if(jn!==null){var e=dg(ro),t=Tt.transition,n=de;try{if(Tt.transition=null,de=16>e?16:e,jn===null)var r=!1;else{if(e=jn,jn=null,ro=0,ue&6)throw Error(I(331));var s=ue;for(ue|=4,W=e.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:Gs(8,d,i)}var m=d.child;if(m!==null)m.return=d,W=m;else for(;W!==null;){d=W;var f=d.sibling,y=d.return;if(Sy(d),d===c){W=null;break}if(f!==null){f.return=y,W=f;break}W=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gs(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,W=p;break e}W=i.return}}var h=e.current;for(W=h;W!==null;){a=W;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,W=g;else e:for(a=h;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:jo(9,o)}}catch(E){ke(o,o.return,E)}if(o===a){W=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,W=S;break e}W=o.return}}if(ue=s,qn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(bo,e)}catch{}r=!0}return r}finally{de=n,Tt.transition=t}}return!1}function Em(e,t,n){t=os(n,t),t=dy(e,t,1),e=_n(e,t,1),t=nt(),e!==null&&(Pi(e,1,t),dt(e,t))}function ke(e,t,n){if(e.tag===3)Em(e,e,n);else for(;t!==null;){if(t.tag===3){Em(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){e=os(n,e),e=fy(t,e,1),t=_n(t,e,1),e=nt(),t!==null&&(Pi(t,1,e),dt(t,e));break}}t=t.return}}function Kw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&(We&n)===n&&($e===4||$e===3&&(We&130023424)===We&&500>Le()-dd?ur(e,0):cd|=n),dt(e,t)}function My(e,t){t===0&&(e.mode&1?(t=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):t=1);var n=nt();e=mn(e,t),e!==null&&(Pi(e,t,n),dt(e,n))}function Gw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),My(e,n)}function Yw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),My(e,n)}var Py;Py=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lt=!1,Dw(e,t,n);lt=!!(e.flags&131072)}else lt=!1,ve&&t.flags&1048576&&Dg(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ca(e,t),e=t.pendingProps;var s=rs(t,Je.current);Jr(t,n),s=sd(null,t,r,e,s,n);var i=id();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(r)?(i=!0,qa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zc(t),s.updater=To,t.stateNode=s,s._reactInternals=t,Tu(t,r,e,n),t=Au(null,t,r,!0,i,n)):(t.tag=0,ve&&i&&qc(t),Ze(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ca(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Jw(r),e=_t(r,e),s){case 0:t=Lu(null,t,r,e,n);break e;case 1:t=mm(null,t,r,e,n);break e;case 11:t=dm(null,t,r,e,n);break e;case 14:t=fm(null,t,r,_t(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Lu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),mm(e,t,r,s,n);case 3:e:{if(gy(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ug(e,t),Xa(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=os(Error(I(423)),t),t=hm(e,t,r,n,s);break e}else if(r!==s){s=os(Error(I(424)),t),t=hm(e,t,r,n,s);break e}else for(gt=Pn(t.stateNode.containerInfo.firstChild),xt=t,ve=!0,Ot=null,n=Vg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ss(),r===s){t=hn(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return Wg(t),e===null&&Nu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,vu(r,s)?a=null:i!==null&&vu(r,i)&&(t.flags|=32),py(e,t),Ze(e,t,a,n),t.child;case 6:return e===null&&Nu(t),null;case 13:return yy(e,t,n);case 4:return ed(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=is(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),dm(e,t,r,s,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,he(Ga,r._currentValue),r._currentValue=a,i!==null)if(Ft(i.value,a)){if(i.children===s.children&&!ut.current){t=hn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=un(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Cu(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Cu(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ze(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Jr(t,n),s=Lt(s),r=r(s),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,s=_t(r,t.pendingProps),s=_t(r.type,s),fm(e,t,r,s,n);case 15:return my(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:_t(r,s),Ca(e,t),t.tag=1,ct(r)?(e=!0,qa(t)):e=!1,Jr(t,n),cy(t,r,s),Tu(t,r,s,n),Au(null,t,r,!0,e,n);case 19:return xy(e,t,n);case 22:return hy(e,t,n)}throw Error(I(156,t.tag))};function _y(e,t){return og(e,t)}function Xw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new Xw(e,t,n,r)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jw(e){if(typeof e=="function")return pd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_c)return 11;if(e===Ic)return 14}return 2}function Dn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ja(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")pd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ar:return cr(n.children,s,i,t);case Pc:a=8,s|=8;break;case Xl:return e=Ct(12,n,t,s|2),e.elementType=Xl,e.lanes=i,e;case Jl:return e=Ct(13,n,t,s),e.elementType=Jl,e.lanes=i,e;case Zl:return e=Ct(19,n,t,s),e.elementType=Zl,e.lanes=i,e;case Wp:return Ao(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bp:a=10;break e;case Up:a=9;break e;case _c:a=11;break e;case Ic:a=14;break e;case Sn:a=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Ct(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function cr(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function Ao(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=Wp,e.lanes=n,e.stateNode={isHidden:!1},e}function vl(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function bl(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gd(e,t,n,r,s,i,a,o,l){return e=new Zw(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(i),e}function e1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Iy(e){if(!e)return Fn;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(ct(n))return Ig(e,n,t)}return t}function Oy(e,t,n,r,s,i,a,o,l){return e=gd(n,r,!0,e,s,i,a,o,l),e.context=Iy(null),n=e.current,r=nt(),s=On(n),i=un(r,s),i.callback=t!=null?t:null,_n(n,i,s),e.current.lanes=s,Pi(e,s,r),dt(e,r),e}function Ro(e,t,n,r){var s=t.current,i=nt(),a=On(s);return n=Iy(n),t.context===null?t.context=n:t.pendingContext=n,t=un(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_n(s,t,a),e!==null&&($t(e,s,a,i),Sa(e,s,a)),a}function io(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yd(e,t){Nm(e,t),(e=e.alternate)&&Nm(e,t)}function t1(){return null}var Dy=typeof reportError=="function"?reportError:function(e){console.error(e)};function xd(e){this._internalRoot=e}Mo.prototype.render=xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ro(e,t,null,null)};Mo.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){Ro(null,e,null,null)}),t[fn]=null}};function Mo(e){this._internalRoot=e}Mo.prototype.unstable_scheduleHydration=function(e){if(e){var t=hg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&gg(e)}};function vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cm(){}function n1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=io(a);i.call(c)}}var a=Oy(t,r,e,0,null,!1,!1,"",Cm);return e._reactRootContainer=a,e[fn]=a.current,di(e.nodeType===8?e.parentNode:e),yr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=io(l);o.call(c)}}var l=gd(e,0,!1,null,null,!1,!1,"",Cm);return e._reactRootContainer=l,e[fn]=l.current,di(e.nodeType===8?e.parentNode:e),yr(function(){Ro(t,l,n,r)}),l}function _o(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=io(a);o.call(l)}}Ro(t,a,e,s)}else a=n1(n,t,e,s,r);return io(a)}fg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Os(t.pendingLanes);n!==0&&($c(t,n|1),dt(t,Le()),!(ue&6)&&(ls=Le()+500,qn()))}break;case 13:yr(function(){var r=mn(e,1);if(r!==null){var s=nt();$t(r,e,1,s)}}),yd(e,1)}};zc=function(e){if(e.tag===13){var t=mn(e,134217728);if(t!==null){var n=nt();$t(t,e,134217728,n)}yd(e,134217728)}};mg=function(e){if(e.tag===13){var t=On(e),n=mn(e,t);if(n!==null){var r=nt();$t(n,e,t,r)}yd(e,t)}};hg=function(){return de};pg=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};uu=function(e,t,n){switch(t){case"input":if(nu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=No(r);if(!s)throw Error(I(90));qp(r),nu(r,s)}}}break;case"textarea":Kp(e,n);break;case"select":t=n.value,t!=null&&Kr(e,!!n.multiple,t,!1)}};tg=fd;ng=yr;var r1={usingClientEntryPoint:!1,Events:[Ii,_r,No,Zp,eg,fd]},Ls={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s1={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ig(e),e===null?null:e.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||t1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{bo=ia.inject(s1),Gt=ia}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r1;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(t))throw Error(I(200));return e1(e,t,null,n)};bt.createRoot=function(e,t){if(!vd(e))throw Error(I(299));var n=!1,r="",s=Dy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gd(e,1,!1,null,null,n,!1,r,s),e[fn]=t.current,di(e.nodeType===8?e.parentNode:e),new xd(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ig(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return yr(e)};bt.hydrate=function(e,t,n){if(!Po(t))throw Error(I(200));return _o(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!vd(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Dy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Oy(t,null,e,1,n!=null?n:null,s,!1,i,a),e[fn]=t.current,di(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Mo(t)};bt.render=function(e,t,n){if(!Po(t))throw Error(I(200));return _o(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!Po(e))throw Error(I(40));return e._reactRootContainer?(yr(function(){_o(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1};bt.unstable_batchedUpdates=fd;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Po(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return _o(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function $y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($y)}catch(e){console.error(e)}}$y(),$p.exports=bt;var xr=$p.exports,km=xr;Gl.createRoot=km.createRoot,Gl.hydrateRoot=km.hydrateRoot;const bd=b.createContext({});function wd(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const zy=typeof window<"u",Fy=zy?b.useLayoutEffect:b.useEffect,Io=b.createContext(null);function Sd(e,t){e.indexOf(t)===-1&&e.push(t)}function Ed(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Jt=(e,t,n)=>n>t?t:n<e?e:n;let Nd=()=>{};const pn={},Vy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function By(e){return typeof e=="object"&&e!==null}const Uy=e=>/^0[^.\s]+$/u.test(e);function Cd(e){let t;return()=>(t===void 0&&(t=e()),t)}const jt=e=>e,i1=(e,t)=>n=>t(e(n)),Di=(...e)=>e.reduce(i1),bi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class kd{constructor(){this.subscriptions=[]}add(t){return Sd(this.subscriptions,t),()=>Ed(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cn=e=>e*1e3,kt=e=>e/1e3;function Wy(e,t){return t?e*(1e3/t):0}const Hy=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,a1=1e-7,o1=12;function l1(e,t,n,r,s){let i,a,o=0;do a=t+(n-t)/2,i=Hy(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>a1&&++o<o1);return a}function $i(e,t,n,r){if(e===t&&n===r)return jt;const s=i=>l1(i,0,1,e,n);return i=>i===0||i===1?i:Hy(s(i),t,r)}const qy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Qy=e=>t=>1-e(1-t),Ky=$i(.33,1.53,.69,.99),Td=Qy(Ky),Gy=qy(Td),Yy=e=>(e*=2)<1?.5*Td(e):.5*(2-Math.pow(2,-10*(e-1))),jd=e=>1-Math.sin(Math.acos(e)),Xy=Qy(jd),Jy=qy(jd),u1=$i(.42,0,1,1),c1=$i(0,0,.58,1),Zy=$i(.42,0,.58,1),d1=e=>Array.isArray(e)&&typeof e[0]!="number",ex=e=>Array.isArray(e)&&typeof e[0]=="number",f1={linear:jt,easeIn:u1,easeInOut:Zy,easeOut:c1,circIn:jd,circInOut:Jy,circOut:Xy,backIn:Td,backInOut:Gy,backOut:Ky,anticipate:Yy},m1=e=>typeof e=="string",Tm=e=>{if(ex(e)){Nd(e.length===4);const[t,n,r,s]=e;return $i(t,n,r,s)}else if(m1(e))return f1[e];return e},aa=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function h1(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,m=!1,f=!1)=>{const v=f&&s?n:r;return m&&a.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const p1=40;function tx(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=aa.reduce((g,S)=>(g[S]=h1(i),g),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:m,preRender:f,render:y,postRender:v}=a,w=()=>{const g=pn.useManualTiming?s.timestamp:performance.now();n=!1,pn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,p1),1)),s.timestamp=g,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),d.process(s),m.process(s),f.process(s),y.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(w))},x=()=>{n=!0,r=!0,s.isProcessing||e(w)};return{schedule:aa.reduce((g,S)=>{const E=a[S];return g[S]=(C,k=!1,N=!1)=>(n||x(),E.schedule(C,k,N)),g},{}),cancel:g=>{for(let S=0;S<aa.length;S++)a[aa[S]].cancel(g)},state:s,steps:a}}const{schedule:ye,cancel:Vn,state:Ue,steps:wl}=tx(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0);let La;function g1(){La=void 0}const et={now:()=>(La===void 0&&et.set(Ue.isProcessing||pn.useManualTiming?Ue.timestamp:performance.now()),La),set:e=>{La=e,queueMicrotask(g1)}},nx=e=>t=>typeof t=="string"&&t.startsWith(e),rx=nx("--"),y1=nx("var(--"),Ld=e=>y1(e)?x1.test(e.split("/*")[0].trim()):!1,x1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function jm(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wi={...ps,transform:e=>Jt(0,1,e)},oa={...ps,default:1},Js=e=>Math.round(e*1e5)/1e5,Ad=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v1(e){return e==null}const b1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rd=(e,t)=>n=>!!(typeof n=="string"&&b1.test(n)&&n.startsWith(e)||t&&!v1(n)&&Object.prototype.hasOwnProperty.call(n,t)),sx=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(Ad);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},w1=e=>Jt(0,255,e),Sl={...ps,transform:e=>Math.round(w1(e))},or={test:Rd("rgb","red"),parse:sx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Sl.transform(e)+", "+Sl.transform(t)+", "+Sl.transform(n)+", "+Js(wi.transform(r))+")"};function S1(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Bu={test:Rd("#"),parse:S1,transform:or.transform},zi=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wn=zi("deg"),Xt=zi("%"),q=zi("px"),E1=zi("vh"),N1=zi("vw"),Lm={...Xt,parse:e=>Xt.parse(e)/100,transform:e=>Xt.transform(e*100)},Vr={test:Rd("hsl","hue"),parse:sx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Xt.transform(Js(t))+", "+Xt.transform(Js(n))+", "+Js(wi.transform(r))+")"},Me={test:e=>or.test(e)||Bu.test(e)||Vr.test(e),parse:e=>or.test(e)?or.parse(e):Vr.test(e)?Vr.parse(e):Bu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?or.transform(e):Vr.transform(e),getAnimatableNone:e=>{const t=Me.parse(e);return t.alpha=0,Me.transform(t)}},C1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function k1(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ad))==null?void 0:t.length)||0)+(((n=e.match(C1))==null?void 0:n.length)||0)>0}const ix="number",ax="color",T1="var",j1="var(",Am="${}",L1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Si(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(L1,l=>(Me.test(l)?(r.color.push(i),s.push(ax),n.push(Me.parse(l))):l.startsWith(j1)?(r.var.push(i),s.push(T1),n.push(l)):(r.number.push(i),s.push(ix),n.push(parseFloat(l))),++i,Am)).split(Am);return{values:n,split:o,indexes:r,types:s}}function ox(e){return Si(e).values}function lx(e){const{split:t,types:n}=Si(e),r=t.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],s[a]!==void 0){const o=n[a];o===ix?i+=Js(s[a]):o===ax?i+=Me.transform(s[a]):i+=s[a]}return i}}const A1=e=>typeof e=="number"?0:Me.test(e)?Me.getAnimatableNone(e):e;function R1(e){const t=ox(e);return lx(e)(t.map(A1))}const Bn={test:k1,parse:ox,createTransformer:lx,getAnimatableNone:R1};function El(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function M1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;s=El(l,o,e+1/3),i=El(l,o,e),a=El(l,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function ao(e,t){return n=>n>0?t:e}const Se=(e,t,n)=>e+(t-e)*n,Nl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},P1=[Bu,or,Vr],_1=e=>P1.find(t=>t.test(e));function Rm(e){const t=_1(e);if(!t)return!1;let n=t.parse(e);return t===Vr&&(n=M1(n)),n}const Mm=(e,t)=>{const n=Rm(e),r=Rm(t);if(!n||!r)return ao(e,t);const s={...n};return i=>(s.red=Nl(n.red,r.red,i),s.green=Nl(n.green,r.green,i),s.blue=Nl(n.blue,r.blue,i),s.alpha=Se(n.alpha,r.alpha,i),or.transform(s))},Uu=new Set(["none","hidden"]);function I1(e,t){return Uu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function O1(e,t){return n=>Se(e,t,n)}function Md(e){return typeof e=="number"?O1:typeof e=="string"?Ld(e)?ao:Me.test(e)?Mm:z1:Array.isArray(e)?ux:typeof e=="object"?Me.test(e)?Mm:D1:ao}function ux(e,t){const n=[...e],r=n.length,s=e.map((i,a)=>Md(i)(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function D1(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Md(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function $1(e,t){var s;const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],l=(s=e.values[o])!=null?s:0;n[i]=l,r[a]++}return n}const z1=(e,t)=>{const n=Bn.createTransformer(t),r=Si(e),s=Si(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Uu.has(e)&&!s.values.length||Uu.has(t)&&!r.values.length?I1(e,t):Di(ux($1(r,s),s.values),n):ao(e,t)};function cx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Se(e,t,n):Md(e)(e,t)}const F1=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ye.update(t,n),stop:()=>Vn(t),now:()=>Ue.isProcessing?Ue.timestamp:et.now()}},dx=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},oo=2e4;function Pd(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<oo;)t+=n,r=e.next(t);return t>=oo?1/0:t}function V1(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Pd(r),oo);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:kt(s)}}const B1=5;function fx(e,t,n){const r=Math.max(t-B1,0);return Wy(n-e(r),t-r)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cl=.001;function U1({duration:e=Ce.duration,bounce:t=Ce.bounce,velocity:n=Ce.velocity,mass:r=Ce.mass}){let s,i,a=1-t;a=Jt(Ce.minDamping,Ce.maxDamping,a),e=Jt(Ce.minDuration,Ce.maxDuration,kt(e)),a<1?(s=c=>{const d=c*a,m=d*e,f=d-n,y=Wu(c,a),v=Math.exp(-m);return Cl-f/y*v},i=c=>{const m=c*a*e,f=m*n+n,y=Math.pow(a,2)*Math.pow(c,2)*e,v=Math.exp(-m),w=Wu(Math.pow(c,2),a);return(-s(c)+Cl>0?-1:1)*((f-y)*v)/w}):(s=c=>{const d=Math.exp(-c*e),m=(c-n)*e+1;return-Cl+d*m},i=c=>{const d=Math.exp(-c*e),m=(n-c)*(e*e);return d*m});const o=5/e,l=H1(s,i,o);if(e=cn(e),isNaN(l))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:e}}}const W1=12;function H1(e,t,n){let r=n;for(let s=1;s<W1;s++)r=r-e(r)/t(r);return r}function Wu(e,t){return e*Math.sqrt(1-t*t)}const q1=["duration","bounce"],Q1=["stiffness","damping","mass"];function Pm(e,t){return t.some(n=>e[n]!==void 0)}function K1(e){let t={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...e};if(!Pm(e,Q1)&&Pm(e,q1))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Jt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ce.mass,stiffness:s,damping:i}}else{const n=U1(e);t={...t,...n,mass:Ce.mass},t.isResolvedFromDuration=!0}return t}function lo(e=Ce.visualDuration,t=Ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:m,velocity:f,isResolvedFromDuration:y}=K1({...n,velocity:-kt(n.velocity||0)}),v=f||0,w=c/(2*Math.sqrt(l*d)),x=a-i,p=kt(Math.sqrt(l/d)),h=Math.abs(x)<5;r||(r=h?Ce.restSpeed.granular:Ce.restSpeed.default),s||(s=h?Ce.restDelta.granular:Ce.restDelta.default);let g;if(w<1){const E=Wu(p,w);g=C=>{const k=Math.exp(-w*p*C);return a-k*((v+w*p*x)/E*Math.sin(E*C)+x*Math.cos(E*C))}}else if(w===1)g=E=>a-Math.exp(-p*E)*(x+(v+p*x)*E);else{const E=p*Math.sqrt(w*w-1);g=C=>{const k=Math.exp(-w*p*C),N=Math.min(E*C,300);return a-k*((v+w*p*x)*Math.sinh(N)+E*x*Math.cosh(N))/E}}const S={calculatedDuration:y&&m||null,next:E=>{const C=g(E);if(y)o.done=E>=m;else{let k=E===0?v:0;w<1&&(k=E===0?cn(v):fx(g,E,C));const N=Math.abs(k)<=r,M=Math.abs(a-C)<=s;o.done=N&&M}return o.value=o.done?a:C,o},toString:()=>{const E=Math.min(Pd(S),oo),C=dx(k=>S.next(E*k).value,E,30);return E+"ms "+C},toTransition:()=>{}};return S}lo.applyToOptions=e=>{const t=V1(e,100,lo);return e.ease=t.ease,e.duration=cn(t.duration),e.type="keyframes",e};function Hu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const m=e[0],f={done:!1,value:m},y=N=>o!==void 0&&N<o||l!==void 0&&N>l,v=N=>o===void 0?l:l===void 0||Math.abs(o-N)<Math.abs(l-N)?o:l;let w=n*t;const x=m+w,p=a===void 0?x:a(x);p!==x&&(w=p-m);const h=N=>-w*Math.exp(-N/r),g=N=>p+h(N),S=N=>{const M=h(N),T=g(N);f.done=Math.abs(M)<=c,f.value=f.done?p:T};let E,C;const k=N=>{y(f.value)&&(E=N,C=lo({keyframes:[f.value,v(f.value)],velocity:fx(g,N,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:N=>{let M=!1;return!C&&E===void 0&&(M=!0,S(N),k(N)),E!==void 0&&N>=E?C.next(N-E):(!M&&S(N),f)}}}function G1(e,t,n){const r=[],s=n||pn.mix||cx,i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const l=Array.isArray(t)?t[a]||jt:t;o=Di(l,o)}r.push(o)}return r}function Y1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Nd(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=G1(t,r,s),l=o.length,c=d=>{if(a&&d<e[0])return t[0];let m=0;if(l>1)for(;m<e.length-2&&!(d<e[m+1]);m++);const f=bi(e[m],e[m+1],d);return o[m](f)};return n?d=>c(Jt(e[0],e[i-1],d)):c}function X1(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=bi(0,t,r);e.push(Se(n,1,s))}}function J1(e){const t=[0];return X1(t,e.length-1),t}function Z1(e,t){return e.map(n=>n*t)}function eS(e,t){return e.map(()=>t||Zy).splice(0,e.length-1)}function Zs({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=d1(r)?r.map(Tm):Tm(r),i={done:!1,value:t[0]},a=Z1(n&&n.length===t.length?n:J1(t),e),o=Y1(a,t,{ease:Array.isArray(s)?s:eS(t,s)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const tS=e=>e!==null;function _d(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(tS),o=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const nS={decay:Hu,inertia:Hu,tween:Zs,keyframes:Zs,spring:lo};function mx(e){typeof e.type=="string"&&(e.type=nS[e.type])}class Id{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const rS=e=>e/100;class Od extends Id{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==et.now()&&this.tick(et.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;mx(t);const{type:n=Zs,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:o}=t;const l=n||Zs;l!==Zs&&typeof o[0]!="number"&&(this.mixKeyframes=Di(rS,cx(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Pd(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:m,repeatType:f,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),h=this.playbackSpeed>=0?p<0:p>s;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,S=r;if(m){const N=Math.min(this.currentTime,s)/o;let M=Math.floor(N),T=N%1;!T&&N>=1&&(T=1),T===1&&M--,M=Math.min(M,m+1),!!(M%2)&&(f==="reverse"?(T=1-T,y&&(T-=y/o)):f==="mirror"&&(S=a)),g=Jt(0,1,T)*o}const E=h?{done:!1,value:d[0]}:S.next(g);i&&(E.value=i(E.value));let{done:C}=E;!h&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&v!==Hu&&(E.value=_d(d,this.options,x,this.speed)),w&&w(E.value),k&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return kt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+kt(t)}get time(){return kt(this.currentTime)}set time(t){var n;t=cn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(et.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=kt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=F1,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n!=null?n:r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(et.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function sS(e){var t;for(let n=1;n<e.length;n++)(t=e[n])!=null||(e[n]=e[n-1])}const lr=e=>e*180/Math.PI,qu=e=>{const t=lr(Math.atan2(e[1],e[0]));return Qu(t)},iS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:qu,rotateZ:qu,skewX:e=>lr(Math.atan(e[1])),skewY:e=>lr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Qu=e=>(e=e%360,e<0&&(e+=360),e),_m=qu,Im=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Om=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),aS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Im,scaleY:Om,scale:e=>(Im(e)+Om(e))/2,rotateX:e=>Qu(lr(Math.atan2(e[6],e[5]))),rotateY:e=>Qu(lr(Math.atan2(-e[2],e[0]))),rotateZ:_m,rotate:_m,skewX:e=>lr(Math.atan(e[4])),skewY:e=>lr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ku(e){return e.includes("scale")?1:0}function Gu(e,t){if(!e||e==="none")return Ku(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=aS,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=iS,s=o}if(!s)return Ku(t);const i=r[t],a=s[1].split(",").map(lS);return typeof i=="function"?i(a):a[i]}const oS=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Gu(n,t)};function lS(e){return parseFloat(e.trim())}const gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ys=new Set(gs),Dm=e=>e===ps||e===q,uS=new Set(["x","y","z"]),cS=gs.filter(e=>!uS.has(e));function dS(e){const t=[];return cS.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ln={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gu(t,"x"),y:(e,{transform:t})=>Gu(t,"y")};Ln.translateX=Ln.x;Ln.translateY=Ln.y;const dr=new Set;let Yu=!1,Xu=!1,Ju=!1;function hx(){if(Xu){const e=Array.from(dr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=dS(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var o;(o=r.getValue(i))==null||o.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xu=!1,Yu=!1,dr.forEach(e=>e.complete(Ju)),dr.clear()}function px(){dr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xu=!0)})}function fS(){Ju=!0,px(),hx(),Ju=!1}class Dd{constructor(t,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(dr.add(this),Yu||(Yu=!0,ye.read(px),ye.resolveKeyframes(hx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}sS(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),dr.delete(this)}cancel(){this.state==="scheduled"&&(dr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mS=e=>e.startsWith("--");function hS(e,t,n){mS(t)?e.style.setProperty(t,n):e.style[t]=n}const pS=Cd(()=>window.ScrollTimeline!==void 0),gS={};function yS(e,t){const n=Cd(e);return()=>{var r;return(r=gS[t])!=null?r:n()}}const gx=yS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$s=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,$m={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$s([0,.65,.55,1]),circOut:$s([.55,0,1,.45]),backIn:$s([.31,.01,.66,-.59]),backOut:$s([.33,1.53,.69,.99])};function yx(e,t){if(e)return typeof e=="function"?gx()?dx(e,t):"ease-out":ex(e)?$s(e):Array.isArray(e)?e.map(n=>yx(n,t)||$m.easeOut):$m[e]}function xS(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:n};l&&(d.offset=l);const m=yx(o,s);Array.isArray(m)&&(d.easing=m);const f={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(d,f)}function xx(e){return typeof e=="function"&&"applyToOptions"in e}function vS({type:e,...t}){var n,r;return xx(e)&&gx()?e.applyToOptions(t):((n=t.duration)!=null||(t.duration=300),(r=t.ease)!=null||(t.ease="easeOut"),t)}class bS extends Id{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,Nd(typeof t.type!="string");const c=vS(t);this.animation=xS(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=_d(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):hS(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return kt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+kt(t)}get time(){return kt(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=cn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){var t;return(t=this.manualStartTime)!=null?t:Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&pS()?(this.animation.timeline=t,jt):n(this)}}const vx={anticipate:Yy,backInOut:Gy,circInOut:Jy};function wS(e){return e in vx}function SS(e){typeof e.ease=="string"&&wS(e.ease)&&(e.ease=vx[e.ease])}const kl=10;class ES extends bS{constructor(t){SS(t),mx(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new Od({...a,autoplay:!1}),l=Math.max(kl,et.now()-this.startTime),c=Jt(0,kl,l-kl);n.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const zm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bn.test(e)||e==="0")&&!e.startsWith("url("));function NS(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function CS(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=zm(s,t),o=zm(i,t);return!a||!o?!1:NS(e)||(n==="spring"||xx(n))&&r}function Zu(e){e.duration=0,e.type="keyframes"}const kS=new Set(["opacity","clipPath","filter","transform"]),TS=Cd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jS(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return TS()&&n&&kS.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const LS=40;class AS extends Id{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:d,...m}){var v;super(),this.stop=()=>{var w,x;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=et.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:c,element:d,...m},y=(d==null?void 0:d.KeyframeResolver)||Dd;this.keyframeResolver=new y(o,(w,x,p)=>this.onKeyframesResolved(w,x,f,!p),l,c,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){var x,p;this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=et.now(),CS(t,i,a,o)||((pn.instantAnimations||!l)&&(d==null||d(_d(t,r,n))),t[0]=t[t.length-1],Zu(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>LS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!c&&jS(f),v=(p=(x=f.motionValue)==null?void 0:x.owner)==null?void 0:p.current,w=y?new ES({...f,element:v}):new Od(f);w.finished.then(()=>{this.notifyFinished()}).catch(jt),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),fS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function bx(e,t,n,r=0,s=1){const i=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),a=e.size,o=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:o-i*r}const RS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MS(e){const t=RS.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n!=null?n:r}`,s]}function wx(e,t,n=1){const[r,s]=MS(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return Vy(a)?parseFloat(a):a}return Ld(s)?wx(s,t,n+1):s}const PS={type:"spring",stiffness:500,damping:25,restSpeed:10},_S=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),IS={type:"keyframes",duration:.8},OS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DS=(e,{keyframes:t})=>t.length>2?IS:ys.has(e)?e.startsWith("scale")?_S(t[1]):PS:OS,$S=e=>e!==null;function zS(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter($S),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}function $d(e,t){var n,r;return(r=(n=e==null?void 0:e[t])!=null?n:e==null?void 0:e.default)!=null?r:e}function FS({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const zd=(e,t,n,r={},s,i)=>a=>{const o=$d(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-cn(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:f=>{t.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};FS(o)||Object.assign(d,DS(e,d)),d.duration&&(d.duration=cn(d.duration)),d.repeatDelay&&(d.repeatDelay=cn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Zu(d),d.delay===0&&(m=!0)),(pn.instantAnimations||pn.skipAnimations)&&(m=!0,Zu(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,m&&!i&&t.get()!==void 0){const f=zS(d.keyframes,o);if(f!==void 0){ye.update(()=>{d.onUpdate(f),d.onComplete()});return}}return o.isSync?new Od(d):new AS(d)};function Fm(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Fd(e,t,n,r){if(typeof t=="function"){const[s,i]=Fm(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Fm(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function es(e,t,n){const r=e.getProps();return Fd(r,t,n!==void 0?n:r.custom,e)}const Sx=new Set(["width","height","top","left","right","bottom",...gs]),Vm=30,VS=e=>!isNaN(parseFloat(e));class BS{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=et.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=et.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=VS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new kd);const r=this.events[t].add(n);return t==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=et.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vm);return Wy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function us(e,t){return new BS(e,t)}const ec=e=>Array.isArray(e);function US(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,us(n))}function WS(e){return ec(e)?e[e.length-1]||0:e}function HS(e,t){const n=es(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=WS(i[a]);US(e,a,o)}}const Xe=e=>!!(e&&e.getVelocity);function qS(e){return!!(Xe(e)&&e.add)}function tc(e,t){const n=e.getValue("willChange");if(qS(n))return n.add(t);if(!n&&pn.WillChange){const r=new pn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Vd(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const QS="framerAppearId",Ex="data-"+Vd(QS);function Nx(e){return e.props[Ex]}function KS({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Cx(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var m;let{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=t;const l=i==null?void 0:i.reduceMotion;r&&(i=r);const c=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in o){const y=e.getValue(f,(m=e.latestValues[f])!=null?m:null),v=o[f];if(v===void 0||d&&KS(d,f))continue;const w={delay:n,...$d(i||{},f)},x=y.get();if(x!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===x&&!w.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const S=Nx(e);if(S){const E=window.MotionHandoffAnimation(S,f,ye);E!==null&&(w.startTime=E,p=!0)}}tc(e,f);const h=l!=null?l:e.shouldReduceMotion;y.start(zd(f,y,v,h&&Sx.has(f)?{type:!1}:w,e,p));const g=y.animation;g&&c.push(g)}return a&&Promise.all(c).then(()=>{ye.update(()=>{a&&HS(e,a)})}),c}function nc(e,t,n={}){var l;const r=es(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Cx(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:f}=s;return GS(e,t,c,d,m,f,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,d]=o==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function GS(e,t,n=0,r=0,s=0,i=1,a){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(nc(l,t,{...a,delay:n+(typeof r=="function"?0:r)+bx(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function YS(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>nc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=nc(e,t,n);else{const s=typeof t=="function"?es(e,t,n.custom):t;r=Promise.all(Cx(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const XS={test:e=>e==="auto",parse:e=>e},kx=e=>t=>t.test(e),Tx=[ps,q,Xt,wn,N1,E1,XS],Bm=e=>Tx.find(kx(e));function JS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Uy(e):!0}const ZS=new Set(["brightness","contrast","saturate","opacity"]);function eE(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ad)||[];if(!r)return e;const s=n.replace(r,"");let i=ZS.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const tE=/\b([a-z-]*)\(.*?\)/gu,rc={...Bn,getAnimatableNone:e=>{const t=e.match(tE);return t?t.map(eE).join(" "):e}},Um={...ps,transform:Math.round},nE={rotate:wn,rotateX:wn,rotateY:wn,rotateZ:wn,scale:oa,scaleX:oa,scaleY:oa,scaleZ:oa,skew:wn,skewX:wn,skewY:wn,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:wi,originX:Lm,originY:Lm,originZ:q},Bd={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,inset:q,insetBlock:q,insetBlockStart:q,insetBlockEnd:q,insetInline:q,insetInlineStart:q,insetInlineEnd:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,paddingBlock:q,paddingBlockStart:q,paddingBlockEnd:q,paddingInline:q,paddingInlineStart:q,paddingInlineEnd:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,marginBlock:q,marginBlockStart:q,marginBlockEnd:q,marginInline:q,marginInlineStart:q,marginInlineEnd:q,fontSize:q,backgroundPositionX:q,backgroundPositionY:q,...nE,zIndex:Um,fillOpacity:wi,strokeOpacity:wi,numOctaves:Um},rE={...Bd,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:rc,WebkitFilter:rc},jx=e=>rE[e];function Lx(e,t){let n=jx(e);return n!==rc&&(n=Bn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sE=new Set(["auto","none","0"]);function iE(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!sE.has(i)&&Si(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Lx(n,s)}class aE extends Dd{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let m=t[d];if(typeof m=="string"&&(m=m.trim(),Ld(m))){const f=wx(m,n.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Sx.has(r)||t.length!==2)return;const[s,i]=t,a=Bm(s),o=Bm(i),l=jm(s),c=jm(i);if(l!==c&&Ln[r]){this.needsMeasurement=!0;return}if(a!==o)if(Dm(a)&&Dm(o))for(let d=0;d<t.length;d++){const m=t[d];typeof m=="string"&&(t[d]=parseFloat(m))}else Ln[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||JS(t[s]))&&r.push(s);r.length&&iE(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ln[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Ln[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function oE(e,t,n){var r;if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(r=n==null?void 0:n[e])!=null?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(s=>s!=null)}const Ax=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function sc(e){return By(e)&&"offsetHeight"in e}const{schedule:Ud}=tx(queueMicrotask,!1),Pt={x:!1,y:!1};function Rx(){return Pt.x||Pt.y}function lE(e){return e==="x"||e==="y"?Pt[e]?null:(Pt[e]=!0,()=>{Pt[e]=!1}):Pt.x||Pt.y?null:(Pt.x=Pt.y=!0,()=>{Pt.x=Pt.y=!1})}function Mx(e,t){const n=oE(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Wm(e){return!(e.pointerType==="touch"||Rx())}function uE(e,t,n={}){const[r,s,i]=Mx(e,n),a=o=>{if(!Wm(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const d=m=>{Wm(m)&&(c(m),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const Px=(e,t)=>t?e===t?!0:Px(e,t.parentElement):!1,Wd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,cE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _x(e){return cE.has(e.tagName)||e.isContentEditable===!0}const Aa=new WeakSet;function Hm(e){return t=>{t.key==="Enter"&&e(t)}}function Tl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const dE=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Hm(()=>{if(Aa.has(n))return;Tl(n,"down");const s=Hm(()=>{Tl(n,"up")}),i=()=>Tl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function qm(e){return Wd(e)&&!Rx()}function fE(e,t,n={}){const[r,s,i]=Mx(e,n),a=o=>{const l=o.currentTarget;if(!qm(o))return;Aa.add(l);const c=t(l,o),d=(y,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",f),Aa.has(l)&&Aa.delete(l),qm(y)&&typeof c=="function"&&c(y,{success:v})},m=y=>{d(y,l===window||l===document||n.useGlobalTarget||Px(l,y.target))},f=y=>{d(y,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),sc(o)&&(o.addEventListener("focus",c=>dE(c,s)),!_x(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Ix(e){return By(e)&&"ownerSVGElement"in e}function mE(e){return Ix(e)&&e.tagName==="svg"}const hE=[...Tx,Me,Bn],pE=e=>hE.find(kx(e)),Qm=()=>({translate:0,scale:1,origin:0,originPoint:0}),Br=()=>({x:Qm(),y:Qm()}),Km=()=>({min:0,max:0}),Oe=()=>({x:Km(),y:Km()}),ic={current:null},Ox={current:!1},gE=typeof window<"u";function yE(){if(Ox.current=!0,!!gE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ic.current=e.matches;e.addEventListener("change",t),t()}else ic.current=!1}const xE=new WeakMap;function Oo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ei(e){return typeof e=="string"||Array.isArray(e)}const Hd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qd=["initial",...Hd];function Do(e){return Oo(e.animate)||qd.some(t=>Ei(e[t]))}function Dx(e){return!!(Do(e)||e.variants)}function vE(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Xe(s))e.addValue(r,s);else if(Xe(i))e.addValue(r,us(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(r);e.addValue(r,us(a!==void 0?a:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Gm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let uo={};function $x(e){uo=e}function bE(){return uo}class wE{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=et.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ye.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=Do(n),this.isVariantNode=Dx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in m){const y=m[f];l[f]!==void 0&&Xe(y)&&y.set(l[f])}}mount(t){var n;this.current=t,xE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Ox.current||yE(),this.shouldReduceMotion=ic.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Vn(this.notifyUpdate),Vn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){var n;this.children.add(t),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ys.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in uo){const n=uo[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Gm.length;r++){const s=Gm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=vE(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=us(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var s;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!=null?s:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Vy(r)||Uy(r))?r=parseFloat(r):!pE(r)&&Bn.test(n)&&(r=Lx(t,n)),this.setBaseTarget(t,Xe(r)?r.get():r)),Xe(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Fd(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Xe(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new kd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Ud.render(this.render)}}class zx extends wE{constructor(){super(...arguments),this.KeyframeResolver=aE}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Xe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Qn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Fx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function SE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function EE(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jl(e){return e===void 0||e===1}function ac({scale:e,scaleX:t,scaleY:n}){return!jl(e)||!jl(t)||!jl(n)}function tr(e){return ac(e)||Vx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Vx(e){return Ym(e.x)||Ym(e.y)}function Ym(e){return e&&e!=="0%"}function co(e,t,n){const r=e-n,s=t*r;return n+s}function Xm(e,t,n,r,s){return s!==void 0&&(e=co(e,s,r)),co(e,n,r)+t}function oc(e,t=0,n=1,r,s){e.min=Xm(e.min,t,n,r,s),e.max=Xm(e.max,t,n,r,s)}function Bx(e,{x:t,y:n}){oc(e.x,t.translate,t.scale,t.originPoint),oc(e.y,n.translate,n.scale,n.originPoint)}const Jm=.999999999999,Zm=1.0000000000001;function NE(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Wr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Bx(e,a)),r&&tr(i.latestValues)&&Wr(e,i.latestValues))}t.x<Zm&&t.x>Jm&&(t.x=1),t.y<Zm&&t.y>Jm&&(t.y=1)}function Ur(e,t){e.min=e.min+t,e.max=e.max+t}function eh(e,t,n,r,s=.5){const i=Se(e.min,e.max,s);oc(e,t,n,i,r)}function Wr(e,t){eh(e.x,t.x,t.scaleX,t.scale,t.originX),eh(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ux(e,t){return Fx(EE(e.getBoundingClientRect(),t))}function CE(e,t,n){const r=Ux(e,n),{scroll:s}=t;return s&&(Ur(r.x,s.offset.x),Ur(r.y,s.offset.y)),r}const kE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TE=gs.length;function jE(e,t,n){let r="",s=!0;for(let i=0;i<TE;i++){const a=gs[i],o=e[a];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(a.startsWith("scale")?1:0);else{const c=parseFloat(o);l=a.startsWith("scale")?c===1:c===0}if(!l||n){const c=Ax(o,Bd[a]);if(!l){s=!1;const d=kE[a]||a;r+=`${d}(${c}) `}n&&(t[a]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Qd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const c=t[l];if(ys.has(l)){a=!0;continue}else if(rx(l)){s[l]=c;continue}else{const d=Ax(c,Bd[l]);l.startsWith("origin")?(o=!0,i[l]=d):r[l]=d}}if(t.transform||(a||n?r.transform=jE(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}function Wx(e,{style:t,vars:n},r,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function th(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const As={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(q.test(e))e=parseFloat(e);else return e;const n=th(e,t.target.x),r=th(e,t.target.y);return`${n}% ${r}%`}},LE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Bn.parse(e);if(s.length>5)return r;const i=Bn.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=l;const c=Se(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),i(s)}},lc={borderRadius:{...As,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:As,borderTopRightRadius:As,borderBottomLeftRadius:As,borderBottomRightRadius:As,boxShadow:LE};function Hx(e,{layout:t,layoutId:n}){return ys.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!lc[e]||e==="opacity")}function Kd(e,t,n){var a;const r=e.style,s=t==null?void 0:t.style,i={};if(!r)return i;for(const o in r)(Xe(r[o])||s&&Xe(s[o])||Hx(o,e)||((a=n==null?void 0:n.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}function AE(e){return window.getComputedStyle(e)}class RE extends zx{constructor(){super(...arguments),this.type="html",this.renderInstance=Wx}readValueFromInstance(t,n){var r;if(ys.has(n))return(r=this.projection)!=null&&r.isProjecting?Ku(n):oS(t,n);{const s=AE(t),i=(rx(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ux(t,n)}build(t,n,r){Qd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Kd(t,n,r)}}const ME={offset:"stroke-dashoffset",array:"stroke-dasharray"},PE={offset:"strokeDashoffset",array:"strokeDasharray"};function _E(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?ME:PE;e[i.offset]=`${-r}`,e[i.array]=`${t} ${n}`}const IE=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function qx(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,c,d){var y,v;if(Qd(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f}=e;m.transform&&(f.transform=m.transform,delete m.transform),(f.transform||m.transformOrigin)&&(f.transformOrigin=(y=m.transformOrigin)!=null?y:"50% 50%",delete m.transformOrigin),f.transform&&(f.transformBox=(v=d==null?void 0:d.transformBox)!=null?v:"fill-box",delete m.transformBox);for(const w of IE)m[w]!==void 0&&(f[w]=m[w],delete m[w]);t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&_E(m,s,i,a,!1)}const Qx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Kx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function OE(e,t,n,r){Wx(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Qx.has(s)?s:Vd(s),t.attrs[s])}function Gx(e,t,n){const r=Kd(e,t,n);for(const s in e)if(Xe(e[s])||Xe(t[s])){const i=gs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}class DE extends zx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ys.has(n)){const r=jx(n);return r&&r.default||0}return n=Qx.has(n)?n:Vd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Gx(t,n,r)}build(t,n,r){qx(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){OE(t,n,r,s)}mount(t){this.isSVGTag=Kx(t.tagName),super.mount(t)}}const $E=qd.length;function Yx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Yx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$E;n++){const r=qd[n],s=e.props[r];(Ei(s)||s===!1)&&(t[r]=s)}return t}function Xx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const zE=[...Hd].reverse(),FE=Hd.length;function VE(e){return t=>Promise.all(t.map(({animation:n,options:r})=>YS(e,n,r)))}function BE(e){let t=VE(e),n=nh(),r=!0;const s=l=>(c,d)=>{var f;const m=es(e,d,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(m){const{transition:y,transitionEnd:v,...w}=m;c={...c,...w,...v}}return c};function i(l){t=l(e)}function a(l){const{props:c}=e,d=Yx(e.parent)||{},m=[],f=new Set;let y={},v=1/0;for(let x=0;x<FE;x++){const p=zE[x],h=n[p],g=c[p]!==void 0?c[p]:d[p],S=Ei(g),E=p===l?h.isActive:null;E===!1&&(v=x);let C=g===d[p]&&g!==c[p]&&S;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),h.protectedKeys={...y},!h.isActive&&E===null||!g&&!h.prevProp||Oo(g)||typeof g=="boolean")continue;const k=UE(h.prevProp,g);let N=k||p===l&&h.isActive&&!C&&S||x>v&&S,M=!1;const T=Array.isArray(g)?g:[g];let B=T.reduce(s(p),{});E===!1&&(B={});const{prevResolvedValues:X={}}=h,Q={...X,...B},L=J=>{N=!0,f.has(J)&&(M=!0,f.delete(J)),h.needsAnimating[J]=!0;const R=e.getValue(J);R&&(R.liveStyle=!1)};for(const J in Q){const R=B[J],O=X[J];if(y.hasOwnProperty(J))continue;let _=!1;ec(R)&&ec(O)?_=!Xx(R,O):_=R!==O,_?R!=null?L(J):f.add(J):R!==void 0&&f.has(J)?L(J):h.protectedKeys[J]=!0}h.prevProp=g,h.prevResolvedValues=B,h.isActive&&(y={...y,...B}),r&&e.blockInitialAnimation&&(N=!1);const j=C&&k;N&&(!j||M)&&m.push(...T.map(J=>{const R={type:p};if(typeof J=="string"&&r&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:O}=e,_=es(O,J);if(O.enteringChildren&&_){const{delayChildren:z}=_.transition||{};R.delay=bx(O.enteringChildren,e,z)}}return{animation:J,options:R}}))}if(f.size){const x={};if(typeof c.initial!="boolean"){const p=es(e,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(x.transition=p.transition)}f.forEach(p=>{const h=e.getBaseTarget(p),g=e.getValue(p);g&&(g.liveStyle=!0),x[p]=h!=null?h:null}),m.push({animation:x})}let w=!!m.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(m):Promise.resolve()}function o(l,c){var m;if(n[l].isActive===c)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(f=>{var y;return(y=f.animationState)==null?void 0:y.setActive(l,c)}),n[l].isActive=c;const d=a(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=nh()}}}function UE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Xx(t,e):!1}function Xn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nh(){return{animate:Xn(!0),whileInView:Xn(),whileHover:Xn(),whileTap:Xn(),whileDrag:Xn(),whileFocus:Xn(),exit:Xn()}}function rh(e,t){e.min=t.min,e.max=t.max}function Mt(e,t){rh(e.x,t.x),rh(e.y,t.y)}function sh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Jx=1e-4,WE=1-Jx,HE=1+Jx,Zx=.01,qE=0-Zx,QE=0+Zx;function tt(e){return e.max-e.min}function KE(e,t,n){return Math.abs(e-t)<=n}function ih(e,t,n,r=.5){e.origin=r,e.originPoint=Se(t.min,t.max,e.origin),e.scale=tt(n)/tt(t),e.translate=Se(n.min,n.max,e.origin)-e.originPoint,(e.scale>=WE&&e.scale<=HE||isNaN(e.scale))&&(e.scale=1),(e.translate>=qE&&e.translate<=QE||isNaN(e.translate))&&(e.translate=0)}function ei(e,t,n,r){ih(e.x,t.x,n.x,r?r.originX:void 0),ih(e.y,t.y,n.y,r?r.originY:void 0)}function ah(e,t,n){e.min=n.min+t.min,e.max=e.min+tt(t)}function GE(e,t,n){ah(e.x,t.x,n.x),ah(e.y,t.y,n.y)}function oh(e,t,n){e.min=t.min-n.min,e.max=e.min+tt(t)}function fo(e,t,n){oh(e.x,t.x,n.x),oh(e.y,t.y,n.y)}function lh(e,t,n,r,s){return e-=t,e=co(e,1/n,r),s!==void 0&&(e=co(e,1/s,r)),e}function YE(e,t=0,n=1,r=.5,s,i=e,a=e){if(Xt.test(t)&&(t=parseFloat(t),t=Se(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Se(i.min,i.max,r);e===i&&(o-=t),e.min=lh(e.min,t,n,o,s),e.max=lh(e.max,t,n,o,s)}function uh(e,t,[n,r,s],i,a){YE(e,t[n],t[r],t[s],t.scale,i,a)}const XE=["x","scaleX","originX"],JE=["y","scaleY","originY"];function ch(e,t,n,r){uh(e.x,t,XE,n?n.x:void 0,r?r.x:void 0),uh(e.y,t,JE,n?n.y:void 0,r?r.y:void 0)}function dh(e){return e.translate===0&&e.scale===1}function ev(e){return dh(e.x)&&dh(e.y)}function fh(e,t){return e.min===t.min&&e.max===t.max}function ZE(e,t){return fh(e.x,t.x)&&fh(e.y,t.y)}function mh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function tv(e,t){return mh(e.x,t.x)&&mh(e.y,t.y)}function hh(e){return tt(e.x)/tt(e.y)}function ph(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function St(e){return[e("x"),e("y")]}function eN(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:m,rotateY:f,skewX:y,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),m&&(r+=`rotateX(${m}deg) `),f&&(r+=`rotateY(${f}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const nv=["TopLeft","TopRight","BottomLeft","BottomRight"],tN=nv.length,gh=e=>typeof e=="string"?parseFloat(e):e,yh=e=>typeof e=="number"||q.test(e);function nN(e,t,n,r,s,i){var a,o,l,c;s?(e.opacity=Se(0,(a=n.opacity)!=null?a:1,rN(r)),e.opacityExit=Se((o=t.opacity)!=null?o:1,0,sN(r))):i&&(e.opacity=Se((l=t.opacity)!=null?l:1,(c=n.opacity)!=null?c:1,r));for(let d=0;d<tN;d++){const m=`border${nv[d]}Radius`;let f=xh(t,m),y=xh(n,m);if(f===void 0&&y===void 0)continue;f||(f=0),y||(y=0),f===0||y===0||yh(f)===yh(y)?(e[m]=Math.max(Se(gh(f),gh(y),r),0),(Xt.test(y)||Xt.test(f))&&(e[m]+="%")):e[m]=y}(t.rotate||n.rotate)&&(e.rotate=Se(t.rotate||0,n.rotate||0,r))}function xh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rN=rv(0,.5,Xy),sN=rv(.5,.95,jt);function rv(e,t,n){return r=>r<e?0:r>t?1:n(bi(e,t,r))}function iN(e,t,n){const r=Xe(e)?e:us(e);return r.start(zd("",r,t,n)),r.animation}function Ni(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const aN=(e,t)=>e.depth-t.depth;class oN{constructor(){this.children=[],this.isDirty=!1}add(t){Sd(this.children,t),this.isDirty=!0}remove(t){Ed(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aN),this.isDirty=!1,this.children.forEach(t)}}function lN(e,t){const n=et.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Vn(r),e(i-t))};return ye.setup(r,!0),()=>Vn(r)}function Ra(e){return Xe(e)?e.get():e}class uN{constructor(){this.members=[]}add(t){Sd(this.members,t),t.scheduleRender()}remove(t){if(Ed(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const s=r.options.layoutDependency,i=t.options.layoutDependency;s!==void 0&&i!==void 0&&s===i||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ma={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ll=["","X","Y","Z"],cN=1e3;let dN=0;function Al(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function sv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Nx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ye,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&sv(r)}function iv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=dN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hN),this.nodes.forEach(xN),this.nodes.forEach(vN),this.nodes.forEach(pN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oN)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new kd),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ix(a)&&!mE(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let d,m=0;const f=()=>this.root.updateBlockedByResize=!1;ye.read(()=>{m=window.innerWidth}),e(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,d&&d(),d=lN(f,250),Ma.hasAnimatedSinceResize&&(Ma.hasAnimatedSinceResize=!1,this.nodes.forEach(wh)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||NN,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=c.getProps(),p=!this.targetLayout||!tv(this.targetLayout,y),h=!m&&f;if(this.options.layoutRoot||this.resumeFrom||h||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...$d(v,"layout"),onPlay:w,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(d,h)}else m||wh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bN),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vh);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bh);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yN),this.nodes.forEach(fN),this.nodes.forEach(mN)):this.nodes.forEach(bh),this.clearAllSnapshots();const o=et.now();Ue.delta=Jt(0,1e3/60,o-Ue.timestamp),Ue.timestamp=o,Ue.isProcessing=!0,wl.update.process(Ue),wl.preRender.process(Ue),wl.render.process(Ue),Ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ud.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gN),this.sharedNodes.forEach(wN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tt(this.snapshot.measuredBox.x)&&!tt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!ev(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||tr(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),CN(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Oe();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(kN))){const{scroll:d}=this.root;d&&(Ur(o.x,d.offset.x),Ur(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=Oe();if(Mt(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:m,options:f}=d;d!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&Mt(o,a),Ur(o.x,m.offset.x),Ur(o.y,m.offset.y))}return o}applyTransform(a,o=!1){const l=Oe();Mt(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Wr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),tr(d.latestValues)&&Wr(l,d.latestValues)}return tr(this.latestValues)&&Wr(l,this.latestValues),l}removeTransform(a){const o=Oe();Mt(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!tr(c.latestValues))continue;ac(c.latestValues)&&c.updateSnapshot();const d=Oe(),m=c.measurePageBox();Mt(d,m),ch(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return tr(this.latestValues)&&ch(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!this.layout||!(d||m))return;this.resolvedRelativeTargetAt=Ue.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mt(this.target,this.layout.layoutBox),Bx(this.target,this.targetDelta)):Mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ac(this.parent.latestValues)||Vx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),fo(this.relativeTargetOrigin,o,l),Mt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ue.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Mt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;NE(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Oe());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sh(this.prevProjectionDelta.x,this.projectionDelta.x),sh(this.prevProjectionDelta.y,this.projectionDelta.y)),ei(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!ph(this.projectionDelta.x,this.prevProjectionDelta.x)||!ph(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Br(),this.projectionDelta=Br(),this.projectionDeltaWithTransform=Br()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},m=Br();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Oe(),y=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,x=this.getStack(),p=!x||x.members.length<=1,h=!!(w&&!p&&this.options.crossfade===!0&&!this.path.some(EN));this.animationProgress=0;let g;this.mixTargetDelta=S=>{const E=S/1e3;Sh(m.x,a.x,E),Sh(m.y,a.y,E),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fo(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SN(this.relativeTarget,this.relativeTargetOrigin,f,E),g&&ZE(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Oe()),Mt(g,this.relativeTarget)),w&&(this.animationValues=d,nN(d,c,this.latestValues,E,h,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Ma.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=us(0)),this.currentAnimation=iN(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&av(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Oe();const m=tt(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+m;const f=tt(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Mt(o,l),Wr(o,d),ei(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new uN),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Al("z",a,c,this.animationValues);for(let d=0;d<Ll.length;d++)Al(`rotate${Ll[d]}`,a,c,this.animationValues),Al(`skew${Ll[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,o){var v,w;if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Ra(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Ra(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!tr(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let m=eN(this.projectionDeltaWithTransform,this.treeScale,d);l&&(m=l(d,m)),a.transform=m;const{x:f,y}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,c.animationValues?a.opacity=c===this?(w=(v=d.opacity)!=null?v:this.latestValues.opacity)!=null?w:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in lc){if(d[x]===void 0)continue;const{correct:p,applyTo:h,isCSSVariable:g}=lc[x],S=m==="none"?d[x]:p(d[x],c);if(h){const E=h.length;for(let C=0;C<E;C++)a[h[C]]=S}else g?this.options.visualElement.renderState.vars[x]=S:a[x]=S}this.options.layoutId&&(a.pointerEvents=c===this?Ra(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(vh),this.root.sharedNodes.clear()}}}function fN(e){e.updateLayout()}function mN(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?St(m=>{const f=a?t.measuredBox[m]:t.layoutBox[m],y=tt(f);f.min=r[m].min,f.max=f.min+y}):av(i,t.layoutBox,r)&&St(m=>{const f=a?t.measuredBox[m]:t.layoutBox[m],y=tt(r[m]);f.max=f.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+y)});const o=Br();ei(o,r,t.layoutBox);const l=Br();a?ei(l,e.applyTransform(s,!0),t.measuredBox):ei(l,r,t.layoutBox);const c=!ev(o);let d=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:y}=m;if(f&&y){const v=Oe();fo(v,t.layoutBox,f.layoutBox);const w=Oe();fo(w,r,y.layoutBox),tv(v,w)||(d=!0),m.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function hN(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function pN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function gN(e){e.clearSnapshot()}function vh(e){e.clearMeasurements()}function bh(e){e.isLayoutDirty=!1}function yN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xN(e){e.resolveTargetDelta()}function vN(e){e.calcProjection()}function bN(e){e.resetSkewAndRotation()}function wN(e){e.removeLeadSnapshot()}function Sh(e,t,n){e.translate=Se(t.translate,0,n),e.scale=Se(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Eh(e,t,n,r){e.min=Se(t.min,n.min,r),e.max=Se(t.max,n.max,r)}function SN(e,t,n,r){Eh(e.x,t.x,n.x,r),Eh(e.y,t.y,n.y,r)}function EN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const NN={duration:.45,ease:[.4,0,.1,1]},Nh=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ch=Nh("applewebkit/")&&!Nh("chrome/")?Math.round:jt;function kh(e){e.min=Ch(e.min),e.max=Ch(e.max)}function CN(e){kh(e.x),kh(e.y)}function av(e,t,n){return e==="position"||e==="preserve-aspect"&&!KE(hh(t),hh(n),.2)}function kN(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const TN=iv({attachResizeListener:(e,t)=>Ni(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Rl={current:void 0},ov=iv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rl.current){const e=new TN({});e.mount(window),e.setOptions({layoutScroll:!0}),Rl.current=e}return Rl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Gd=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Th(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jN(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Th(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Th(e[s],null)}}}}function LN(...e){return b.useCallback(jN(...e),e)}class AN extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=sc(r)&&r.offsetWidth||0,i=sc(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left,a.bottom=i-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function RN({children:e,isPresent:t,anchorX:n,anchorY:r,root:s}){var m,f;const i=b.useId(),a=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=b.useContext(Gd),c=(f=(m=e.props)==null?void 0:m.ref)!=null?f:e==null?void 0:e.ref,d=LN(a,c);return b.useInsertionEffect(()=>{const{width:y,height:v,top:w,left:x,right:p,bottom:h}=o.current;if(t||!a.current||!y||!v)return;const g=n==="left"?`left: ${x}`:`right: ${p}`,S=r==="bottom"?`bottom: ${h}`:`top: ${w}`;a.current.dataset.motionPopId=i;const E=document.createElement("style");l&&(E.nonce=l);const C=s!=null?s:document.head;return C.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${g}px !important;
            ${S}px !important;
          }
        `),()=>{C.contains(E)&&C.removeChild(E)}},[t]),u.jsx(AN,{isPresent:t,childRef:a,sizeRef:o,children:b.cloneElement(e,{ref:d})})}const MN=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,anchorY:l,root:c})=>{const d=wd(PN),m=b.useId();let f=!0,y=b.useMemo(()=>(f=!1,{id:m,initial:t,isPresent:n,custom:s,onExitComplete:v=>{d.set(v,!0);for(const w of d.values())if(!w)return;r&&r()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[n,d,r]);return i&&f&&(y={...y}),b.useMemo(()=>{d.forEach((v,w)=>d.set(w,!1))},[n]),b.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(e=u.jsx(RN,{isPresent:n,anchorX:o,anchorY:l,root:c,children:e})),u.jsx(Io.Provider,{value:y,children:e})};function PN(){return new Map}function lv(e=!0){const t=b.useContext(Io);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=b.useId();b.useEffect(()=>{if(e)return s(i)},[e]);const a=b.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}const la=e=>e.key||"";function jh(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const $o=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:c})=>{const[d,m]=lv(a),f=b.useMemo(()=>jh(e),[e]),y=a&&!d?[]:f.map(la),v=b.useRef(!0),w=b.useRef(f),x=wd(()=>new Map),p=b.useRef(new Set),[h,g]=b.useState(f),[S,E]=b.useState(f);Fy(()=>{v.current=!1,w.current=f;for(let N=0;N<S.length;N++){const M=la(S[N]);y.includes(M)?(x.delete(M),p.current.delete(M)):x.get(M)!==!0&&x.set(M,!1)}},[S,y.length,y.join("-")]);const C=[];if(f!==h){let N=[...f];for(let M=0;M<S.length;M++){const T=S[M],B=la(T);y.includes(B)||(N.splice(M,0,T),C.push(T))}return i==="wait"&&C.length&&(N=C),E(jh(N)),g(f),null}const{forceRender:k}=b.useContext(bd);return u.jsx(u.Fragment,{children:S.map(N=>{const M=la(N),T=a&&!d?!1:f===S||y.includes(M),B=()=>{if(p.current.has(M))return;if(p.current.add(M),x.has(M))x.set(M,!0);else return;let X=!0;x.forEach(Q=>{Q||(X=!1)}),X&&(k==null||k(),E(w.current),a&&(m==null||m()),r&&r())};return u.jsx(MN,{isPresent:T,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:T?void 0:B,anchorX:o,anchorY:l,children:N},M)})})},uv=b.createContext({strict:!1}),Lh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ah=!1;function _N(){if(Ah)return;const e={};for(const t in Lh)e[t]={isEnabled:n=>Lh[t].some(r=>!!n[r])};$x(e),Ah=!0}function cv(){return _N(),bE()}function IN(e){const t=cv();for(const n in e)t[n]={...t[n],...e[n]};$x(t)}const ON=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ON.has(e)}let dv=e=>!mo(e);function DN(e){typeof e=="function"&&(dv=t=>t.startsWith("on")?!mo(t):e(t))}try{DN(require("@emotion/is-prop-valid").default)}catch{}function $N(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(dv(s)||n===!0&&mo(s)||!t&&!mo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const zo=b.createContext({});function zN(e,t){if(Do(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ei(n)?n:void 0,animate:Ei(r)?r:void 0}}return e.inherit!==!1?t:{}}function FN(e){const{initial:t,animate:n}=zN(e,b.useContext(zo));return b.useMemo(()=>({initial:t,animate:n}),[Rh(t),Rh(n)])}function Rh(e){return Array.isArray(e)?e.join(" "):e}const Yd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fv(e,t,n){for(const r in t)!Xe(t[r])&&!Hx(r,n)&&(e[r]=t[r])}function VN({transformTemplate:e},t){return b.useMemo(()=>{const n=Yd();return Qd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function BN(e,t){const n=e.style||{},r={};return fv(r,n,e),Object.assign(r,VN(e,t)),r}function UN(e,t){const n={},r=BN(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const mv=()=>({...Yd(),attrs:{}});function WN(e,t,n,r){const s=b.useMemo(()=>{const i=mv();return qx(i,t,Kx(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};fv(i,e.style,e),s.style={...i,...s.style}}return s}const HN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xd(e){return typeof e!="string"||e.includes("-")?!1:!!(HN.indexOf(e)>-1||/[A-Z]/u.test(e))}function qN(e,t,n,{latestValues:r},s,i=!1,a){const l=((a!=null?a:Xd(e))?WN:UN)(t,r,s,e),c=$N(t,typeof e=="string",i),d=e!==b.Fragment?{...c,...l,ref:n}:{},{children:m}=t,f=b.useMemo(()=>Xe(m)?m.get():m,[m]);return b.createElement(e,{...d,children:f})}function QN({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:KN(n,r,s,e),renderState:t()}}function KN(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Ra(i[f]);let{initial:a,animate:o}=e;const l=Do(e),c=Dx(e);t&&c&&!l&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const m=d?o:a;if(m&&typeof m!="boolean"&&!Oo(m)){const f=Array.isArray(m)?m:[m];for(let y=0;y<f.length;y++){const v=Fd(e,f[y]);if(v){const{transitionEnd:w,transition:x,...p}=v;for(const h in p){let g=p[h];if(Array.isArray(g)){const S=d?g.length-1:0;g=g[S]}g!==null&&(s[h]=g)}for(const h in w)s[h]=w[h]}}}return s}const hv=e=>(t,n)=>{const r=b.useContext(zo),s=b.useContext(Io),i=()=>QN(e,t,r,s);return n?i():wd(i)},GN=hv({scrapeMotionValuesFromProps:Kd,createRenderState:Yd}),YN=hv({scrapeMotionValuesFromProps:Gx,createRenderState:mv}),XN=Symbol.for("motionComponentSymbol");function JN(e,t,n){const r=b.useRef(n);b.useInsertionEffect(()=>{r.current=n});const s=b.useRef(null);return b.useCallback(i=>{var o;i&&((o=e.onMount)==null||o.call(e,i)),t&&(i?t.mount(i):t.unmount());const a=r.current;if(typeof a=="function")if(i){const l=a(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):a(i);else a&&(a.current=i)},[t])}const pv=b.createContext({});function zs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ZN(e,t,n,r,s,i){var p,h;const{visualElement:a}=b.useContext(zo),o=b.useContext(uv),l=b.useContext(Io),c=b.useContext(Gd).reducedMotion,d=b.useRef(null),m=b.useRef(!1);r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}),m.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const f=d.current,y=b.useContext(pv);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&eC(d.current,n,s,y);const v=b.useRef(!1);b.useInsertionEffect(()=>{f&&v.current&&f.update(n,l)});const w=n[Ex],x=b.useRef(!!w&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,w))&&((h=window.MotionHasOptimisedAnimation)==null?void 0:h.call(window,w)));return Fy(()=>{m.current=!0,f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,w)}),x.current=!1),f.enteringChildren=void 0)}),f}function eC(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:gv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&zs(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function gv(e){if(e)return e.options.allowProjection!==!1?e.projection:gv(e.parent)}function Ml(e,{forwardMotionProps:t=!1,type:n}={},r,s){var c,d;r&&IN(r);const i=n?n==="svg":Xd(e),a=i?YN:GN;function o(m,f){let y;const v={...b.useContext(Gd),...m,layoutId:tC(m)},{isStatic:w}=v,x=FN(m),p=a(m,w);if(!w&&zy){nC();const h=rC(v);y=h.MeasureLayout,x.visualElement=ZN(e,p,v,s,h.ProjectionNode,i)}return u.jsxs(zo.Provider,{value:x,children:[y&&x.visualElement?u.jsx(y,{visualElement:x.visualElement,...v}):null,qN(e,m,JN(p,x.visualElement,f),p,w,t,i)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${(d=(c=e.displayName)!=null?c:e.name)!=null?d:""})`}`;const l=b.forwardRef(o);return l[XN]=e,l}function tC({layoutId:e}){const t=b.useContext(bd).id;return t&&e!==void 0?t+"-"+e:e}function nC(e,t){b.useContext(uv).strict}function rC(e){const t=cv(),{drag:n,layout:r}=t;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function sC(e,t){if(typeof Proxy>"u")return Ml;const n=new Map,r=(i,a)=>Ml(i,a,e,t),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Ml(a,void 0,e,t)),n.get(a))})}const iC=(e,t)=>{var r;return((r=t.isSVG)!=null?r:Xd(e))?new DE(t):new RE(t,{allowProjection:e!==b.Fragment})};class aC extends Qn{constructor(t){super(t),t.animationState||(t.animationState=BE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Oo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let oC=0;class lC extends Qn{constructor(){super(...arguments),this.id=oC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const uC={animation:{Feature:aC},exit:{Feature:lC}};function Fi(e){return{point:{x:e.pageX,y:e.pageY}}}const cC=e=>t=>Wd(t)&&e(t,Fi(t));function ti(e,t,n,r){return Ni(e,t,cC(n),r)}const yv=({current:e})=>e?e.ownerDocument.defaultView:null,Mh=(e,t)=>Math.abs(e-t);function dC(e,t){const n=Mh(e.x,t.x),r=Mh(e.y,t.y);return Math.sqrt(n**2+r**2)}const Ph=new Set(["auto","scroll"]);class xv{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=_l(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=dC(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:x}=y,{timestamp:p}=Ue;this.history.push({...x,timestamp:p});const{onStart:h,onMove:g}=this.handlers;v||(h&&h(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Pl(v,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:w,onSessionEnd:x,resumeAnimation:p}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_l(y.type==="pointercancel"?this.lastMoveEventInfo:Pl(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,h),x&&x(y,h)},!Wd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const l=Fi(t),c=Pl(l,this.transformPagePoint),{point:d}=c,{timestamp:m}=Ue;this.history=[{...d,timestamp:m}];const{onSessionStart:f}=n;f&&f(t,_l(c,this.history)),this.removeListeners=Di(ti(this.contextWindow,"pointermove",this.handlePointerMove),ti(this.contextWindow,"pointerup",this.handlePointerUp),ti(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(Ph.has(r.overflowX)||Ph.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,s),ye.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Vn(this.updatePoint)}}function Pl(e,t){return t?{point:t(e.point)}:e}function _h(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _l({point:e},t){return{point:e,delta:_h(e,vv(t)),offset:_h(e,fC(t)),velocity:mC(t,.1)}}function fC(e){return e[0]}function vv(e){return e[e.length-1]}function mC(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=vv(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>cn(t)));)n--;if(!r)return{x:0,y:0};const i=kt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function hC(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Se(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Se(n,e,r.max):Math.min(e,n)),e}function Ih(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pC(e,{top:t,left:n,bottom:r,right:s}){return{x:Ih(e.x,n,s),y:Ih(e.y,t,r)}}function Oh(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function gC(e,t){return{x:Oh(e.x,t.x),y:Oh(e.y,t.y)}}function yC(e,t){let n=.5;const r=tt(e),s=tt(t);return s>r?n=bi(t.min,t.max-r,e.min):r>s&&(n=bi(e.min,e.max-s,t.min)),Jt(0,1,n)}function xC(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const uc=.35;function vC(e=uc){return e===!1?e=0:e===!0&&(e=uc),{x:Dh(e,"left","right"),y:Dh(e,"top","bottom")}}function Dh(e,t,n){return{min:$h(e,t),max:$h(e,n)}}function $h(e,t){return typeof e=="number"?e:e[t]||0}const bC=new WeakMap;class wC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{n?(this.stopAnimation(),this.snapToCursor(Fi(m).point)):this.pauseAnimation()},a=(m,f)=>{this.stopAnimation();const{drag:y,dragPropagation:v,onDragStart:w}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lE(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),St(p=>{let h=this.getAxisMotionValue(p).get()||0;if(Xt.test(h)){const{projection:g}=this.visualElement;if(g&&g.layout){const S=g.layout.layoutBox[p];S&&(h=tt(S)*(parseFloat(h)/100))}}this.originPoint[p]=h}),w&&ye.postRender(()=>w(m,f)),tc(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f;const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:w,onDrag:x}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:p}=f;if(v&&this.currentDirection===null){this.currentDirection=SC(p),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,p),this.updateAxis("y",f.point,p),this.visualElement.render(),x&&x(m,f)},l=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f,this.stop(m,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>St(m=>{var f;return this.getAnimationState(m)==="paused"&&((f=this.getAxisMotionValue(m).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new xv(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:yv(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ye.postRender(()=>o(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ua(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=hC(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&zs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=pC(r.layoutBox,t):this.constraints=!1,this.elastic=vC(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&St(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=xC(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zs(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=CE(r,s.root,this.visualElement.getTransformPagePoint());let a=gC(s.layout.layoutBox,i);if(n){const o=n(SE(a));this.hasMutatedConstraints=!!o,o&&(a=Fx(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=St(d=>{if(!ua(d,n,this.currentDirection))return;let m=l&&l[d]||{};a&&(m={min:0,max:0});const f=s?200:1e6,y=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return tc(this.visualElement,t),r.start(zd(t,r,0,n,this.visualElement,!1))}stopAnimation(){St(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){St(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){St(n=>{const{drag:r}=this.getProps();if(!ua(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n],l=i.get()||0;i.set(t[n]-Se(a,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zs(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};St(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=yC({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),St(a=>{if(!ua(a,t,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Se(l,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;bC.set(this.visualElement,this);const t=this.visualElement.current,n=ti(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps(),m=l.target,f=m!==t&&_x(m);c&&d&&!f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();zs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ye.read(r);const a=Ni(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(St(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=l[d].translate,m.set(m.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=uc,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function ua(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function SC(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class EC extends Qn{constructor(t){super(t),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new wC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const zh=e=>(t,n)=>{e&&ye.postRender(()=>e(t,n))};class NC extends Qn{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(t){this.session=new xv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:zh(t),onStart:zh(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ye.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ti(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Il=!1;class CC extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Il&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ma.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,t.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),Il=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||ye.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ud.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Il=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bv(e){const[t,n]=lv(),r=b.useContext(bd);return u.jsx(CC,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(pv),isPresent:t,safeToRemove:n})}const kC={pan:{Feature:NC},drag:{Feature:EC,ProjectionNode:ov,MeasureLayout:bv}};function Fh(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ye.postRender(()=>i(t,Fi(t)))}class TC extends Qn{mount(){const{current:t}=this.node;t&&(this.unmount=uE(t,(n,r)=>(Fh(this.node,r,"Start"),s=>Fh(this.node,s,"End"))))}unmount(){}}class jC extends Qn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Di(Ni(this.node.current,"focus",()=>this.onFocus()),Ni(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Vh(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ye.postRender(()=>i(t,Fi(t)))}class LC extends Qn{mount(){const{current:t}=this.node;t&&(this.unmount=fE(t,(n,r)=>(Vh(this.node,r,"Start"),(s,{success:i})=>Vh(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cc=new WeakMap,Ol=new WeakMap,AC=e=>{const t=cc.get(e.target);t&&t(e)},RC=e=>{e.forEach(AC)};function MC({root:e,...t}){const n=e||document;Ol.has(n)||Ol.set(n,{});const r=Ol.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(RC,{root:e,...t})),r[s]}function PC(e,t,n){const r=MC(t);return cc.set(e,n),r.observe(e),()=>{cc.delete(e),r.unobserve(e)}}const _C={some:0,all:1};class IC extends Qn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:_C[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),f=c?d:m;f&&f(l)};return PC(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(OC(t,n))&&this.startObserver()}unmount(){}}function OC({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const DC={inView:{Feature:IC},tap:{Feature:LC},focus:{Feature:jC},hover:{Feature:TC}},$C={layout:{ProjectionNode:ov,MeasureLayout:bv}},zC={...uC,...DC,...kC,...$C},se=sC(zC,iC),Fo=b.createContext(null);Fo.displayName="PanelGroupContext";const Te={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Jd=10,fr=b.useLayoutEffect,Bh=K0.useId,FC=typeof Bh=="function"?Bh:()=>null;let VC=0;function Zd(e=null){const t=FC(),n=b.useRef(e||t||null);return n.current===null&&(n.current=""+VC++),e!=null?e:n.current}function wv({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:s,forwardedRef:i,id:a,maxSize:o,minSize:l,onCollapse:c,onExpand:d,onResize:m,order:f,style:y,tagName:v="div",...w}){const x=b.useContext(Fo);if(x===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:p,expandPanel:h,getPanelSize:g,getPanelStyle:S,groupId:E,isPanelCollapsed:C,reevaluatePanelConstraints:k,registerPanel:N,resizePanel:M,unregisterPanel:T}=x,B=Zd(a),X=b.useRef({callbacks:{onCollapse:c,onExpand:d,onResize:m},constraints:{collapsedSize:n,collapsible:r,defaultSize:s,maxSize:o,minSize:l},id:B,idIsFromProps:a!==void 0,order:f});b.useRef({didLogMissingDefaultSizeWarning:!1}),fr(()=>{const{callbacks:L,constraints:j}=X.current,P={...j};X.current.id=B,X.current.idIsFromProps=a!==void 0,X.current.order=f,L.onCollapse=c,L.onExpand=d,L.onResize=m,j.collapsedSize=n,j.collapsible=r,j.defaultSize=s,j.maxSize=o,j.minSize=l,(P.collapsedSize!==j.collapsedSize||P.collapsible!==j.collapsible||P.maxSize!==j.maxSize||P.minSize!==j.minSize)&&k(X.current,P)}),fr(()=>{const L=X.current;return N(L),()=>{T(L)}},[f,B,N,T]),b.useImperativeHandle(i,()=>({collapse:()=>{p(X.current)},expand:L=>{h(X.current,L)},getId(){return B},getSize(){return g(X.current)},isCollapsed(){return C(X.current)},isExpanded(){return!C(X.current)},resize:L=>{M(X.current,L)}}),[p,h,g,C,B,M]);const Q=S(X.current,s);return b.createElement(v,{...w,children:e,className:t,id:B,style:{...Q,...y},[Te.groupId]:E,[Te.panel]:"",[Te.panelCollapsible]:r||void 0,[Te.panelId]:B,[Te.panelSize]:parseFloat(""+Q.flexGrow).toFixed(1)})}const Ci=b.forwardRef((e,t)=>b.createElement(wv,{...e,forwardedRef:t}));wv.displayName="Panel";Ci.displayName="forwardRef(Panel)";let dc=null,Pa=-1,kn=null;function BC(e,t){if(t){const n=(t&kv)!==0,r=(t&Tv)!==0,s=(t&jv)!==0,i=(t&Lv)!==0;if(n)return s?"se-resize":i?"ne-resize":"e-resize";if(r)return s?"sw-resize":i?"nw-resize":"w-resize";if(s)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function UC(){kn!==null&&(document.head.removeChild(kn),dc=null,kn=null,Pa=-1)}function Dl(e,t){var n,r;const s=BC(e,t);if(dc!==s){if(dc=s,kn===null&&(kn=document.createElement("style"),document.head.appendChild(kn)),Pa>=0){var i;(i=kn.sheet)===null||i===void 0||i.removeRule(Pa)}Pa=(n=(r=kn.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function Sv(e){return e.type==="keydown"}function Ev(e){return e.type.startsWith("pointer")}function Nv(e){return e.type.startsWith("mouse")}function Vo(e){if(Ev(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Nv(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function WC(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function HC(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function qC(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:Hh(e),b:Hh(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;re(r,"Stacking order can only be calculated for elements with a common ancestor");const s={a:Wh(Uh(n.a)),b:Wh(Uh(n.b))};if(s.a===s.b){const i=r.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let o=i.length;for(;o--;){const l=i[o];if(l===a.a)return 1;if(l===a.b)return-1}}return Math.sign(s.a-s.b)}const QC=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function KC(e){var t;const n=getComputedStyle((t=Cv(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function GC(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||KC(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||QC.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Uh(e){let t=e.length;for(;t--;){const n=e[t];if(re(n,"Missing node"),GC(n))return n}return null}function Wh(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Hh(e){const t=[];for(;e;)t.push(e),e=Cv(e);return t}function Cv(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const kv=1,Tv=2,jv=4,Lv=8,YC=WC()==="coarse";let zt=[],ts=!1,nr=new Map,Bo=new Map;const ki=new Set;function XC(e,t,n,r,s){var i;const{ownerDocument:a}=t,o={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:s},l=(i=nr.get(a))!==null&&i!==void 0?i:0;return nr.set(a,l+1),ki.add(o),ho(),function(){var d;Bo.delete(e),ki.delete(o);const m=(d=nr.get(a))!==null&&d!==void 0?d:1;if(nr.set(a,m-1),ho(),m===1&&nr.delete(a),zt.includes(o)){const f=zt.indexOf(o);f>=0&&zt.splice(f,1),tf(),s("up",!0,null)}}}function JC(e){const{target:t}=e,{x:n,y:r}=Vo(e);ts=!0,ef({target:t,x:n,y:r}),ho(),zt.length>0&&(po("down",e),e.preventDefault(),Av(t)||e.stopImmediatePropagation())}function $l(e){const{x:t,y:n}=Vo(e);if(ts&&e.buttons===0&&(ts=!1,po("up",e)),!ts){const{target:r}=e;ef({target:r,x:t,y:n})}po("move",e),tf(),zt.length>0&&e.preventDefault()}function zl(e){const{target:t}=e,{x:n,y:r}=Vo(e);Bo.clear(),ts=!1,zt.length>0&&(e.preventDefault(),Av(t)||e.stopImmediatePropagation()),po("up",e),ef({target:t,x:n,y:r}),tf(),ho()}function Av(e){let t=e;for(;t;){if(t.hasAttribute(Te.resizeHandle))return!0;t=t.parentElement}return!1}function ef({target:e,x:t,y:n}){zt.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),ki.forEach(s=>{const{element:i,hitAreaMargins:a}=s,o=i.getBoundingClientRect(),{bottom:l,left:c,right:d,top:m}=o,f=YC?a.coarse:a.fine;if(t>=c-f&&t<=d+f&&n>=m-f&&n<=l+f){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&qC(r,i)>0){let v=r,w=!1;for(;v&&!v.contains(i);){if(HC(v.getBoundingClientRect(),o)){w=!0;break}v=v.parentElement}if(w)return}zt.push(s)}})}function Fl(e,t){Bo.set(e,t)}function tf(){let e=!1,t=!1;zt.forEach(r=>{const{direction:s}=r;s==="horizontal"?e=!0:t=!0});let n=0;Bo.forEach(r=>{n|=r}),e&&t?Dl("intersection",n):e?Dl("horizontal",n):t?Dl("vertical",n):UC()}let Vl=new AbortController;function ho(){Vl.abort(),Vl=new AbortController;const e={capture:!0,signal:Vl.signal};ki.size&&(ts?(zt.length>0&&nr.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",zl,e),r.addEventListener("pointerleave",$l,e),r.addEventListener("pointermove",$l,e))}),window.addEventListener("pointerup",zl,e),window.addEventListener("pointercancel",zl,e)):nr.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",JC,e),r.addEventListener("pointermove",$l,e))}))}function po(e,t){ki.forEach(n=>{const{setResizeHandlerState:r}=n,s=zt.includes(n);r(e,s,t)})}function ZC(){const[e,t]=b.useState(0);return b.useCallback(()=>t(n=>n+1),[])}function re(e,t){if(!e)throw console.error(t),Error(t)}function vr(e,t,n=Jd){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function rn(e,t,n=Jd){return vr(e,t,n)===0}function ht(e,t,n){return vr(e,t,n)===0}function ek(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const s=e[r],i=t[r];if(!ht(s,i,n))return!1}return!0}function Hr({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];re(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:s=0,collapsible:i,maxSize:a=100,minSize:o=0}=r;if(vr(n,o)<0)if(i){const l=(s+o)/2;vr(n,l)<0?n=s:n=o}else n=o;return n=Math.min(a,n),n=parseFloat(n.toFixed(Jd)),n}function Fs({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:s,trigger:i}){if(ht(e,0))return t;const a=[...t],[o,l]=r;re(o!=null,"Invalid first pivot index"),re(l!=null,"Invalid second pivot index");let c=0;if(i==="keyboard"){{const m=e<0?l:o,f=n[m];re(f,`Panel constraints not found for index ${m}`);const{collapsedSize:y=0,collapsible:v,minSize:w=0}=f;if(v){const x=t[m];if(re(x!=null,`Previous layout not found for panel index ${m}`),ht(x,y)){const p=w-x;vr(p,Math.abs(e))>0&&(e=e<0?0-p:p)}}}{const m=e<0?o:l,f=n[m];re(f,`No panel constraints found for index ${m}`);const{collapsedSize:y=0,collapsible:v,minSize:w=0}=f;if(v){const x=t[m];if(re(x!=null,`Previous layout not found for panel index ${m}`),ht(x,w)){const p=x-y;vr(p,Math.abs(e))>0&&(e=e<0?0-p:p)}}}}{const m=e<0?1:-1;let f=e<0?l:o,y=0;for(;;){const w=t[f];re(w!=null,`Previous layout not found for panel index ${f}`);const p=Hr({panelConstraints:n,panelIndex:f,size:100})-w;if(y+=p,f+=m,f<0||f>=n.length)break}const v=Math.min(Math.abs(e),Math.abs(y));e=e<0?0-v:v}{let f=e<0?o:l;for(;f>=0&&f<n.length;){const y=Math.abs(e)-Math.abs(c),v=t[f];re(v!=null,`Previous layout not found for panel index ${f}`);const w=v-y,x=Hr({panelConstraints:n,panelIndex:f,size:w});if(!ht(v,x)&&(c+=v-x,a[f]=x,c.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?f--:f++}}if(ek(s,a))return s;{const m=e<0?l:o,f=t[m];re(f!=null,`Previous layout not found for panel index ${m}`);const y=f+c,v=Hr({panelConstraints:n,panelIndex:m,size:y});if(a[m]=v,!ht(v,y)){let w=y-v,p=e<0?l:o;for(;p>=0&&p<n.length;){const h=a[p];re(h!=null,`Previous layout not found for panel index ${p}`);const g=h+w,S=Hr({panelConstraints:n,panelIndex:p,size:g});if(ht(h,S)||(w-=S-h,a[p]=S),ht(w,0))break;e>0?p--:p++}}}const d=a.reduce((m,f)=>f+m,0);return ht(d,100)?a:s}function tk({layout:e,panelsArray:t,pivotIndices:n}){let r=0,s=100,i=0,a=0;const o=n[0];re(o!=null,"No pivot index found"),t.forEach((m,f)=>{const{constraints:y}=m,{maxSize:v=100,minSize:w=0}=y;f===o?(r=w,s=v):(i+=w,a+=v)});const l=Math.min(s,100-i),c=Math.max(r,100-a),d=e[o];return{valueMax:l,valueMin:c,valueNow:d}}function Ti(e,t=document){return Array.from(t.querySelectorAll(`[${Te.resizeHandleId}][data-panel-group-id="${e}"]`))}function Rv(e,t,n=document){const s=Ti(e,n).findIndex(i=>i.getAttribute(Te.resizeHandleId)===t);return s!=null?s:null}function Mv(e,t,n){const r=Rv(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Pv(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Uo(e,t=document){const n=t.querySelector(`[${Te.resizeHandleId}="${e}"]`);return n||null}function nk(e,t,n,r=document){var s,i,a,o;const l=Uo(t,r),c=Ti(e,r),d=l?c.indexOf(l):-1,m=(s=(i=n[d])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null,f=(a=(o=n[d+1])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null;return[m,f]}function rk({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:s,panelGroupElement:i,setLayout:a}){b.useRef({didWarnAboutMissingResizeHandle:!1}),fr(()=>{if(!i)return;const o=Ti(n,i);for(let l=0;l<s.length-1;l++){const{valueMax:c,valueMin:d,valueNow:m}=tk({layout:r,panelsArray:s,pivotIndices:[l,l+1]}),f=o[l];if(f!=null){const y=s[l];re(y,`No panel data found for index "${l}"`),f.setAttribute("aria-controls",y.id),f.setAttribute("aria-valuemax",""+Math.round(c)),f.setAttribute("aria-valuemin",""+Math.round(d)),f.setAttribute("aria-valuenow",m!=null?""+Math.round(m):"")}}return()=>{o.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,s,i]),b.useEffect(()=>{if(!i)return;const o=t.current;re(o,"Eager values not found");const{panelDataArray:l}=o,c=Pv(n,i);re(c!=null,`No group found for id "${n}"`);const d=Ti(n,i);re(d,`No resize handles found for group id "${n}"`);const m=d.map(f=>{const y=f.getAttribute(Te.resizeHandleId);re(y,"Resize handle element has no handle id attribute");const[v,w]=nk(n,y,l,i);if(v==null||w==null)return()=>{};const x=p=>{if(!p.defaultPrevented)switch(p.key){case"Enter":{p.preventDefault();const h=l.findIndex(g=>g.id===v);if(h>=0){const g=l[h];re(g,`No panel data found for index ${h}`);const S=r[h],{collapsedSize:E=0,collapsible:C,minSize:k=0}=g.constraints;if(S!=null&&C){const N=Fs({delta:ht(S,E)?k-E:E-S,initialLayout:r,panelConstraints:l.map(M=>M.constraints),pivotIndices:Mv(n,y,i),prevLayout:r,trigger:"keyboard"});r!==N&&a(N)}}break}}};return f.addEventListener("keydown",x),()=>{f.removeEventListener("keydown",x)}});return()=>{m.forEach(f=>f())}},[i,e,t,n,r,s,a])}function qh(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function _v(e,t){const n=e==="horizontal",{x:r,y:s}=Vo(t);return n?r:s}function sk(e,t,n,r,s){const i=n==="horizontal",a=Uo(t,s);re(a,`No resize handle element found for id "${t}"`);const o=a.getAttribute(Te.groupId);re(o,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=_v(n,e),d=Pv(o,s);re(d,`No group element found for id "${o}"`);const m=d.getBoundingClientRect(),f=i?m.width:m.height;return(c-l)/f*100}function ik(e,t,n,r,s,i){if(Sv(e)){const a=n==="horizontal";let o=0;e.shiftKey?o=100:s!=null?o=s:o=10;let l=0;switch(e.key){case"ArrowDown":l=a?0:o;break;case"ArrowLeft":l=a?-o:0;break;case"ArrowRight":l=a?o:0;break;case"ArrowUp":l=a?0:-o;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:sk(e,t,n,r,i)}function ak({panelDataArray:e}){const t=Array(e.length),n=e.map(i=>i.constraints);let r=0,s=100;for(let i=0;i<e.length;i++){const a=n[i];re(a,`Panel constraints not found for index ${i}`);const{defaultSize:o}=a;o!=null&&(r++,t[i]=o,s-=o)}for(let i=0;i<e.length;i++){const a=n[i];re(a,`Panel constraints not found for index ${i}`);const{defaultSize:o}=a;if(o!=null)continue;const l=e.length-r,c=s/l;r++,t[i]=c,s-=c}return t}function kr(e,t,n){t.forEach((r,s)=>{const i=e[s];re(i,`Panel data not found for index ${s}`);const{callbacks:a,constraints:o,id:l}=i,{collapsedSize:c=0,collapsible:d}=o,m=n[l];if(m==null||r!==m){n[l]=r;const{onCollapse:f,onExpand:y,onResize:v}=a;v&&v(r,m),d&&(f||y)&&(y&&(m==null||rn(m,c))&&!rn(r,c)&&y(),f&&(m==null||!rn(m,c))&&rn(r,c)&&f())}})}function ca(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function ok({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:s,precision:i=3}){const a=n[s];let o;return a==null?o=e!=null?e.toPrecision(i):"1":r.length===1?o="1":o=a.toPrecision(i),{flexBasis:0,flexGrow:o,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function lk(e,t=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...s)},t)}}function Qh(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Iv(e){return`react-resizable-panels:${e}`}function Ov(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:s,order:i}=t;return s?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Dv(e,t){try{const n=Iv(e),r=t.getItem(n);if(r){const s=JSON.parse(r);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function uk(e,t,n){var r,s;const i=(r=Dv(e,n))!==null&&r!==void 0?r:{},a=Ov(t);return(s=i[a])!==null&&s!==void 0?s:null}function ck(e,t,n,r,s){var i;const a=Iv(e),o=Ov(t),l=(i=Dv(e,s))!==null&&i!==void 0?i:{};l[o]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(a,JSON.stringify(l))}catch(c){console.error(c)}}function Kh({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((i,a)=>i+a,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!ht(r,100)&&n.length>0)for(let i=0;i<t.length;i++){const a=n[i];re(a!=null,`No layout data found for index ${i}`);const o=100/r*a;n[i]=o}let s=0;for(let i=0;i<t.length;i++){const a=n[i];re(a!=null,`No layout data found for index ${i}`);const o=Hr({panelConstraints:t,panelIndex:i,size:a});a!=o&&(s+=a-o,n[i]=o)}if(!ht(s,0))for(let i=0;i<t.length;i++){const a=n[i];re(a!=null,`No layout data found for index ${i}`);const o=a+s,l=Hr({panelConstraints:t,panelIndex:i,size:o});if(a!==l&&(s-=l-a,n[i]=l,ht(s,0)))break}return n}const dk=100,Vs={getItem:e=>(Qh(Vs),Vs.getItem(e)),setItem:(e,t)=>{Qh(Vs),Vs.setItem(e,t)}},Gh={};function $v({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:s,id:i=null,onLayout:a=null,keyboardResizeBy:o=null,storage:l=Vs,style:c,tagName:d="div",...m}){const f=Zd(i),y=b.useRef(null),[v,w]=b.useState(null),[x,p]=b.useState([]),h=ZC(),g=b.useRef({}),S=b.useRef(new Map),E=b.useRef(0),C=b.useRef({autoSaveId:e,direction:r,dragState:v,id:f,keyboardResizeBy:o,onLayout:a,storage:l}),k=b.useRef({layout:x,panelDataArray:[],panelDataArrayChanged:!1});b.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),b.useImperativeHandle(s,()=>({getId:()=>C.current.id,getLayout:()=>{const{layout:A}=k.current;return A},setLayout:A=>{const{onLayout:D}=C.current,{layout:V,panelDataArray:K}=k.current,H=Kh({layout:A,panelConstraints:K.map(ee=>ee.constraints)});qh(V,H)||(p(H),k.current.layout=H,D&&D(H),kr(K,H,g.current))}}),[]),fr(()=>{C.current.autoSaveId=e,C.current.direction=r,C.current.dragState=v,C.current.id=f,C.current.onLayout=a,C.current.storage=l}),rk({committedValuesRef:C,eagerValuesRef:k,groupId:f,layout:x,panelDataArray:k.current.panelDataArray,setLayout:p,panelGroupElement:y.current}),b.useEffect(()=>{const{panelDataArray:A}=k.current;if(e){if(x.length===0||x.length!==A.length)return;let D=Gh[e];D==null&&(D=lk(ck,dk),Gh[e]=D);const V=[...A],K=new Map(S.current);D(e,V,K,x,l)}},[e,x,l]),b.useEffect(()=>{});const N=b.useCallback(A=>{const{onLayout:D}=C.current,{layout:V,panelDataArray:K}=k.current;if(A.constraints.collapsible){const H=K.map(Ae=>Ae.constraints),{collapsedSize:ee=0,panelSize:ae,pivotIndices:ce}=Jn(K,A,V);if(re(ae!=null,`Panel size not found for panel "${A.id}"`),!rn(ae,ee)){S.current.set(A.id,ae);const Ve=jr(K,A)===K.length-1?ae-ee:ee-ae,fe=Fs({delta:Ve,initialLayout:V,panelConstraints:H,pivotIndices:ce,prevLayout:V,trigger:"imperative-api"});ca(V,fe)||(p(fe),k.current.layout=fe,D&&D(fe),kr(K,fe,g.current))}}},[]),M=b.useCallback((A,D)=>{const{onLayout:V}=C.current,{layout:K,panelDataArray:H}=k.current;if(A.constraints.collapsible){const ee=H.map(at=>at.constraints),{collapsedSize:ae=0,panelSize:ce=0,minSize:Ae=0,pivotIndices:Ve}=Jn(H,A,K),fe=D!=null?D:Ae;if(rn(ce,ae)){const at=S.current.get(A.id),Kn=at!=null&&at>=fe?at:fe,xs=jr(H,A)===H.length-1?ce-Kn:Kn-ce,qe=Fs({delta:xs,initialLayout:K,panelConstraints:ee,pivotIndices:Ve,prevLayout:K,trigger:"imperative-api"});ca(K,qe)||(p(qe),k.current.layout=qe,V&&V(qe),kr(H,qe,g.current))}}},[]),T=b.useCallback(A=>{const{layout:D,panelDataArray:V}=k.current,{panelSize:K}=Jn(V,A,D);return re(K!=null,`Panel size not found for panel "${A.id}"`),K},[]),B=b.useCallback((A,D)=>{const{panelDataArray:V}=k.current,K=jr(V,A);return ok({defaultSize:D,dragState:v,layout:x,panelData:V,panelIndex:K})},[v,x]),X=b.useCallback(A=>{const{layout:D,panelDataArray:V}=k.current,{collapsedSize:K=0,collapsible:H,panelSize:ee}=Jn(V,A,D);return re(ee!=null,`Panel size not found for panel "${A.id}"`),H===!0&&rn(ee,K)},[]),Q=b.useCallback(A=>{const{layout:D,panelDataArray:V}=k.current,{collapsedSize:K=0,collapsible:H,panelSize:ee}=Jn(V,A,D);return re(ee!=null,`Panel size not found for panel "${A.id}"`),!H||vr(ee,K)>0},[]),L=b.useCallback(A=>{const{panelDataArray:D}=k.current;D.push(A),D.sort((V,K)=>{const H=V.order,ee=K.order;return H==null&&ee==null?0:H==null?-1:ee==null?1:H-ee}),k.current.panelDataArrayChanged=!0,h()},[h]);fr(()=>{if(k.current.panelDataArrayChanged){k.current.panelDataArrayChanged=!1;const{autoSaveId:A,onLayout:D,storage:V}=C.current,{layout:K,panelDataArray:H}=k.current;let ee=null;if(A){const ce=uk(A,H,V);ce&&(S.current=new Map(Object.entries(ce.expandToSizes)),ee=ce.layout)}ee==null&&(ee=ak({panelDataArray:H}));const ae=Kh({layout:ee,panelConstraints:H.map(ce=>ce.constraints)});qh(K,ae)||(p(ae),k.current.layout=ae,D&&D(ae),kr(H,ae,g.current))}}),fr(()=>{const A=k.current;return()=>{A.layout=[]}},[]);const j=b.useCallback(A=>{let D=!1;const V=y.current;return V&&window.getComputedStyle(V,null).getPropertyValue("direction")==="rtl"&&(D=!0),function(H){H.preventDefault();const ee=y.current;if(!ee)return()=>null;const{direction:ae,dragState:ce,id:Ae,keyboardResizeBy:Ve,onLayout:fe}=C.current,{layout:at,panelDataArray:Kn}=k.current,{initialLayout:Gn}=ce!=null?ce:{},xs=Mv(Ae,A,ee);let qe=ik(H,A,ae,ce,Ve,ee);const Bi=ae==="horizontal";Bi&&D&&(qe=-qe);const Qo=Kn.map(bs=>bs.constraints),Yn=Fs({delta:qe,initialLayout:Gn!=null?Gn:at,panelConstraints:Qo,pivotIndices:xs,prevLayout:at,trigger:Sv(H)?"keyboard":"mouse-or-touch"}),vs=!ca(at,Yn);(Ev(H)||Nv(H))&&E.current!=qe&&(E.current=qe,!vs&&qe!==0?Bi?Fl(A,qe<0?kv:Tv):Fl(A,qe<0?jv:Lv):Fl(A,0)),vs&&(p(Yn),k.current.layout=Yn,fe&&fe(Yn),kr(Kn,Yn,g.current))}},[]),P=b.useCallback((A,D)=>{const{onLayout:V}=C.current,{layout:K,panelDataArray:H}=k.current,ee=H.map(at=>at.constraints),{panelSize:ae,pivotIndices:ce}=Jn(H,A,K);re(ae!=null,`Panel size not found for panel "${A.id}"`);const Ve=jr(H,A)===H.length-1?ae-D:D-ae,fe=Fs({delta:Ve,initialLayout:K,panelConstraints:ee,pivotIndices:ce,prevLayout:K,trigger:"imperative-api"});ca(K,fe)||(p(fe),k.current.layout=fe,V&&V(fe),kr(H,fe,g.current))},[]),J=b.useCallback((A,D)=>{const{layout:V,panelDataArray:K}=k.current,{collapsedSize:H=0,collapsible:ee}=D,{collapsedSize:ae=0,collapsible:ce,maxSize:Ae=100,minSize:Ve=0}=A.constraints,{panelSize:fe}=Jn(K,A,V);fe!=null&&(ee&&ce&&rn(fe,H)?rn(H,ae)||P(A,ae):fe<Ve?P(A,Ve):fe>Ae&&P(A,Ae))},[P]),R=b.useCallback((A,D)=>{const{direction:V}=C.current,{layout:K}=k.current;if(!y.current)return;const H=Uo(A,y.current);re(H,`Drag handle element not found for id "${A}"`);const ee=_v(V,D);w({dragHandleId:A,dragHandleRect:H.getBoundingClientRect(),initialCursorPosition:ee,initialLayout:K})},[]),O=b.useCallback(()=>{w(null)},[]),_=b.useCallback(A=>{const{panelDataArray:D}=k.current,V=jr(D,A);V>=0&&(D.splice(V,1),delete g.current[A.id],k.current.panelDataArrayChanged=!0,h())},[h]),z=b.useMemo(()=>({collapsePanel:N,direction:r,dragState:v,expandPanel:M,getPanelSize:T,getPanelStyle:B,groupId:f,isPanelCollapsed:X,isPanelExpanded:Q,reevaluatePanelConstraints:J,registerPanel:L,registerResizeHandle:j,resizePanel:P,startDragging:R,stopDragging:O,unregisterPanel:_,panelGroupElement:y.current}),[N,v,r,M,T,B,f,X,Q,J,L,j,P,R,O,_]),U={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return b.createElement(Fo.Provider,{value:z},b.createElement(d,{...m,children:t,className:n,id:i,ref:y,style:{...U,...c},[Te.group]:"",[Te.groupDirection]:r,[Te.groupId]:f}))}const nf=b.forwardRef((e,t)=>b.createElement($v,{...e,forwardedRef:t}));$v.displayName="PanelGroup";nf.displayName="forwardRef(PanelGroup)";function jr(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Jn(e,t,n){const r=jr(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],a=n[r];return{...t.constraints,panelSize:a,pivotIndices:i}}function fk({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){b.useEffect(()=>{if(e||n==null||r==null)return;const s=Uo(t,r);if(s==null)return;const i=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const o=s.getAttribute(Te.groupId);re(o,`No group element found for id "${o}"`);const l=Ti(o,r),c=Rv(o,t,r);re(c!==null,`No resize element found for id "${t}"`);const d=a.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[d].focus();break}}};return s.addEventListener("keydown",i),()=>{s.removeEventListener("keydown",i)}},[r,e,t,n])}function rf({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:s,onBlur:i,onClick:a,onDragging:o,onFocus:l,onPointerDown:c,onPointerUp:d,style:m={},tabIndex:f=0,tagName:y="div",...v}){var w,x;const p=b.useRef(null),h=b.useRef({onClick:a,onDragging:o,onPointerDown:c,onPointerUp:d});b.useEffect(()=>{h.current.onClick=a,h.current.onDragging=o,h.current.onPointerDown=c,h.current.onPointerUp=d});const g=b.useContext(Fo);if(g===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:S,groupId:E,registerResizeHandle:C,startDragging:k,stopDragging:N,panelGroupElement:M}=g,T=Zd(s),[B,X]=b.useState("inactive"),[Q,L]=b.useState(!1),[j,P]=b.useState(null),J=b.useRef({state:B});fr(()=>{J.current.state=B}),b.useEffect(()=>{if(n)P(null);else{const z=C(T);P(()=>z)}},[n,T,C]);const R=(w=r==null?void 0:r.coarse)!==null&&w!==void 0?w:15,O=(x=r==null?void 0:r.fine)!==null&&x!==void 0?x:5;b.useEffect(()=>{if(n||j==null)return;const z=p.current;re(z,"Element ref not attached");let U=!1;return XC(T,z,S,{coarse:R,fine:O},(D,V,K)=>{if(!V){X("inactive");return}switch(D){case"down":{X("drag"),U=!1,re(K,'Expected event to be defined for "down" action'),k(T,K);const{onDragging:H,onPointerDown:ee}=h.current;H==null||H(!0),ee==null||ee();break}case"move":{const{state:H}=J.current;U=!0,H!=="drag"&&X("hover"),re(K,'Expected event to be defined for "move" action'),j(K);break}case"up":{X("hover"),N();const{onClick:H,onDragging:ee,onPointerUp:ae}=h.current;ee==null||ee(!1),ae==null||ae(),U||H==null||H();break}}})},[R,S,n,O,C,T,j,k,N]),fk({disabled:n,handleId:T,resizeHandler:j,panelGroupElement:M});const _={touchAction:"none",userSelect:"none"};return b.createElement(y,{...v,children:e,className:t,id:s,onBlur:()=>{L(!1),i==null||i()},onFocus:()=>{L(!0),l==null||l()},ref:p,role:"separator",style:{..._,...m},tabIndex:f,[Te.groupDirection]:S,[Te.groupId]:E,[Te.resizeHandle]:"",[Te.resizeHandleActive]:B==="drag"?"pointer":Q?"keyboard":void 0,[Te.resizeHandleEnabled]:!n,[Te.resizeHandleId]:T,[Te.resizeHandleState]:B})}rf.displayName="PanelResizeHandle";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>b.createElement("svg",{ref:d,...mk,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${hk(e)}`,o].join(" "),...c},[...t.map(([m,f])=>b.createElement(m,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=te("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=te("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=te("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=te("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=te("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=te("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=te("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=te("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=te("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=te("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=te("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=te("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=te("Rows3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=te("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=te("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Rk={},Jh=e=>{let t;const n=new Set,r=(d,m)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const y=t;t=(m!=null?m:typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(v=>v(t,y))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Rk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,s,l);return l},Mk=e=>e?Jh(e):Jh;var Zv={exports:{}},e0={},t0={exports:{}},n0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=b;function Pk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _k=typeof Object.is=="function"?Object.is:Pk,Ik=ds.useState,Ok=ds.useEffect,Dk=ds.useLayoutEffect,$k=ds.useDebugValue;function zk(e,t){var n=t(),r=Ik({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Dk(function(){s.value=n,s.getSnapshot=t,Ul(s)&&i({inst:s})},[e,n,t]),Ok(function(){return Ul(s)&&i({inst:s}),e(function(){Ul(s)&&i({inst:s})})},[e]),$k(n),n}function Ul(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_k(e,n)}catch{return!0}}function Fk(e,t){return t()}var Vk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fk:zk;n0.useSyncExternalStore=ds.useSyncExternalStore!==void 0?ds.useSyncExternalStore:Vk;t0.exports=n0;var Bk=t0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=b,Uk=Bk;function Wk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hk=typeof Object.is=="function"?Object.is:Wk,qk=Uk.useSyncExternalStore,Qk=Wo.useRef,Kk=Wo.useEffect,Gk=Wo.useMemo,Yk=Wo.useDebugValue;e0.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Qk(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Gk(function(){function l(y){if(!c){if(c=!0,d=y,y=r(y),s!==void 0&&a.hasValue){var v=a.value;if(s(v,y))return m=v}return m=y}if(v=m,Hk(d,y))return v;var w=r(y);return s!==void 0&&s(v,w)?(d=y,v):(d=y,m=w)}var c=!1,d,m,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var o=qk(e,i[0],i[1]);return Kk(function(){a.hasValue=!0,a.value=o},[o]),Yk(o),o};Zv.exports=e0;var Xk=Zv.exports;const Jk=kp(Xk),r0={},{useDebugValue:Zk}=ln,{useSyncExternalStoreWithSelector:eT}=Jk;let Zh=!1;const tT=e=>e;function nT(e,t=tT,n){(r0?"production":void 0)!=="production"&&n&&!Zh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Zh=!0);const r=eT(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Zk(r),r}const ep=e=>{(r0?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Mk(e):e,n=(r,s)=>nT(t,r,s);return Object.assign(n,t),n},Zt=e=>e?ep(e):ep,rT={};function sT(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=n.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const ji=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ji(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ji(r)(n)}}}},iT=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,p)=>({...p,...x}),...t},a=!1;const o=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...x)},r,s);const d=ji(i.serialize),m=()=>{const x=i.partialize({...r()});let p;const h=d({state:x,version:i.version}).then(g=>c.setItem(i.name,g)).catch(g=>{p=g});if(p)throw p;return h},f=s.setState;s.setState=(x,p)=>{f(x,p),m()};const y=e((...x)=>{n(...x),m()},r,s);let v;const w=()=>{var x;if(!c)return;a=!1,o.forEach(h=>h(r()));const p=((x=i.onRehydrateStorage)==null?void 0:x.call(i,r()))||void 0;return ji(c.getItem.bind(c))(i.name).then(h=>{if(h)return i.deserialize(h)}).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return i.migrate(h.state,h.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return h.state}).then(h=>{var g;return v=i.merge(h,(g=r())!=null?g:y),n(v,!0),m()}).then(()=>{p==null||p(v,void 0),a=!0,l.forEach(h=>h(v))}).catch(h=>{p==null||p(void 0,h)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},w(),v||y},aT=(e,t)=>(n,r,s)=>{let i={storage:sT(()=>localStorage),partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...t},a=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,s);const d=()=>{const w=i.partialize({...r()});return c.setItem(i.name,{state:w,version:i.version})},m=s.setState;s.setState=(w,x)=>{m(w,x),d()};const f=e((...w)=>{n(...w),d()},r,s);s.getInitialState=()=>f;let y;const v=()=>{var w,x;if(!c)return;a=!1,o.forEach(h=>{var g;return h((g=r())!=null?g:f)});const p=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(w=r())!=null?w:f))||void 0;return ji(c.getItem.bind(c))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate)return[!0,i.migrate(h.state,h.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var g;const[S,E]=h;if(y=i.merge(E,(g=r())!=null?g:f),n(y,!0),S)return d()}).then(()=>{p==null||p(y,void 0),y=r(),a=!0,l.forEach(h=>h(y))}).catch(h=>{p==null||p(void 0,h)})};return s.persist={setOptions:w=>{i={...i,...w},w.storage&&(c=w.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:w=>(o.add(w),()=>{o.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},i.skipHydration||v(),y||f},oT=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((rT?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),iT(e,t)):aT(e,t),lT=oT,Nr=Zt()(lT(e=>({theme:"dark",sidebarView:"explorer",sidebarWidth:280,isConnectionModalOpen:!1,editingConnectionId:null,isConfirmDialogOpen:!1,confirmDialogConfig:null,isAboutModalOpen:!1,setTheme:t=>{document.documentElement.classList.toggle("dark",t==="dark"),e({theme:t})},toggleTheme:()=>e(t=>{const n=t.theme==="dark"?"light":"dark";return document.documentElement.classList.toggle("dark",n==="dark"),{theme:n}}),setSidebarView:t=>e({sidebarView:t}),setSidebarWidth:t=>e({sidebarWidth:t}),openConnectionModal:t=>e({isConnectionModalOpen:!0,editingConnectionId:t!=null?t:null}),closeConnectionModal:()=>e({isConnectionModalOpen:!1,editingConnectionId:null}),showConfirmDialog:t=>e({isConfirmDialogOpen:!0,confirmDialogConfig:t}),closeConfirmDialog:()=>e({isConfirmDialogOpen:!1,confirmDialogConfig:null}),setAboutModalOpen:t=>e({isAboutModalOpen:t})}),{name:"sqlforge-ui",partialize:e=>({theme:e.theme,sidebarWidth:e.sidebarWidth})}));function Tr(e,t,n){var o;let r=(o=n.initialDeps)!=null?o:[],s,i=!0;function a(){var l,c,d;let m;n.key&&((l=n.debug)!=null&&l.call(n))&&(m=Date.now());const f=e();if(!(f.length!==r.length||f.some((w,x)=>r[x]!==w)))return s;r=f;let v;if(n.key&&((c=n.debug)!=null&&c.call(n))&&(v=Date.now()),s=t(...f),n.key&&((d=n.debug)!=null&&d.call(n))){const w=Math.round((Date.now()-m)*100)/100,x=Math.round((Date.now()-v)*100)/100,p=x/16,h=(g,S)=>{for(g=String(g);g.length<S;)g=" "+g;return g};console.info(`%c ${h(x,5)} /${h(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(i&&n.skipInitialOnChange)&&n.onChange(s),i=!1,s}return a.updateDeps=l=>{r=l},a}function tp(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const uT=(e,t)=>Math.abs(e-t)<1.01,cT=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},np=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},dT=e=>e,fT=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},mT=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=a=>{const{width:o,height:l}=a;t({width:Math.round(o),height:Math.round(l)})};if(s(np(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(a=>{const o=()=>{const l=a[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){s({width:c.inlineSize,height:c.blockSize});return}}s(np(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},rp={passive:!0},sp=typeof window>"u"?!0:"onscrollend"in window,hT=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const i=e.options.useScrollendEvent&&sp?()=>{}:cT(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),a=d=>()=>{const{horizontal:m,isRtl:f}=e.options;s=m?n.scrollLeft*(f&&-1||1):n.scrollTop,i(),t(s,d)},o=a(!0),l=a(!1);n.addEventListener("scroll",o,rp);const c=e.options.useScrollendEvent&&sp;return c&&n.addEventListener("scrollend",l,rp),()=>{n.removeEventListener("scroll",o),c&&n.removeEventListener("scrollend",l)}},pT=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},gT=(e,{adjustments:t=0,behavior:n},r)=>{var s,i;const a=e+t;(i=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||i.call(s,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class yT{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(i=>{const a=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var i;return(i=r())==null?void 0:i.observe(s,{box:"border-box"})},unobserve:s=>{var i;return(i=r())==null?void 0:i.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:dT,rangeExtractor:fT,onChange:()=>{},measureElement:pT,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Tr(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var s;var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(s=(n=this.scrollElement)==null?void 0:n.window)!=null?s:null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>{var n;return this.options.enabled?(this.scrollRect=(n=this.scrollRect)!=null?n:this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0)},this.getScrollOffset=()=>{var n;return this.options.enabled?(this.scrollOffset=(n=this.scrollOffset)!=null?n:typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.scrollOffset):(this.scrollOffset=null,0)},this.getFurthestMeasurement=(n,r)=>{const s=new Map,i=new Map;for(let a=r-1;a>=0;a--){const o=n[a];if(s.has(o.lane))continue;const l=i.get(o.lane);if(l==null||o.end>l.end?i.set(o.lane,o):o.end<l.end&&s.set(o.lane,!0),s.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((a,o)=>a.end===o.end?a.index-o.index:a.end-o.end)[0]:void 0},this.getMeasurementOptions=Tr(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,s,i,a,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:a,lanes:o}),{key:!1}),this.getMeasurements=Tr(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:i,enabled:a,lanes:o},l)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const f of this.laneAssignments.keys())f>=n&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const c=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,c),m=new Array(o).fill(void 0);for(let f=0;f<c;f++){const y=d[f];y&&(m[y.lane]=f)}for(let f=c;f<n;f++){const y=i(f),v=this.laneAssignments.get(f);let w,x;if(v!==void 0&&this.options.lanes>1){w=v;const S=m[w],E=S!==void 0?d[S]:void 0;x=E?E.end+this.options.gap:r+s}else{const S=this.options.lanes===1?d[f-1]:this.getFurthestMeasurement(d,f);x=S?S.end+this.options.gap:r+s,w=S?S.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,w)}const p=l.get(y),h=typeof p=="number"?p:this.options.estimateSize(f),g=x+h;d[f]={index:f,start:x,size:h,end:g,key:y,lane:w},m[w]=f}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Tr(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,i)=>this.range=n.length>0&&r>0?xT({measurements:n,outerSize:r,scrollOffset:s,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Tr(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,i,a)=>i===null||a===null?[]:n({startIndex:i,endIndex:a,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),i=this.measurementsCache[s];if(!i)return;const a=i.key,o=this.elementsCache.get(a);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{var o;const s=this.measurementsCache[n];if(!s)return;const i=(o=this.itemSizeCache.get(s.key))!=null?o:s.size,a=r-i;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,a,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Tr(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let i=0,a=n.length;i<a;i++){const o=n[i],l=r[o];s.push(l)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return tp(r[s0(0,r.length-1,s=>tp(r[s]).start,n)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const n=this.scrollElement.document.documentElement;return this.options.horizontal?n.scrollWidth-this.scrollElement.innerWidth:n.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(n,r,s=0)=>{if(!this.scrollElement)return 0;const i=this.getSize(),a=this.getScrollOffset();r==="auto"&&(r=n>=a+i?"end":"start"),r==="center"?n+=(s-i)/2:r==="end"&&(n-=i);const o=this.getMaxScrollOffset();return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const i=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(s.end>=a+i-this.options.scrollPaddingEnd)r="end";else if(s.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];if(r==="end"&&n===this.options.count-1)return[this.getMaxScrollOffset(),r];const o=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1)),this.currentScrollToIndex=n;let i=0;const a=10,o=c=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,c);if(!d){console.warn("Failed to get offset for index:",n);return}const[m,f]=d;this._scrollToOffset(m,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const y=()=>{if(this.currentScrollToIndex!==n)return;const v=this.getScrollOffset(),w=this.getOffsetForIndex(n,f);if(!w){console.warn("Failed to get offset for index:",n);return}uT(w[0],v)||l(f)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(y):y()})},l=c=>{this.targetWindow&&this.currentScrollToIndex===n&&(i++,i<a?this.targetWindow.requestAnimationFrame(()=>o(c)):console.warn(`Failed to scroll to index ${n} after ${a} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var i;var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=(i=(n=r[r.length-1])==null?void 0:n.end)!=null?i:0;else{const a=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&a.some(l=>l===null);){const l=r[o];a[l.lane]===null&&(a[l.lane]=l.end),o--}s=Math.max(...a.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const s0=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,i=n(s);if(i<r)e=s+1;else if(i>r)t=s-1;else return s}return e>0?e-1:0};function xT({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,i=l=>e[l].start;if(e.length<=r)return{startIndex:0,endIndex:s};let a=s0(0,s,i,n),o=a;if(r===1)for(;o<s&&e[o].end<n+t;)o++;else if(r>1){const l=Array(r).fill(0);for(;o<s&&l.some(d=>d<n+t);){const d=e[o];l[d.lane]=d.end,o++}const c=Array(r).fill(n+t);for(;a>=0&&c.some(d=>d>=n);){const d=e[a];c[d.lane]=d.start,a--}a=Math.max(0,a-a%r),o=Math.min(s,o+(r-1-o%r))}return{startIndex:a,endIndex:o}}const ip=typeof document<"u"?b.useLayoutEffect:b.useEffect;function vT({useFlushSync:e=!0,...t}){const n=b.useReducer(()=>({}),{})[1],r={...t,onChange:(i,a)=>{var o;e&&a?xr.flushSync(n):n(),(o=t.onChange)==null||o.call(t,i,a)}},[s]=b.useState(()=>new yT(r));return s.setOptions(r),ip(()=>s._didMount(),[]),ip(()=>s._willUpdate()),s}function bT(e){return vT({observeElementRect:mT,observeElementOffset:hT,scrollToFn:gT,...e})}function i0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=i0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=i0(e))&&(r&&(r+=" "),r+=t);return r}function wT(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function pc(e,t=!1){const n=wT(),r=`_${n}`;return Object.defineProperty(window,r,{value:s=>(t&&Reflect.deleteProperty(window,r),e==null?void 0:e(s)),writable:!1,configurable:!0}),n}async function ne(e,t={}){return new Promise((n,r)=>{const s=pc(a=>{n(a),Reflect.deleteProperty(window,`_${i}`)},!0),i=pc(a=>{r(a),Reflect.deleteProperty(window,`_${s}`)},!0);window.__TAURI_IPC__({cmd:e,callback:s,error:i,...t})})}const vn={getAll:()=>ne("get_connections"),getById:e=>ne("get_connection",{id:e}),create:e=>ne("create_connection",{dto:e}),update:(e,t)=>ne("update_connection",{id:e,dto:t}),delete:e=>ne("delete_connection",{id:e}),test:e=>ne("test_connection",{id:e}),connect:e=>ne("connect",{id:e}),disconnect:e=>ne("disconnect",{id:e}),getStatus:e=>ne("get_connection_status",{id:e})},Kt={execute:(e,t,n,r)=>ne("execute_query",{connectionId:e,query:t,page:n,pageSize:r}),executeStatement:(e,t)=>ne("execute_statement",{connectionId:e,statement:t}),executeMultiStatement:(e,t)=>ne("execute_multi_statement",{connectionId:e,statements:t}),executeInTransaction:(e,t)=>ne("execute_in_transaction",{connectionId:e,statement:t}),getHistory:(e,t)=>ne("get_query_history",{connectionId:e,limit:t}),searchHistory:(e,t)=>ne("search_query_history",{query:e,limit:t}),cancel:e=>ne("cancel_query",{connectionId:e})},Ge={listDatabases:e=>(console.log("[API] listDatabases:",{connId:e}),ne("list_databases",{connectionId:e})),getDatabaseInfo:(e,t)=>(console.log("[API] getDatabaseInfo:",{connId:e,database:t}),ne("get_database_info",{connectionId:e,database:t})),listSchemas:(e,t)=>(console.log("[API] listSchemas:",{connId:e,database:t}),ne("list_schemas",{connectionId:e,database:t})),listTables:(e,t)=>(console.log("[API] listTables:",{connId:e,schema:t}),ne("list_tables",{connectionId:e,schema:t})),getTableInfo:(e,t,n)=>ne("get_table_info",{connectionId:e,table:t,schema:n}),getColumns:(e,t,n)=>ne("get_columns",{connectionId:e,table:t,schema:n}),listIndexes:(e,t,n)=>ne("list_indexes",{connectionId:e,table:t,schema:n}),listConstraints:(e,t,n)=>ne("list_constraints",{connectionId:e,table:t,schema:n}),listTriggers:(e,t,n)=>ne("list_triggers",{connectionId:e,table:t,schema:n}),listViews:(e,t)=>ne("list_views",{connectionId:e,schema:t}),listFunctions:(e,t)=>ne("list_functions",{connectionId:e,schema:t}),listSequences:(e,t)=>ne("list_sequences",{connectionId:e,schema:t}),getServerVersion:e=>ne("get_server_version",{connectionId:e})},bn={getByConnection:e=>ne("get_saved_queries",{connectionId:e}),getById:e=>ne("get_saved_query",{id:e}),create:e=>ne("create_saved_query",{dto:e}),update:(e,t)=>ne("update_saved_query",{id:e,dto:t}),delete:e=>ne("delete_saved_query",{id:e}),findByTags:(e,t)=>ne("find_saved_queries_by_tags",{connectionId:e,tags:t}),getFolders:e=>ne("get_query_folders",{connectionId:e}),createFolder:(e,t,n)=>ne("create_query_folder",{connectionId:e,name:t,parentId:n}),deleteFolder:e=>ne("delete_query_folder",{id:e})},gc={save:e=>ne("save_workspace",{dto:e}),get:e=>ne("get_workspace",{connectionId:e}),delete:e=>ne("delete_workspace",{connectionId:e}),getAll:()=>ne("get_all_workspaces")},ST={exportXlsx:(e,t,n)=>ne("export_results_xlsx",{columns:e,rows:t,path:n})};class ET{constructor(){Ie(this,"engine","postgresql");Ie(this,"features",{schemas:!0,roles:!0,users:!0,grantRevoke:!0,alterTable:!0,viewDefinition:!0})}getCreateDatabaseSQL(t){return`CREATE DATABASE "${t}";`}getDropDatabaseSQL(t){return`DROP DATABASE "${t}";`}getCreateTableSQL(t){const n=t.columns.map(i=>{let a=`"${i.name}" ${i.type}`;return i.nullable||(a+=" NOT NULL"),i.defaultValue&&(a+=` DEFAULT ${i.defaultValue}`),a}),r=t.constraints.map(i=>{var a;return i.type==="PRIMARY KEY"?`CONSTRAINT "${i.name}" PRIMARY KEY (${i.columns.map(o=>`"${o}"`).join(", ")})`:i.type==="FOREIGN KEY"?`CONSTRAINT "${i.name}" FOREIGN KEY (${i.columns.map(o=>`"${o}"`).join(", ")}) REFERENCES "${i.referenceTable}" (${(a=i.referenceColumns)==null?void 0:a.map(o=>`"${o}"`).join(", ")})`:i.type==="UNIQUE"?`CONSTRAINT "${i.name}" UNIQUE (${i.columns.map(o=>`"${o}"`).join(", ")})`:""}).filter(Boolean),s=t.schema||"public";return`CREATE TABLE "${s}"."${t.name}" (
  ${[...n,...r].join(`,
  `)}
);${t.comment?`
COMMENT ON TABLE "${s}"."${t.name}" IS '${t.comment}';`:""}`}getAlterTableSQL(t,n){const r=[],s=n.schema||"public",i=`"${s}"."${n.name}"`;return t.name!==n.name&&r.push(`ALTER TABLE "${s}"."${t.name}" RENAME TO "${n.name}";`),n.columns.forEach(a=>{if(!t.columns.find(l=>l.name===a.name)){let l=`ADD COLUMN "${a.name}" ${a.type}`;a.nullable||(l+=" NOT NULL"),a.defaultValue&&(l+=` DEFAULT ${a.defaultValue}`),r.push(`ALTER TABLE ${i} ${l};`)}}),t.columns.forEach(a=>{n.columns.find(o=>o.name===a.name)||r.push(`ALTER TABLE ${i} DROP COLUMN "${a.name}";`)}),r.join(`
`)}getDropTableSQL(t,n){return`DROP TABLE "${t}"."${n}";`}getCreateUserSQL(t){let n=`CREATE USER "${t.name}"`;return t.password&&(n+=` WITH PASSWORD '${t.password}'`),n+=";",n}getDropUserSQL(t){return`DROP USER "${t}";`}getAlterUserSQL(t){let n=`ALTER USER "${t.name}"`;return t.password&&(n+=` WITH PASSWORD '${t.password}'`),n+=";",n}getCreateRoleSQL(t){return`CREATE ROLE "${t.name}";`}getDropRoleSQL(t){return`DROP ROLE "${t}";`}getGrantPermissionSQL(t,n,r,s){return n==="TABLE"?`GRANT ${s} ON TABLE ${r} TO "${t}";`:n==="SCHEMA"?`GRANT ${s} ON ALL TABLES IN SCHEMA ${r} TO "${t}";`:n==="DATABASE"?`GRANT ${s} ON DATABASE ${r} TO "${t}";`:""}getRevokePermissionSQL(t,n,r,s){return n==="TABLE"?`REVOKE ${s} ON TABLE ${r} FROM "${t}";`:n==="SCHEMA"?`REVOKE ${s} ON ALL TABLES IN SCHEMA ${r} FROM "${t}";`:n==="DATABASE"?`REVOKE ${s} ON DATABASE ${r} FROM "${t}";`:""}getUsersQuery(){return"SELECT usename as name FROM pg_catalog.pg_user;"}getRolesQuery(){return"SELECT rolname as name FROM pg_roles WHERE rolcanlogin = false;"}async getTableDefinition(t,n,r){const s=`
      SELECT column_name, data_type, is_nullable, column_default, character_maximum_length
      FROM information_schema.columns
      WHERE table_schema = '${t}' AND table_name = '${n}'
      ORDER BY ordinal_position;
    `,i=`
      SELECT tc.constraint_name, tc.constraint_type, kcu.column_name, 
             ccu.table_name AS foreign_table_name,
             ccu.column_name AS foreign_column_name
      FROM information_schema.table_constraints tc
      JOIN information_schema.key_column_usage kcu
        ON tc.constraint_name = kcu.constraint_name
        AND tc.table_schema = kcu.table_schema
      LEFT JOIN information_schema.constraint_column_usage ccu
        ON ccu.constraint_name = tc.constraint_name
        AND ccu.table_schema = tc.table_schema
      WHERE tc.table_schema = '${t}' AND tc.table_name = '${n}';
    `,[a,o]=await Promise.all([r(s),r(i)]),l=a.map(m=>({name:m.column_name,type:m.data_type+(m.character_maximum_length?`(${m.character_maximum_length})`:""),nullable:m.is_nullable==="YES",primaryKey:!1,defaultValue:m.column_default})),c=[],d=new Map;return o.forEach(m=>{d.has(m.constraint_name)||d.set(m.constraint_name,{name:m.constraint_name,type:m.constraint_type,columns:[],referenceTable:m.foreign_table_name,referenceColumns:[]});const f=d.get(m.constraint_name);f.columns.push(m.column_name),m.foreign_column_name&&f.referenceColumns.push(m.foreign_column_name)}),d.forEach(m=>c.push(m)),c.filter(m=>m.type==="PRIMARY KEY").forEach(m=>{m.columns.forEach(f=>{const y=l.find(v=>v.name===f);y&&(y.primaryKey=!0)})}),{name:n,schema:t,columns:l,constraints:c}}async getUserDefinition(t,n){const r=`
      SELECT r.rolname
      FROM pg_catalog.pg_roles r
      JOIN pg_catalog.pg_auth_members m ON r.oid = m.roleid
      JOIN pg_catalog.pg_roles u ON m.member = u.oid
      WHERE u.rolname = '${t}';
    `;try{const i=(await n(r)).map(a=>a.rolname);return{name:t,roles:i}}catch(s){return console.warn("Failed to fetch user roles:",s),{name:t}}}}class NT{constructor(){Ie(this,"engine","mysql");Ie(this,"features",{schemas:!1,roles:!1,users:!0,grantRevoke:!0,alterTable:!0,viewDefinition:!0})}getCreateDatabaseSQL(t){return`CREATE DATABASE \`${t}\`;`}getDropDatabaseSQL(t){return`DROP DATABASE \`${t}\`;`}getCreateTableSQL(t){const n=t.columns.map(i=>{let a=`\`${i.name}\` ${i.type}`;return i.nullable||(a+=" NOT NULL"),i.autoIncrement&&(a+=" AUTO_INCREMENT"),i.defaultValue&&(a+=` DEFAULT ${i.defaultValue}`),i.comment&&(a+=` COMMENT '${i.comment}'`),a}),r=t.constraints.map(i=>{var a;return i.type==="PRIMARY KEY"?`PRIMARY KEY (${i.columns.map(o=>`\`${o}\``).join(", ")})`:i.type==="FOREIGN KEY"?`CONSTRAINT \`${i.name}\` FOREIGN KEY (${i.columns.map(o=>`\`${o}\``).join(", ")}) REFERENCES \`${i.referenceTable}\` (${(a=i.referenceColumns)==null?void 0:a.map(o=>`\`${o}\``).join(", ")})`:i.type==="UNIQUE"?`UNIQUE INDEX \`${i.name}\` (${i.columns.map(o=>`\`${o}\``).join(", ")})`:""}).filter(Boolean);let s=`CREATE TABLE \`${t.name}\` (
  ${[...n,...r].join(`,
  `)}
)`;return t.engine&&(s+=` ENGINE=${t.engine}`),t.charset&&(s+=` DEFAULT CHARSET=${t.charset}`),t.comment&&(s+=` COMMENT='${t.comment}'`),s+=";",s}getAlterTableSQL(t,n){const r=[],s=`\`${n.name}\``;return t.name!==n.name&&r.push(`RENAME TABLE \`${t.name}\` TO \`${n.name}\`;`),n.columns.forEach(i=>{if(!t.columns.find(o=>o.name===i.name)){let o=`ADD COLUMN \`${i.name}\` ${i.type}`;i.nullable||(o+=" NOT NULL"),i.defaultValue&&(o+=` DEFAULT ${i.defaultValue}`),r.push(`ALTER TABLE ${s} ${o};`)}}),t.columns.forEach(i=>{n.columns.find(a=>a.name===i.name)||r.push(`ALTER TABLE ${s} DROP COLUMN \`${i.name}\`;`)}),r.join(`
`)}getDropTableSQL(t,n){return`DROP TABLE \`${n}\`;`}getCreateUserSQL(t){const n=t.host||"%";let r=`CREATE USER '${t.name}'@'${n}'`;return t.password&&(r+=` IDENTIFIED BY '${t.password}'`),r+=";",r}getDropUserSQL(t){return t.includes("@")?`DROP USER ${t};`:`DROP USER '${t}'@'%';`}getAlterUserSQL(t){const n=t.host||"%";return t.password?`ALTER USER '${t.name}'@'${n}' IDENTIFIED BY '${t.password}';`:""}getCreateRoleSQL(t){return`CREATE ROLE '${t.name}';`}getDropRoleSQL(t){return`DROP ROLE '${t}';`}getGrantPermissionSQL(t,n,r,s){const i=t.includes("@")?t:`'${t}'@'%'`;return n==="TABLE"?`GRANT ${s} ON ${r} TO ${i};`:n==="DATABASE"||n==="SCHEMA"?`GRANT ${s} ON ${r}.* TO ${i};`:""}getRevokePermissionSQL(t,n,r,s){const i=t.includes("@")?t:`'${t}'@'%'`;return n==="TABLE"?`REVOKE ${s} ON ${r} FROM ${i};`:n==="DATABASE"||n==="SCHEMA"?`REVOKE ${s} ON ${r}.* FROM ${i};`:""}getUsersQuery(){return"SELECT User as name, Host as host FROM mysql.user;"}getRolesQuery(){return"SELECT User as name FROM mysql.user;"}async getTableDefinition(t,n,r){const s=`
      SELECT COLUMN_NAME, COLUMN_TYPE, IS_NULLABLE, COLUMN_DEFAULT, COLUMN_KEY, EXTRA
      FROM INFORMATION_SCHEMA.COLUMNS
      WHERE TABLE_SCHEMA = '${t}' AND TABLE_NAME = '${n}'
      ORDER BY ORDINAL_POSITION;
    `,a=(await r(s)).map(l=>({name:l.COLUMN_NAME,type:l.COLUMN_TYPE,nullable:l.IS_NULLABLE==="YES",primaryKey:l.COLUMN_KEY==="PRI",defaultValue:l.COLUMN_DEFAULT,autoIncrement:l.EXTRA==="auto_increment"})),o=[];return a.some(l=>l.primaryKey)&&o.push({name:"PRIMARY",type:"PRIMARY KEY",columns:a.filter(l=>l.primaryKey).map(l=>l.name)}),{name:n,schema:t,columns:a,constraints:o}}async getUserDefinition(t,n){const r=`SELECT Host FROM mysql.user WHERE User = '${t}'`;let s="%";try{const i=await n(r);i.length>0&&(s=i[0].Host)}catch(i){console.warn("Failed to fetch user host:",i)}return{name:t,host:s,roles:[]}}}class CT{constructor(){Ie(this,"engine","sqlite");Ie(this,"features",{schemas:!1,roles:!1,users:!1,grantRevoke:!1,alterTable:!1,viewDefinition:!0})}getCreateDatabaseSQL(t){return`-- SQLite creates databases by creating files. This SQL is just a placeholder.
ATTACH DATABASE '${t}' AS '${t}';`}getDropDatabaseSQL(t){return`-- SQLite cannot drop databases via SQL (file deletion required).
DETACH DATABASE '${t}';`}getCreateTableSQL(t){const n=t.columns.map(s=>{let i=`"${s.name}" ${s.type}`;return s.nullable||(i+=" NOT NULL"),s.defaultValue&&(i+=` DEFAULT ${s.defaultValue}`),i}),r=t.constraints.map(s=>{var i;return s.type==="PRIMARY KEY"?`PRIMARY KEY (${s.columns.map(a=>`"${a}"`).join(", ")})`:s.type==="FOREIGN KEY"?`CONSTRAINT "${s.name}" FOREIGN KEY (${s.columns.map(a=>`"${a}"`).join(", ")}) REFERENCES "${s.referenceTable}" (${(i=s.referenceColumns)==null?void 0:i.map(a=>`"${a}"`).join(", ")})`:s.type==="UNIQUE"?`CONSTRAINT "${s.name}" UNIQUE (${s.columns.map(a=>`"${a}"`).join(", ")})`:""}).filter(Boolean);return`CREATE TABLE "${t.name}" (
  ${[...n,...r].join(`,
  `)}
);`}getAlterTableSQL(t,n){const r=[];return t.name!==n.name&&r.push(`ALTER TABLE "${t.name}" RENAME TO "${n.name}";`),n.columns.forEach(i=>{if(!t.columns.find(o=>o.name===i.name)){let o=`ADD COLUMN "${i.name}" ${i.type}`;i.nullable||(o+=" NOT NULL"),i.defaultValue&&(o+=` DEFAULT ${i.defaultValue}`),r.push(`ALTER TABLE "${n.name}" ${o};`)}}),(t.columns.some(i=>!n.columns.find(a=>a.name===i.name))||t.columns.some(i=>{const a=n.columns.find(o=>o.name===i.name);return a&&a.type!==i.type}))&&(r.push("-- Complex changes detected (DROP COLUMN, TYPE CHANGE). SQLite requires table rebuild."),r.push(`-- 1. CREATE TABLE "${n.name}_new" ...`),r.push(`-- 2. INSERT INTO "${n.name}_new" SELECT ... FROM "${n.name}"`),r.push(`-- 3. DROP TABLE "${n.name}"`),r.push(`-- 4. ALTER TABLE "${n.name}_new" RENAME TO "${n.name}"`)),r.join(`
`)}getDropTableSQL(t,n){return`DROP TABLE "${n}";`}getCreateUserSQL(t){return"-- SQLite does not support users"}getDropUserSQL(t){return"-- SQLite does not support users"}getAlterUserSQL(t){return"-- SQLite does not support users"}getCreateRoleSQL(t){return"-- SQLite does not support roles"}getDropRoleSQL(t){return"-- SQLite does not support roles"}getGrantPermissionSQL(t,n,r,s){return"-- SQLite does not support GRANT"}getRevokePermissionSQL(t,n,r,s){return"-- SQLite does not support REVOKE"}getUsersQuery(){return""}getRolesQuery(){return""}async getTableDefinition(t,n,r){const i=(await r(`PRAGMA table_info("${n}")`)).map(l=>({name:l.name,type:l.type,nullable:l.notnull===0,primaryKey:l.pk>0,defaultValue:l.dflt_value})),a=[],o=i.filter(l=>l.primaryKey);return o.length>0&&a.push({name:"PK_"+n,type:"PRIMARY KEY",columns:o.map(l=>l.name)}),{name:n,schema:t,columns:i,constraints:a}}async getUserDefinition(t,n){return{name:t}}}class kT{constructor(){Ie(this,"engine","sqlserver");Ie(this,"features",{schemas:!0,roles:!0,users:!0,grantRevoke:!0,alterTable:!0,viewDefinition:!0})}getCreateDatabaseSQL(t){return`CREATE DATABASE [${t}];`}getDropDatabaseSQL(t){return`DROP DATABASE [${t}];`}getCreateTableSQL(t){const n=t.columns.map(i=>{let a=`[${i.name}] ${i.type}`;return i.nullable||(a+=" NOT NULL"),i.autoIncrement&&(a+=" IDENTITY(1,1)"),i.defaultValue&&(a+=` DEFAULT ${i.defaultValue}`),a}),r=t.constraints.map(i=>{var a;return i.type==="PRIMARY KEY"?`CONSTRAINT [${i.name}] PRIMARY KEY (${i.columns.map(o=>`[${o}]`).join(", ")})`:i.type==="FOREIGN KEY"?`CONSTRAINT [${i.name}] FOREIGN KEY (${i.columns.map(o=>`[${o}]`).join(", ")}) REFERENCES [${i.referenceTable}] (${(a=i.referenceColumns)==null?void 0:a.map(o=>`[${o}]`).join(", ")})`:i.type==="UNIQUE"?`CONSTRAINT [${i.name}] UNIQUE (${i.columns.map(o=>`[${o}]`).join(", ")})`:""}).filter(Boolean);return`CREATE TABLE [${t.schema||"dbo"}].[${t.name}] (
  ${[...n,...r].join(`,
  `)}
);`}getAlterTableSQL(t,n){const r=[],s=n.schema||"dbo",i=`[${s}].[${n.name}]`;return t.name!==n.name&&r.push(`EXEC sp_rename '[${s}].[${t.name}]', '${n.name}';`),n.columns.forEach(a=>{if(!t.columns.find(l=>l.name===a.name)){let l=`ADD [${a.name}] ${a.type}`;a.nullable||(l+=" NOT NULL"),a.defaultValue&&(l+=` DEFAULT ${a.defaultValue}`),r.push(`ALTER TABLE ${i} ${l};`)}}),t.columns.forEach(a=>{n.columns.find(o=>o.name===a.name)||r.push(`ALTER TABLE ${i} DROP COLUMN [${a.name}];`)}),n.columns.forEach(a=>{const o=t.columns.find(l=>l.name===a.name);if(o&&o.type!==a.type){let l=`ALTER COLUMN [${a.name}] ${a.type}`;a.nullable||(l+=" NOT NULL"),r.push(`ALTER TABLE ${i} ${l};`)}}),r.join(`
`)}getDropTableSQL(t,n){return`DROP TABLE [${t}].[${n}];`}getCreateUserSQL(t){let n=`CREATE USER [${t.name}]`;return n+=";",n}getDropUserSQL(t){return`DROP USER [${t}];`}getAlterUserSQL(t){return`ALTER USER [${t.name}] WITH ...; -- Implementation depends on login vs user`}getCreateRoleSQL(t){return`CREATE ROLE [${t.name}];`}getDropRoleSQL(t){return`DROP ROLE [${t}];`}getGrantPermissionSQL(t,n,r,s){return n==="TABLE"?`GRANT ${s} ON OBJECT::${r} TO [${t}];`:n==="SCHEMA"?`GRANT ${s} ON SCHEMA::${r} TO [${t}];`:n==="DATABASE"?`GRANT ${s} TO [${t}];`:""}getRevokePermissionSQL(t,n,r,s){return n==="TABLE"?`REVOKE ${s} ON OBJECT::${r} FROM [${t}];`:n==="SCHEMA"?`REVOKE ${s} ON SCHEMA::${r} FROM [${t}];`:n==="DATABASE"?`REVOKE ${s} FROM [${t}];`:""}getUsersQuery(){return"SELECT name FROM sys.database_principals WHERE type IN ('S', 'U');"}getRolesQuery(){return"SELECT name FROM sys.database_principals WHERE type = 'R';"}async getTableDefinition(t,n,r){const s=`
      SELECT COLUMN_NAME, DATA_TYPE, IS_NULLABLE, COLUMN_DEFAULT, CHARACTER_MAXIMUM_LENGTH
      FROM INFORMATION_SCHEMA.COLUMNS
      WHERE TABLE_SCHEMA = '${t}' AND TABLE_NAME = '${n}'
      ORDER BY ORDINAL_POSITION;
    `,a=(await r(s)).map(o=>({name:o.COLUMN_NAME,type:o.DATA_TYPE+(o.CHARACTER_MAXIMUM_LENGTH?`(${o.CHARACTER_MAXIMUM_LENGTH})`:""),nullable:o.IS_NULLABLE==="YES",primaryKey:!1,defaultValue:o.COLUMN_DEFAULT}));return{name:n,schema:t,columns:a,constraints:[]}}async getUserDefinition(t,n){const r=`
      SELECT r.name as role_name
      FROM sys.database_role_members m
      JOIN sys.database_principals u ON m.member_principal_id = u.principal_id
      JOIN sys.database_principals r ON m.role_principal_id = r.principal_id
      WHERE u.name = '${t}';
    `;try{const i=(await n(r)).map(a=>a.role_name);return{name:t,roles:i}}catch(s){return console.warn("Failed to fetch user roles:",s),{name:t}}}}class Qt{static getAdapter(t){switch(t){case"postgresql":return new ET;case"mysql":return new NT;case"sqlite":return new CT;case"sqlserver":return new kT;default:throw new Error(`Unsupported engine for admin: ${t}`)}}}class TT{constructor(){Ie(this,"schemas",new Map);Ie(this,"tablesByName",new Map);Ie(this,"tablesByFullName",new Map);Ie(this,"engine","postgresql");Ie(this,"currentDatabase");Ie(this,"connectionId");Ie(this,"listeners",new Set)}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notify(){this.listeners.forEach(t=>t())}updateTable(t){const n=this.convertTable(t,t.schema),r=this.getFullTableName(n);this.tablesByFullName.set(r.toLowerCase(),n);const s=n.name.toLowerCase(),i=this.tablesByName.get(s)||[],a=i.findIndex(o=>this.getFullTableName(o).toLowerCase()===r.toLowerCase());if(a>=0?i[a]=n:i.push(n),this.tablesByName.set(s,i),n.schema){const o=this.schemas.get(n.schema);if(o){const l=o.tables.findIndex(c=>c.name===n.name);l>=0?o.tables[l]=n:o.tables.push(n)}}this.notify()}update(t,n,r,s,i){this.clear(!1),this.connectionId=t,this.engine=n,this.currentDatabase=r;for(const a of s){const o={name:a.name,tables:[]};for(const l of a.tables){const c=this.convertTable(l,a.name);o.tables.push(c),this.indexTable(c)}for(const l of a.views){const c=this.convertView(l,a.name);o.tables.push(c),this.indexTable(c)}this.schemas.set(a.name,o)}for(const a of i)if(!a.schema||!this.schemas.has(a.schema)){const o=this.convertTable(a,a.schema);this.indexTable(o)}this.notify()}convertTable(t,n){return{name:t.name,schema:n,database:this.currentDatabase,type:"table",columns:t.columns.map(r=>this.convertColumn(r))}}convertView(t,n){return{name:t.name,schema:n,database:this.currentDatabase,type:"view",columns:t.columns.map(r=>this.convertColumn(r))}}convertColumn(t){return{name:t.name,dataType:t.data_type,nativeType:t.native_type,nullable:t.nullable,isPrimaryKey:t.is_primary_key,comment:t.comment}}indexTable(t){const n=this.tablesByName.get(t.name.toLowerCase())||[];n.push(t),this.tablesByName.set(t.name.toLowerCase(),n);const r=this.getFullTableName(t);this.tablesByFullName.set(r.toLowerCase(),t)}getFullTableName(t){return this.engine==="postgresql"&&t.schema?`${t.schema}.${t.name}`:this.engine==="mysql"&&t.database?`${t.database}.${t.name}`:t.name}getSchemas(){return Array.from(this.schemas.keys())}getTables(t){if(t){const n=this.schemas.get(t);return(n==null?void 0:n.tables)||[]}return Array.from(this.tablesByFullName.values())}findTable(t){const n=t.toLowerCase(),r=this.tablesByFullName.get(n);if(r)return r;const s=this.tablesByName.get(n);return s==null?void 0:s[0]}getColumns(t){const n=this.findTable(t);return(n==null?void 0:n.columns)||[]}searchTables(t){const n=t.toLowerCase(),r=[];for(const s of this.tablesByFullName.values())(s.name.toLowerCase().startsWith(n)||this.getFullTableName(s).toLowerCase().startsWith(n))&&r.push(s);return r}searchColumns(t,n){const r=this.getColumns(t),s=n.toLowerCase();return r.filter(i=>i.name.toLowerCase().startsWith(s))}getEngine(){return this.engine}getConnectionId(){return this.connectionId}clear(t=!0){this.schemas.clear(),this.tablesByName.clear(),this.tablesByFullName.clear(),this.connectionId=void 0,t&&this.notify()}isEmpty(){return this.tablesByFullName.size===0}}const me=new TT,ap=e=>!e||e.type==="Null"?null:e.value,jT=5*60*1e3,be=(e,...t)=>`${e}:${t.join(":")}`,a0=Zt((e,t)=>({nodes:{},rootNodes:[],selectedNodeId:null,expandedNodes:new Set,loadingNodes:new Set,showSystemSchemas:!1,cache:new Map,cacheTimeout:jT,initializeConnection:(n,r,s)=>{const i=be("connection",n);console.log("[Explorer] initializeConnection:",{connectionId:n,connectionName:r,database:s,connNodeId:i}),e(a=>{const o={...a.nodes};if(s){const c=be("database",n,s);o[i]={id:i,type:"connection",name:r,parentId:null,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[c],metadata:{connectionId:n,database:s}},o[c]={id:c,type:"database",name:s,parentId:i,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:n,database:s}}}else o[i]={id:i,type:"connection",name:r,parentId:null,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:n,database:null}};const l=a.rootNodes.includes(i)?a.rootNodes:[...a.rootNodes,i];return console.log("[Explorer] New state:",{newNodes:o,rootNodes:l}),{nodes:o,rootNodes:l}})},syncConnections:(n,r)=>{e(s=>{const i={...s.nodes},a=n.map(l=>be("connection",l.id));let o=!1;return JSON.stringify(a)!==JSON.stringify(s.rootNodes)&&(o=!0),n.forEach(l=>{var w;const c=be("connection",l.id),d=r[l.id]||"Disconnected",m=typeof d=="string"?d:"Error",f=m==="Connected",y=i[c],v={connectionId:l.id,database:l.database,status:m,engine:l.engine};if(y){const x=(w=y.metadata)==null?void 0:w.status,p=y.name;if((x!==m||p!==l.name)&&(o=!0,i[c]={...y,name:l.name,metadata:{...y.metadata,...v}}),f&&y.children.length===0&&l.database){const h=be("database",l.id,l.database);i[c].children=[h],i[c].isLoaded=!0,i[h]||(i[h]={id:h,type:"database",name:l.database,parentId:c,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:l.id,database:l.database,engine:l.engine}}),o=!0}else!f&&y.children.length>0&&(i[c].children=[],i[c].isExpanded=!1,i[c].isLoaded=!1,o=!0)}else{o=!0;const x=f&&!!l.database;if(i[c]={id:c,type:"connection",name:l.name,parentId:null,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:x,children:[],metadata:v},f&&l.database){const p=be("database",l.id,l.database);i[c].children=[p],i[p]={id:p,type:"database",name:l.database,parentId:c,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:l.id,database:l.database,engine:l.engine}}}}}),o?{nodes:i,rootNodes:a}:s})},toggleNode:async(n,r)=>{const{nodes:s,loadChildren:i}=t(),a=s[n];if(!a){console.warn("[Explorer] toggleNode: node not found:",n);return}if(console.log("[Explorer] toggleNode:",{nodeId:n,connectionId:r,nodeType:a.type,isExpanded:a.isExpanded,isLoaded:a.isLoaded,isExpandable:a.isExpandable}),a.isExpanded)e(o=>{const l=new Set(o.expandedNodes);return l.delete(n),{nodes:{...o.nodes,[n]:{...a,isExpanded:!1}},expandedNodes:l}});else{!a.isLoaded&&a.isExpandable?(console.log("[Explorer] toggleNode: calling loadChildren"),await i(n,r)):console.log("[Explorer] toggleNode: skipping loadChildren (isLoaded:",a.isLoaded,", isExpandable:",a.isExpandable,")"),e(m=>{const f=new Set(m.expandedNodes);return f.add(n),{nodes:{...m.nodes,[n]:{...m.nodes[n],isExpanded:!0}},expandedNodes:f}});const{nodes:o,toggleNode:l}=t(),c=o[n];if(!c)return;const d=async m=>{const f=t().nodes[m];f&&!f.isExpanded&&await l(m,r)};if(c.type==="connection"&&c.children.length===1)await d(c.children[0]);else if(c.type==="database"){const m=c.children.map(w=>t().nodes[w]).filter(Boolean),f=m.find(w=>w.type==="schema"&&w.name==="public"),y=m.length===1&&m[0].type==="schema"?m[0]:null,v=f||y;v&&await d(v.id)}else if(c.type==="schema"){const m=c.children.find(f=>{const y=t().nodes[f];return y&&y.type==="tables-folder"});m&&await d(m)}}},selectNode:n=>{e({selectedNodeId:n})},loadChildren:async(n,r)=>{var m,f;const{nodes:s,showSystemSchemas:i,cache:a,cacheTimeout:o}=t(),l=s[n];if(!l||l.isLoading)return;console.log("[Explorer] loadChildren called:",{nodeId:n,connectionId:r,nodeType:l.type,metadata:l.metadata});const c=`${n}:${r}`,d=a.get(c);if(d&&Date.now()-d.timestamp<o){console.log("[Explorer] Using cached data for:",n);return}e(y=>({nodes:{...y.nodes,[n]:{...l,isLoading:!0}},loadingNodes:new Set(y.loadingNodes).add(n)}));try{const y={},v=[];switch(l.type){case"connection":{console.log("[Explorer] Loading databases for connection:",{connectionId:r});const x=await Ge.listDatabases(r);console.log("[Explorer] Databases loaded:",x);for(const p of x){const h=be("database",r,p);v.push(h),y[h]={id:h,type:"database",name:p,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:p}}}break}case"database":{const x=(m=l.metadata)==null?void 0:m.database,p=(f=l.metadata)==null?void 0:f.engine;console.log("[Explorer] Loading children for database:",{connectionId:r,database:x,engine:p});const h=await Ge.listSchemas(r,x);console.log("[Explorer] Schemas loaded:",h);for(const g of h){if(!i&&g.is_system)continue;const S=be("schema",r,x,g.name);v.push(S),y[S]={id:S,type:"schema",name:g.name,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:x,schema:g.name,isSystem:g.is_system}}}if(p)try{const g=Qt.getAdapter(p);if(g.features.users){const S=be("users-folder",r,x);v.push(S),y[S]={id:S,type:"users-folder",name:"Users",parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:x,engine:p}}}if(g.features.roles){const S=be("roles-folder",r,x);v.push(S),y[S]={id:S,type:"roles-folder",name:"Roles",parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:x,engine:p}}}}catch(g){console.warn("[Explorer] Failed to get admin adapter:",g)}break}case"users-folder":{const{database:x,engine:p}=l.metadata,g=Qt.getAdapter(p).getUsersQuery();if(g){const S=await Kt.execute(r,g);if(S.rows){const E=S.rows.map(C=>{const k={};return S.columns.forEach((N,M)=>{k[N.name]=ap(C[M])}),k});for(const C of E){const k=C.name;if(!k)continue;const N=be("user",r,x,k);v.push(N),y[N]={id:N,type:"user",name:k,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{connectionId:r,database:x,user:k,...C}}}}}break}case"roles-folder":{const{database:x,engine:p}=l.metadata,g=Qt.getAdapter(p).getRolesQuery();if(g){const S=await Kt.execute(r,g);if(S.rows){const E=S.rows.map(C=>{const k={};return S.columns.forEach((N,M)=>{k[N.name]=ap(C[M])}),k});for(const C of E){const k=C.name;if(!k)continue;const N=be("role",r,x,k);v.push(N),y[N]={id:N,type:"role",name:k,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{connectionId:r,database:x,role:k,...C}}}}}break}case"schema":{const{database:x,schema:p}=l.metadata,h=[{type:"tables-folder",name:"Tables"},{type:"views-folder",name:"Views"},{type:"functions-folder",name:"Functions"},{type:"sequences-folder",name:"Sequences"}];for(const g of h){const S=be(g.type,r,x,p);v.push(S),y[S]={id:S,type:g.type,name:g.name,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,database:x,schema:p}}}break}case"tables-folder":{const{schema:x}=l.metadata;console.log("[Explorer] Loading tables for schema:",{connectionId:r,schema:x});const p=await Ge.listTables(r,x);console.log("[Explorer] Tables loaded:",p),p.forEach(h=>{!h.schema&&x&&(h.schema=x),me.updateTable(h)});for(const h of p){const g=be("table",r,x,h.name);v.push(g),y[g]={id:g,type:"table",name:h.name,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,schema:x,table:h.name}}}break}case"table":{const{schema:x,table:p}=l.metadata,h=[{type:"columns-folder",name:"Columns"},{type:"indexes-folder",name:"Indexes"},{type:"constraints-folder",name:"Constraints"},{type:"triggers-folder",name:"Triggers"}];for(const g of h){const S=be(g.type,r,x,p);v.push(S),y[S]={id:S,type:g.type,name:g.name,parentId:n,isExpandable:!0,isExpanded:!1,isLoading:!1,isLoaded:!1,children:[],metadata:{connectionId:r,schema:x,table:p}}}break}case"columns-folder":{const{schema:x,table:p}=l.metadata,h=await Ge.getColumns(r,p,x);for(const g of h){const S=be("column",r,x,p,g.name);v.push(S),y[S]={id:S,type:"column",name:g.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...g}}}break}case"indexes-folder":{const{schema:x,table:p}=l.metadata,h=await Ge.listIndexes(r,p,x);for(const g of h){const S=be("index",r,x,p,g.name);v.push(S),y[S]={id:S,type:"index",name:g.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...g}}}break}case"constraints-folder":{const{schema:x,table:p}=l.metadata,h=await Ge.listConstraints(r,p,x);for(const g of h){const S=be("constraint",r,x,p,g.name);v.push(S),y[S]={id:S,type:"constraint",name:g.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...g}}}break}case"triggers-folder":{const{schema:x,table:p}=l.metadata,h=await Ge.listTriggers(r,p,x);for(const g of h){const S=be("trigger",r,x,p,g.name);v.push(S),y[S]={id:S,type:"trigger",name:g.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...g}}}break}case"views-folder":{const{schema:x}=l.metadata,p=await Ge.listViews(r,x);for(const h of p){const g=be("view",r,x,h.name);v.push(g),y[g]={id:g,type:"view",name:h.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...h}}}break}case"functions-folder":{const{schema:x}=l.metadata,p=await Ge.listFunctions(r,x);for(const h of p){const g=be("function",r,x,h.name);v.push(g),y[g]={id:g,type:"function",name:h.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...h}}}break}case"sequences-folder":{const{schema:x}=l.metadata,p=await Ge.listSequences(r,x);for(const h of p){const g=be("sequence",r,x,h.name);v.push(g),y[g]={id:g,type:"sequence",name:h.name,parentId:n,isExpandable:!1,isExpanded:!1,isLoading:!1,isLoaded:!0,children:[],metadata:{...h}}}break}}const w=new Map(a);w.set(c,{data:v,timestamp:Date.now()}),e(x=>{const p=new Set(x.loadingNodes);return p.delete(n),{nodes:{...x.nodes,...y,[n]:{...x.nodes[n],isLoading:!1,isLoaded:!0,children:v}},loadingNodes:p,cache:w}})}catch(y){console.error("[Explorer] Error loading children:",y),console.error("[Explorer] Error details:",{nodeId:n,connectionId:r,nodeType:l.type}),e(v=>{const w=new Set(v.loadingNodes);return w.delete(n),{nodes:{...v.nodes,[n]:{...v.nodes[n],isLoading:!1}},loadingNodes:w}})}},refreshNode:async(n,r)=>{const{cache:s}=t(),i=new Map(s);for(const a of i.keys())a.startsWith(n)&&i.delete(a);e(a=>({nodes:{...a.nodes,[n]:{...a.nodes[n],isLoaded:!1,children:[]}},cache:i})),await t().loadChildren(n,r)},setShowSystemSchemas:n=>{e({showSystemSchemas:n});const{cache:r}=t(),s=new Map(r);for(const i of s.keys())i.includes("database:")&&s.delete(i);e({cache:s})},clearCache:()=>{e({cache:new Map})},removeConnection:n=>{e(r=>{var o,l;const s=be("connection",n),i={...r.nodes},a=[];for(const[c,d]of Object.entries(i))(c.includes(n)||((o=d.metadata)==null?void 0:o.connectionId)===n)&&a.push(c);for(const c of a)delete i[c];return{nodes:i,rootNodes:r.rootNodes.filter(c=>c!==s),selectedNodeId:a.includes((l=r.selectedNodeId)!=null?l:"")?null:r.selectedNodeId}})},getNodePath:n=>{const r=t(),s=[];let i=n;for(;i;){const a=r.nodes[i];if(a)s.unshift(a),i=a.parentId;else break}return s}})),_e=Zt(e=>({connections:[],activeConnectionId:null,connectionStatuses:{},isLoading:!1,error:null,loadConnections:async()=>{e({isLoading:!0,error:null});try{const t=await vn.getAll();e({connections:t,isLoading:!1})}catch(t){e({error:String(t),isLoading:!1})}},createConnection:async t=>{const n=await vn.create(t);return e(r=>({connections:[...r.connections,n]})),n},updateConnection:async(t,n)=>{const r=await vn.update(t,n);e(s=>({connections:s.connections.map(i=>i.id===t?r:i)}))},deleteConnection:async t=>{await vn.delete(t),e(n=>({connections:n.connections.filter(r=>r.id!==t),activeConnectionId:n.activeConnectionId===t?null:n.activeConnectionId}))},testConnection:async t=>{await vn.test(t)},connect:async t=>{e(n=>({connectionStatuses:{...n.connectionStatuses,[t]:"Connecting"}}));try{await vn.connect(t),e(n=>({connectionStatuses:{...n.connectionStatuses,[t]:"Connected"},activeConnectionId:t}))}catch(n){throw e(r=>({connectionStatuses:{...r.connectionStatuses,[t]:{Error:String(n)}}})),n}},disconnect:async t=>{await vn.disconnect(t),e(n=>({connectionStatuses:{...n.connectionStatuses,[t]:"Disconnected"}}))},setActiveConnection:t=>{e({activeConnectionId:t})},refreshStatus:async t=>{const n=await vn.getStatus(t);e(r=>({connectionStatuses:{...r.connectionStatuses,[t]:n}}))}})),LT="modulepreload",AT=function(e){return"/"+e},op={},RT=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=AT(l),l in op)return;op[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":LT,c||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),c)return new Promise((f,y)=>{m.addEventListener("load",f),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function lp(e){const t=(e||"").trim().toUpperCase();return t.startsWith("SELECT")?"SELECT":t.startsWith("UPDATE")?"UPDATE":t.startsWith("DELETE")?"DELETE":t.startsWith("ALTER")?"ALTER":"SELECT"}const Un=Zt((e,t)=>({panels:[],minimizedOrder:[],ensurePanelFromResult:({id:n,query:r,connectionId:s,result:i})=>{var l;const a=t().panels.find(c=>c.id===n),o={id:n,query:r,type:lp(r),state:(l=a==null?void 0:a.state)!=null?l:"docked",executedAt:new Date(i.executed_at),connectionId:s,resultId:i.id,data:i.rows,columns:i.columns.map(c=>({name:c.name,data_type:c.data_type})),result:i};e(a?c=>({panels:c.panels.map(d=>d.id===n?{...o}:d)}):c=>({panels:[...c.panels,o]}))},ensurePanelForStatement:({id:n,query:r,connectionId:s,result:i,executedAt:a})=>{var c,d;const o=t().panels.find(m=>m.id===n),l={id:n,query:r,type:lp(r),state:(c=o==null?void 0:o.state)!=null?c:"docked",executedAt:a?new Date(a):new Date,connectionId:s,resultId:i==null?void 0:i.id,data:i==null?void 0:i.rows,columns:(d=i==null?void 0:i.columns)==null?void 0:d.map(m=>({name:m.name,data_type:m.data_type})),result:i};e(o?m=>({panels:m.panels.map(f=>f.id===n?{...l}:f)}):m=>({panels:[...m.panels,l]}))},setPanelState:(n,r)=>{e(s=>{var l;const i=((l=s.panels.find(c=>c.id===n))==null?void 0:l.state)==="minimized",a=s.panels.map(c=>c.id===n?{...c,state:r}:c);let o=s.minimizedOrder;return r==="minimized"&&!s.minimizedOrder.includes(n)?o=[n,...s.minimizedOrder]:i&&r!=="minimized"&&(o=s.minimizedOrder.filter(c=>c!==n)),{panels:a,minimizedOrder:o}})},closePanel:n=>{e(r=>({panels:r.panels.filter(s=>s.id!==n),minimizedOrder:r.minimizedOrder.filter(s=>s!==n)}))},getPanel:n=>t().panels.find(r=>r.id===n)}));let fa=0;const rt=Zt((e,t)=>({tabs:[],activeTabId:null,history:[],createTab:n=>{const r=`tab-${++fa}`,s={id:r,type:"query",title:`Query ${fa}`,connectionId:n,query:"",result:null,multiResults:null,isExecuting:!1,error:null};return e(i=>({tabs:[...i.tabs,s],activeTabId:r})),r},addTab:n=>{const r=`tab-${++fa}`,s={id:r,type:n.type||"query",adminState:n.adminState,title:n.title||`Query ${fa}`,connectionId:n.connectionId||"",query:n.query||"",result:null,multiResults:null,isExecuting:!1,error:null};return e(i=>({tabs:[...i.tabs,s],activeTabId:r})),r},closeTab:n=>{e(r=>{const s=r.tabs.filter(a=>a.id!==n);let i=r.activeTabId;return r.activeTabId===n&&(i=s.length>0?s[s.length-1].id:null),{tabs:s,activeTabId:i}})},setActiveTab:n=>{e({activeTabId:n})},updateQuery:(n,r)=>{e(s=>({tabs:s.tabs.map(i=>i.id===n?{...i,query:r}:i)}))},updateTabTitle:(n,r)=>{e(s=>({tabs:s.tabs.map(i=>i.id===n?{...i,title:r}:i)}))},executeQuery:async(n,r,s,i)=>{const a=t().tabs.find(l=>l.id===n);if(!a)return;const o=r||a.query;e(l=>({tabs:l.tabs.map(c=>c.id===n?{...c,isExecuting:!0,error:null,multiResults:null}:c)}));try{const l=await Kt.execute(a.connectionId,o,s,i);e(c=>({tabs:c.tabs.map(d=>d.id===n?{...d,result:l,isExecuting:!1}:d)})),Un.getState().ensurePanelFromResult({id:n,query:o,connectionId:a.connectionId,result:l})}catch(l){let c="Unknown error";if(typeof l=="string")c=l;else if(l&&typeof l=="object")if("message"in l)c=String(l.message);else if("error"in l)c=String(l.error);else try{c=JSON.stringify(l,null,2)}catch{c=String(l)}e(d=>({tabs:d.tabs.map(m=>m.id===n?{...m,error:c,isExecuting:!1}:m)}))}},executeMultiStatement:async n=>{const r=t().tabs.find(a=>a.id===n);if(!r)return;const{parseMultipleStatements:s}=await RT(async()=>{const{parseMultipleStatements:a}=await Promise.resolve().then(()=>uL);return{parseMultipleStatements:a}},void 0),i=s(r.query);if(i.length!==0){e(a=>({tabs:a.tabs.map(o=>o.id===n?{...o,isExecuting:!0,error:null,result:null}:o)}));try{const a=await Kt.executeMultiStatement(r.connectionId,i.map(o=>o.sql));e(o=>({tabs:o.tabs.map(l=>l.id===n?{...l,multiResults:a,isExecuting:!1}:l)})),a.forEach((o,l)=>{const c=`${n}:stmt:${l}`;Un.getState().ensurePanelForStatement({id:c,query:o.sql,connectionId:r.connectionId,result:o.result,affectedRows:o.affected_rows,executedAt:new Date().toISOString()})})}catch(a){let o="Unknown error";if(typeof a=="string")o=a;else if(a&&typeof a=="object")if("message"in a)o=String(a.message);else if("error"in a)o=String(a.error);else try{o=JSON.stringify(a,null,2)}catch{o=String(a)}e(l=>({tabs:l.tabs.map(c=>c.id===n?{...c,error:o,isExecuting:!1}:c)}))}}},cancelQuery:async n=>{const r=t().tabs.find(s=>s.id===n);r&&(await Kt.cancel(r.connectionId),e(s=>({tabs:s.tabs.map(i=>i.id===n?{...i,isExecuting:!1}:i)})))},loadHistory:async n=>{const r=await Kt.getHistory(n,100);e({history:r})}})),yt=Zt((e,t)=>({byConnection:{},isLoadingByConnection:{},errorByConnection:{},getDatabases:n=>{var r;return((r=t().byConnection[n])==null?void 0:r.databases)||[]},getSchemas:n=>{var r;return((r=t().byConnection[n])==null?void 0:r.schemas)||[]},getTables:n=>{var r;return((r=t().byConnection[n])==null?void 0:r.tables)||[]},getSelectedDatabase:n=>{var r,s;return(s=(r=t().byConnection[n])==null?void 0:r.selectedDatabase)!=null?s:null},getSelectedSchema:n=>{var r,s;return(s=(r=t().byConnection[n])==null?void 0:r.selectedSchema)!=null?s:null},getSelectedTable:n=>{var r,s;return(s=(r=t().byConnection[n])==null?void 0:r.selectedTable)!=null?s:null},loadDatabases:async n=>{e(r=>({isLoadingByConnection:{...r.isLoadingByConnection,[n]:!0},errorByConnection:{...r.errorByConnection,[n]:null}}));try{const r=await Ge.listDatabases(n);e(s=>{var i,a,o,l,c,d,m,f;return{byConnection:{...s.byConnection,[n]:{databases:r,schemas:((i=s.byConnection[n])==null?void 0:i.schemas)||[],tables:((a=s.byConnection[n])==null?void 0:a.tables)||[],selectedDatabase:(l=(o=s.byConnection[n])==null?void 0:o.selectedDatabase)!=null?l:null,selectedSchema:(d=(c=s.byConnection[n])==null?void 0:c.selectedSchema)!=null?d:null,selectedTable:(f=(m=s.byConnection[n])==null?void 0:m.selectedTable)!=null?f:null}},isLoadingByConnection:{...s.isLoadingByConnection,[n]:!1}}})}catch(r){e(s=>({errorByConnection:{...s.errorByConnection,[n]:String(r)},isLoadingByConnection:{...s.isLoadingByConnection,[n]:!1}}))}},loadSchemas:async(n,r)=>{e(s=>({isLoadingByConnection:{...s.isLoadingByConnection,[n]:!0},errorByConnection:{...s.errorByConnection,[n]:null}}));try{const s=await Ge.listSchemas(n,r);e(i=>{var a,o,l,c,d,m;return{byConnection:{...i.byConnection,[n]:{databases:((a=i.byConnection[n])==null?void 0:a.databases)||[],schemas:s,tables:((o=i.byConnection[n])==null?void 0:o.tables)||[],selectedDatabase:r,selectedSchema:(c=(l=i.byConnection[n])==null?void 0:l.selectedSchema)!=null?c:null,selectedTable:(m=(d=i.byConnection[n])==null?void 0:d.selectedTable)!=null?m:null}},isLoadingByConnection:{...i.isLoadingByConnection,[n]:!1}}})}catch(s){e(i=>({errorByConnection:{...i.errorByConnection,[n]:String(s)},isLoadingByConnection:{...i.isLoadingByConnection,[n]:!1}}))}},loadTables:async(n,r)=>{e(s=>({isLoadingByConnection:{...s.isLoadingByConnection,[n]:!0},errorByConnection:{...s.errorByConnection,[n]:null}}));try{const s=await Ge.listTables(n,r);s.forEach(i=>{!i.schema&&r&&(i.schema=r),me.updateTable(i)}),e(i=>{const a=i.byConnection[n]||{databases:[],schemas:[],tables:[],selectedDatabase:null,selectedSchema:null,selectedTable:null},o=r?a.schemas.map(l=>l.name===r?{...l,tables:s}:l):a.schemas;return{byConnection:{...i.byConnection,[n]:{databases:a.databases,schemas:o,tables:s,selectedDatabase:a.selectedDatabase,selectedSchema:r!=null?r:null,selectedTable:a.selectedTable}},isLoadingByConnection:{...i.isLoadingByConnection,[n]:!1}}})}catch(s){e(i=>({errorByConnection:{...i.errorByConnection,[n]:String(s)},isLoadingByConnection:{...i.isLoadingByConnection,[n]:!1}}))}},selectTable:async(n,r,s)=>{e(i=>({isLoadingByConnection:{...i.isLoadingByConnection,[n]:!0},errorByConnection:{...i.errorByConnection,[n]:null}}));try{const i=await Ge.getTableInfo(n,r,s),a=await Ge.getColumns(n,r,s),o={...i,columns:a};e(l=>{const c=l.byConnection[n]||{databases:[],schemas:[],tables:[],selectedDatabase:null,selectedSchema:null,selectedTable:null};me.updateTable({...o,schema:s!=null?s:o.schema});const d=(()=>{const m=c.tables.findIndex(f=>f.name===r&&(s&&f.schema===s||!s||!f.schema));if(m>=0){const f=[...c.tables];return f[m]=o,f}return[...c.tables,o]})();return{byConnection:{...l.byConnection,[n]:{...c,selectedTable:o,tables:d}},isLoadingByConnection:{...l.isLoadingByConnection,[n]:!1}}})}catch(i){e(a=>({errorByConnection:{...a.errorByConnection,[n]:String(i)},isLoadingByConnection:{...a.isLoadingByConnection,[n]:!1}}))}},setSelectedDatabase:(n,r)=>e(s=>{const i=s.byConnection[n]||{databases:[],schemas:[],tables:[],selectedDatabase:null,selectedSchema:null,selectedTable:null};return{byConnection:{...s.byConnection,[n]:{...i,selectedDatabase:r}}}}),setSelectedSchema:(n,r)=>e(s=>{const i=s.byConnection[n]||{databases:[],schemas:[],tables:[],selectedDatabase:null,selectedSchema:null,selectedTable:null};return{byConnection:{...s.byConnection,[n]:{...i,selectedSchema:r}}}}),clear:n=>e(r=>{if(n){const s={...r.byConnection};delete s[n];const i={...r.isLoadingByConnection};delete i[n];const a={...r.errorByConnection};return delete a[n],{byConnection:s,isLoadingByConnection:i,errorByConnection:a}}return{byConnection:{},isLoadingByConnection:{},errorByConnection:{}}})}));function MT({x:e,y:t,items:n,onClose:r}){const s=b.useRef(null);return b.useEffect(()=>{const i=o=>{s.current&&!s.current.contains(o.target)&&r()},a=o=>{o.key==="Escape"&&r()};return document.addEventListener("mousedown",i),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("keydown",a)}},[r]),b.useEffect(()=>{if(s.current){const i=s.current.getBoundingClientRect(),a=window.innerWidth,o=window.innerHeight;let l=e,c=t;e+i.width>a&&(l=a-i.width-8),t+i.height>o&&(c=o-i.height-8),s.current.style.left=`${l}px`,s.current.style.top=`${c}px`}},[e,t]),xr.createPortal(u.jsx("div",{ref:s,className:"fixed w-44 bg-dark-surface border border-dark-border rounded-lg shadow-xl py-1 pointer-events-auto",style:{left:e,top:t,zIndex:2147483647},children:n.map((i,a)=>i.separator?u.jsx("div",{className:"h-px bg-dark-border my-1"},a):u.jsx("button",{className:xe("w-full px-3 py-1 text-left text-sm transition-colors",i.disabled?"text-dark-muted cursor-not-allowed":i.danger?"text-red-400 hover:bg-red-500/10":"text-dark-text hover:bg-dark-bg"),onClick:()=>{i.disabled||(i.action(),r())},disabled:i.disabled,children:i.label},a))}),document.body)}async function Li(e,t){const{id:n,engine:r,database:s}=e,{getSelectedSchema:i,getSelectedDatabase:a,getDatabases:o,getSchemas:l,getTables:c,loadTables:d,loadDatabases:m,loadSchemas:f,setSelectedSchema:y,setSelectedDatabase:v}=yt.getState();if(me.clear(),r==="postgresql"){let p=s||null;if(!p){await m(n);const k=o(n)||[];p=k.find(T=>T!=="postgres"&&!T.startsWith("template"))||k[0]||"postgres";const{updateConnection:N,connect:M}=_e.getState();await N(n,{database:p}),await M(n)}await f(n,p);const h=l(n)||[],g=h.find(k=>!k.is_system)||h.find(k=>k.name==="public")||h[0],S=g?g.name:"public";y(n,S),await d(n,S);const E=c(n)||[],C=l(n)||[];me.update(n,r,p||void 0,C,E);return}if(r==="mysql"){let p=a(n)||s||null;if(!p||t!=null&&t.force){await m(n);const h=o(n)||[];p=p||h[0]||null}if(p){v(n,p),await f(n,p),await d(n,p);const h=l(n)||[],g=c(n)||[];me.update(n,r,p||void 0,h,g)}else{await d(n);const h=l(n)||[],g=c(n)||[];me.update(n,r,void 0,h,g)}return}if(r==="sqlite"){(!i(n)||t!=null&&t.force)&&(y(n,"main"),await d(n,"main"));const p=l(n)||[],h=c(n)||[];me.update(n,r,void 0,p,h);return}await d(n);const w=l(n)||[],x=c(n)||[];me.update(n,r,void 0,w,x)}const o0=28,PT={postgresql:"",mysql:"",sqlite:""},up=e=>!e||e.type==="Null"?null:e.value;function yc(e,t){switch(t){case"mysql":return`\`${e}\``;case"postgresql":return`"${e}"`;case"sqlite":return`"${e}"`;default:return`"${e}"`}}function Wl(e,t,n){const r=yc(t,n);return e?`${yc(e,n)}.${r}`:r}function _T({type:e,isExpanded:t,metadata:n}){const r="w-4 h-4 flex-shrink-0";switch(e){case"connection":const s=n==null?void 0:n.status,i=(n==null?void 0:n.engine)||"postgresql",a=PT[i]||"";return u.jsxs("div",{className:"flex items-center gap-1.5 mr-1",children:[u.jsx("div",{className:xe("w-2 h-2 rounded-full",s==="Connected"?"bg-green-500":s==="Connecting"?"bg-yellow-500 animate-pulse":"bg-gray-500")}),u.jsx("span",{className:"text-xs grayscale-[0.5]",children:a})]});case"database":return u.jsx(cs,{className:xe(r,"text-blue-400")});case"schema":return t?u.jsx(fc,{className:xe(r,"text-yellow-400")}):u.jsx(Bl,{className:xe(r,"text-yellow-400")});case"tables-folder":case"views-folder":case"functions-folder":case"sequences-folder":case"columns-folder":case"indexes-folder":case"constraints-folder":case"triggers-folder":return t?u.jsx(fc,{className:xe(r,"text-dark-muted")}):u.jsx(Bl,{className:xe(r,"text-dark-muted")});case"table":return u.jsx(hc,{className:xe(r,"text-blue-300")});case"view":return u.jsx(Qv,{className:xe(r,"text-purple-400")});case"column":return(n==null?void 0:n.is_primary_key)?u.jsx(Kv,{className:xe(r,"text-yellow-500")}):u.jsx(wk,{className:xe(r,"text-dark-muted")});case"index":return u.jsx(Yh,{className:xe(r,"text-orange-400")});case"constraint":return u.jsx(Nk,{className:xe(r,"text-red-400")});case"trigger":return u.jsx(Ak,{className:xe(r,"text-yellow-400")});case"function":return u.jsx(Hv,{className:xe(r,"text-green-400")});case"sequence":return u.jsx(Yh,{className:xe(r,"text-cyan-400")});default:return u.jsx(Bl,{className:r})}}const IT=e=>{var t;if(e.type==="column"){const n=(t=e.metadata)==null?void 0:t.data_type;return`${e.name} (${n})`}return e.name};function OT({flatNode:e,isSelected:t,onToggle:n,onSelect:r,onContextMenu:s,onDoubleClick:i}){var l,c;const a=e.node,o=e.depth;return u.jsxs("div",{className:xe("flex items-center gap-1 px-2 cursor-pointer hover:bg-dark-bg rounded select-none",t&&"bg-primary-900/30 hover:bg-primary-900/40"),style:{height:o0,paddingLeft:o*12+4},onClick:()=>{r(),a.isExpandable&&n()},onDoubleClick:i,onContextMenu:s,children:[a.isExpandable?u.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-1 hover:bg-dark-border rounded flex-shrink-0",children:a.isLoading?u.jsx(Gv,{className:"w-4 h-4 text-dark-muted animate-spin"}):a.isExpanded?u.jsx(vk,{className:"w-4 h-4 text-dark-muted"}):u.jsx(af,{className:"w-4 h-4 text-dark-muted"})}):u.jsx("span",{className:"w-5"}),u.jsx(_T,{type:a.type,isExpanded:a.isExpanded,metadata:a.metadata}),u.jsx("span",{className:xe("text-sm truncate flex-1",a.type==="column"&&((l=a.metadata)==null?void 0:l.is_primary_key)&&"text-yellow-500"),children:IT(a)}),a.type==="column"&&((c=a.metadata)==null?void 0:c.nullable)&&u.jsx("span",{className:"text-xs text-dark-muted opacity-60",children:"NULL"})]})}function DT(){const e=b.useRef(null),[t,n]=b.useState(null),{nodes:r,rootNodes:s,selectedNodeId:i,toggleNode:a,selectNode:o,refreshNode:l,syncConnections:c}=a0(),{connections:d,activeConnectionId:m,connectionStatuses:f,connect:y,disconnect:v,deleteConnection:w,setActiveConnection:x,updateConnection:p}=_e(),{addTab:h,setActiveTab:g}=rt(),{setSelectedSchema:S,setSelectedDatabase:E,clear:C}=yt(),{openConnectionModal:k}=Nr();b.useEffect(()=>{c(d,f)},[d,f,c]);const N=b.useMemo(()=>{const L=[],j=(P,J)=>{for(const R of P){const O=r[R];O&&(L.push({node:O,depth:J}),O.isExpanded&&O.children.length>0&&j(O.children,J+1))}};return j(s,0),L},[r,s]),M=bT({count:N.length,getScrollElement:()=>e.current,estimateSize:()=>o0,overscan:10}),T=b.useCallback(async L=>{var J,R,O,_,z;const j=r[L];if(!j)return;if(j.type==="connection"){const U=(J=j.metadata)==null?void 0:J.connectionId,A=(R=j.metadata)==null?void 0:R.status;if(x(U),A!=="Connected")try{await y(U)}catch(D){console.error(D);return}await a(L,U);return}let P=(O=j.metadata)==null?void 0:O.connectionId;if(P||(P=m||""),P){if(m!==P){const U=d.find(A=>A.id===P);U&&(x(P),C(P),await Li(U))}if(j.type==="database"){const U=(_=j.metadata)==null?void 0:_.database,A=d.find(D=>D.id===P);A&&U&&(await p(P,{database:U}),await y(P),E(P,U),await Li({...A,database:U},{force:!0}))}if(await a(L,P),j.type==="tables-folder"&&j.isExpanded===!1){const U=(z=j.metadata)==null?void 0:z.schema;U&&S(P,U)}}else return},[r,m,a,S]),B=b.useCallback(L=>{var j,P;if(L.type==="table"||L.type==="view"){const J=(j=L.metadata)==null?void 0:j.schema,R=L.name,O=(P=L.metadata)==null?void 0:P.connectionId,_=d.find(V=>V.id===O),z=(_==null?void 0:_.engine)||"postgresql",A=`SELECT * FROM ${Wl(J,R,z)} LIMIT 100;`,D=h({title:R,query:A,connectionId:O});g(D)}},[h,g,d]),X=b.useCallback((L,j)=>{L.preventDefault(),n({x:L.clientX,y:L.clientY,node:j})},[]),Q=b.useCallback(L=>{var _,z,U;const j=[],P=(_=L.metadata)==null?void 0:_.connectionId,J=(z=L.metadata)==null?void 0:z.schema;if(L.type==="connection")return((U=L.metadata)==null?void 0:U.status)==="Connected"?(j.push({label:"Disconnect",action:()=>v(P)}),j.push({label:"Refresh",action:()=>l(L.id,P)})):j.push({label:"Connect",action:()=>y(P)}),j.push({separator:!0,label:"",action:()=>{}}),j.push({label:"Edit Connection",action:()=>k(P)}),j.push({label:"Delete Connection",danger:!0,action:async()=>{confirm("Are you sure you want to delete this connection?")&&await w(P)}}),j;const R=d.find(A=>A.id===P),O=(R==null?void 0:R.engine)||"postgresql";if(L.type==="users-folder")return j.push({label:"Create User",action:()=>{const A=h({type:"admin",title:"New User",connectionId:P,adminState:{type:"user",mode:"create",engine:O,initialDefinition:{name:"",roles:[]}}});g(A)}},{label:"",action:()=>{},separator:!0},{label:"Refresh",action:()=>{P&&l(L.id,P)}}),j;if(L.type==="user")return j.push({label:"Edit User",action:async()=>{try{const A=Qt.getAdapter(O),D=async H=>{const ee=await Kt.execute(P,H);return ee.rows?ee.rows.map(ae=>{const ce={};return ee.columns.forEach((Ae,Ve)=>{ce[Ae.name]=up(ae[Ve])}),ce}):[]},V=await A.getUserDefinition(L.name,D),K=h({type:"admin",title:`Edit ${L.name}`,connectionId:P,adminState:{type:"user",mode:"edit",engine:O,initialDefinition:V}});g(K)}catch(A){console.error("Failed to load user definition:",A)}}},{label:"",action:()=>{},separator:!0},{label:"Drop User",action:()=>{const D=Qt.getAdapter(O).getDropUserSQL(L.name),V=h({title:`DROP ${L.name}`,query:D,connectionId:P});g(V)},danger:!0}),j;if(L.type==="roles-folder")return j.push({label:"Create Role",action:()=>{const D=Qt.getAdapter(O).getCreateRoleSQL({name:"new_role"}),V=h({title:"New Role",query:D,connectionId:P});g(V)}},{label:"",action:()=>{},separator:!0},{label:"Refresh",action:()=>{P&&l(L.id,P)}}),j;if(L.type==="role")return j.push({label:"Drop Role",action:()=>{const D=Qt.getAdapter(O).getDropRoleSQL(L.name),V=h({title:`DROP ${L.name}`,query:D,connectionId:P});g(V)},danger:!0}),j;if(L.type==="tables-folder")return j.push({label:"Create Table",action:()=>{var D;const A=h({type:"admin",title:"New Table",connectionId:P,adminState:{type:"table",mode:"create",engine:O,schema:(D=L.metadata)==null?void 0:D.schema}});g(A)}},{label:"",action:()=>{},separator:!0},{label:"Refresh",action:()=>{P&&l(L.id,P)}}),j;if(L.type==="table"){const A=Wl(J,L.name,O);j.push({label:"View Data",action:()=>B(L)},{label:"Edit Structure",action:async()=>{try{const D=Qt.getAdapter(O),V=async ee=>{const ae=await Kt.execute(P,ee);return ae.rows?ae.rows.map(ce=>{const Ae={};return ae.columns.forEach((Ve,fe)=>{Ae[Ve.name]=up(ce[fe])}),Ae}):[]},K=await D.getTableDefinition(J,L.name,V),H=h({type:"admin",title:`Edit ${L.name}`,connectionId:P,adminState:{type:"table",mode:"edit",engine:O,initialDefinition:K,schema:J,table:L.name}});g(H)}catch(D){console.error("Failed to load table definition:",D)}}},{label:"",action:()=>{},separator:!0},{label:"Generate SELECT",action:()=>{const D=`SELECT * FROM ${A};`,V=h({title:`SELECT ${L.name}`,query:D,connectionId:P});g(V)}},{label:"Generate INSERT",action:()=>{const D=`INSERT INTO ${A} (column1, column2)
VALUES (value1, value2);`,V=h({title:`INSERT ${L.name}`,query:D,connectionId:P});g(V)}},{label:"Copy Name",action:()=>{navigator.clipboard.writeText(A)}},{label:"",action:()=>{},separator:!0},{label:"Refresh",action:()=>{P&&l(L.id,P)}},{label:"",action:()=>{},separator:!0},{label:"TRUNCATE Table",action:()=>{const D=`TRUNCATE TABLE ${A};`,V=h({title:`TRUNCATE ${L.name}`,query:D,connectionId:P});g(V)},danger:!0},{label:"DROP Table",action:()=>{const D=`DROP TABLE ${A};`,V=h({title:`DROP ${L.name}`,query:D,connectionId:P});g(V)},danger:!0})}else if(L.type==="view"){const A=Wl(J,L.name,O);j.push({label:"View Data",action:()=>B(L)},{label:"Copy Name",action:()=>{navigator.clipboard.writeText(A)}})}else L.type==="column"?j.push({label:"Copy Name",action:()=>{navigator.clipboard.writeText(yc(L.name,O))}}):L.isExpandable&&j.push({label:"Refresh",action:()=>{P&&l(L.id,P)}});return j},[B,h,g,l,d]);return N.length===0?u.jsx("div",{className:"p-4 text-center text-dark-muted text-sm",children:"Connect to a database to explore"}):u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsx("div",{ref:e,className:"flex-1 overflow-auto",children:u.jsx("div",{style:{height:M.getTotalSize(),width:"100%",position:"relative"},children:M.getVirtualItems().map(L=>{const j=N[L.index];return u.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${L.size}px`,transform:`translateY(${L.start}px)`},children:u.jsx(OT,{flatNode:j,isSelected:i===j.node.id,onToggle:()=>T(j.node.id),onSelect:()=>o(j.node.id),onContextMenu:P=>X(P,j.node),onDoubleClick:()=>B(j.node)})},L.key)})})}),t&&u.jsx(MT,{x:t.x,y:t.y,items:Q(t.node),onClose:()=>n(null)})]})}function $T(){const{history:e,loadHistory:t,updateQuery:n,activeTabId:r}=rt(),{activeConnectionId:s}=_e();b.useEffect(()=>{s&&t(s)},[s,t]);const i=a=>{r&&n(r,a)};return s?e.length===0?u.jsxs("div",{className:"p-4 text-center text-dark-muted text-sm",children:[u.jsx(of,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No queries executed yet"]}):u.jsx("div",{className:"p-2 space-y-1",children:e.map(a=>u.jsx("div",{onClick:()=>i(a.query),className:"p-2 rounded-lg hover:bg-dark-bg cursor-pointer group",children:u.jsxs("div",{className:"flex items-start gap-2",children:[a.success?u.jsx(xk,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}):u.jsx(qr,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-mono truncate",children:a.query}),u.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-dark-muted",children:[u.jsx("span",{children:new Date(a.executed_at).toLocaleTimeString()}),a.execution_time_ms>0&&u.jsxs("span",{children:[a.execution_time_ms,"ms"]}),a.row_count!==void 0&&u.jsxs("span",{children:[a.row_count," rows"]})]}),a.error_message&&u.jsx("p",{className:"text-xs text-red-400 mt-1 truncate",children:a.error_message})]})]})},a.id))}):u.jsx("div",{className:"p-4 text-center text-dark-muted text-sm",children:"Connect to a database to see query history"})}const l0=Zt(e=>({queries:[],folders:[],isLoading:!1,error:null,loadQueries:async t=>{e({isLoading:!0,error:null});try{const n=await bn.getByConnection(t);e({queries:n,isLoading:!1})}catch(n){e({error:String(n),isLoading:!1})}},loadFolders:async t=>{try{const n=await bn.getFolders(t);e({folders:n})}catch(n){e({error:String(n)})}},createQuery:async t=>{const n=await bn.create(t);return e(r=>({queries:[...r.queries,n]})),n},updateQuery:async(t,n)=>{const r=await bn.update(t,n);return e(s=>({queries:s.queries.map(i=>i.id===t?r:i)})),r},deleteQuery:async t=>{await bn.delete(t),e(n=>({queries:n.queries.filter(r=>r.id!==t)}))},createFolder:async(t,n,r)=>{const s=await bn.createFolder(t,n,r);return e(i=>({folders:[...i.folders,s]})),s},deleteFolder:async t=>{await bn.deleteFolder(t),e(n=>({folders:n.folders.filter(r=>r.id!==t),queries:n.queries.map(r=>r.folder_id===t?{...r,folder_id:void 0}:r)}))},findByTags:async(t,n)=>await bn.findByTags(t,n)}));function zT(){const{activeConnectionId:e}=_e(),{queries:t,loadQueries:n,loadFolders:r,deleteQuery:s,createQuery:i}=l0(),{addTab:a}=rt(),[o,l]=b.useState(!1),[c,d]=b.useState(""),[m,f]=b.useState("");b.useEffect(()=>{e&&(n(e),r(e))},[e,n,r]);const y=x=>{a({title:x.name,query:x.sql,connectionId:x.connection_id})},v=async x=>{confirm("Eliminar esta consulta guardada?")&&await s(x)},w=async()=>{if(!e)return;const x=rt.getState().tabs.find(p=>p.id===rt.getState().activeTabId);if(!x||!x.query.trim()){alert("No hay consulta para guardar");return}try{await i({connection_id:e,name:c,sql:x.query,description:m||void 0}),l(!1),d(""),f("")}catch(p){alert("Error al guardar: "+String(p))}};return e?u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsxs("div",{className:"p-3 border-b border-gray-700 flex items-center justify-between",children:[u.jsx("h3",{className:"font-semibold text-sm",children:"Consultas Guardadas"}),u.jsx("button",{onClick:()=>l(!0),className:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 rounded",children:"+ Guardar"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?u.jsx("div",{className:"p-4 text-gray-500 text-sm text-center",children:"No hay consultas guardadas"}):u.jsx("div",{className:"p-2 space-y-1",children:t.map(x=>u.jsx("div",{className:"group p-2 rounded hover:bg-gray-700 cursor-pointer",onClick:()=>y(x),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm truncate",children:x.name}),x.description&&u.jsx("div",{className:"text-xs text-gray-400 truncate",children:x.description}),x.tags.length>0&&u.jsx("div",{className:"flex gap-1 mt-1 flex-wrap",children:x.tags.map(p=>u.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-600 rounded",children:p},p))})]}),u.jsx("button",{onClick:p=>{p.stopPropagation(),v(x.id)},className:"opacity-0 group-hover:opacity-100 ml-2 p-1 hover:bg-red-600 rounded",children:""})]})},x.id))})}),o&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-96",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Guardar Consulta"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nombre"}),u.jsx("input",{type:"text",value:c,onChange:x=>d(x.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-blue-500",placeholder:"Mi consulta",autoFocus:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descripcin (opcional)"}),u.jsx("textarea",{value:m,onChange:x=>f(x.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:border-blue-500",placeholder:"Descripcin de la consulta",rows:3})]})]}),u.jsxs("div",{className:"flex gap-2 mt-6",children:[u.jsx("button",{onClick:w,disabled:!c.trim(),className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded",children:"Guardar"}),u.jsx("button",{onClick:()=>{l(!1),d(""),f("")},className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded",children:"Cancelar"})]})]})})]}):u.jsx("div",{className:"p-4 text-gray-500 text-sm",children:"Selecciona una conexin para ver las consultas guardadas"})}const cp=[{id:"explorer",icon:cs,label:"Explorer"},{id:"saved-queries",icon:Bv,label:"Queries"},{id:"history",icon:Sk,label:"History"}];function FT(){var r;const{sidebarView:e,setSidebarView:t,openConnectionModal:n}=Nr();return u.jsxs("div",{className:"h-full flex bg-dark-surface/50 backdrop-blur-sm border-r border-dark-border/50",children:[u.jsxs("div",{className:"w-10 bg-dark-bg/50 border-r border-dark-border/30 flex flex-col items-center py-2 gap-0.5",children:[cp.map(({id:s,icon:i,label:a})=>u.jsxs(se.button,{onClick:()=>t(s),whileHover:{scale:1.05},whileTap:{scale:.95},className:xe("w-8 h-8 rounded-md flex items-center justify-center transition-all duration-150 relative group",e===s?"bg-matrix-900/50 text-matrix-400 shadow-glow-sm":"text-dark-muted hover:text-matrix-400 hover:bg-dark-hover/50"),title:a,children:[u.jsx(i,{className:"w-4 h-4"}),e===s&&u.jsx(se.div,{layoutId:"activeTab",className:"absolute -right-px top-1.5 bottom-1.5 w-0.5 bg-matrix-500 rounded-l",transition:{type:"spring",stiffness:500,damping:30}}),u.jsx("span",{className:"absolute left-full ml-2 px-2 py-1 bg-dark-elevated/95 backdrop-blur-sm border border-dark-border/50 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 shadow-lg",children:a})]},s)),u.jsx("div",{className:"flex-1"}),u.jsxs(se.button,{onClick:()=>n(),whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-8 h-8 rounded-md flex items-center justify-center text-matrix-500 hover:bg-matrix-900/50 hover:text-matrix-400 transition-all duration-150 group relative",title:"New Connection",children:[u.jsx(yn,{className:"w-4 h-4"}),u.jsx("span",{className:"absolute left-full ml-2 px-2 py-1 bg-dark-elevated/95 backdrop-blur-sm border border-dark-border/50 rounded text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50 shadow-lg",children:"New Connection"})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 border-b border-dark-border/50 bg-dark-elevated/30",children:u.jsx("h2",{className:"text-xs font-semibold text-matrix-400/90 uppercase tracking-wider",children:(r=cp.find(s=>s.id===e))==null?void 0:r.label})}),u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsxs(se.div,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{duration:.12},className:"h-full",children:[e==="explorer"&&u.jsx(DT,{}),e==="saved-queries"&&u.jsx(zT,{}),e==="history"&&u.jsx($T,{})]},e)})]})]})}function dp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function VT(e){if(Array.isArray(e))return e}function BT(e,t,n){return(t=GT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UT(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,a,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return o}}function WT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fp(Object(n),!0).forEach(function(r){BT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HT(e,t){if(e==null)return{};var n,r,s=qT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function qT(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QT(e,t){return VT(e)||UT(e,t)||YT(e,t)||WT()}function KT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GT(e){var t=KT(e,"string");return typeof t=="symbol"?t:t+""}function YT(e,t){if(e){if(typeof e=="string")return dp(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dp(e,t):void 0}}function XT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hp(Object(n),!0).forEach(function(r){XT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(s,i){return i(s)},r)}}function Bs(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t.apply(n,[].concat(s,o))}}}function go(e){return{}.toString.call(e).includes("Object")}function ZT(e){return!Object.keys(e).length}function Ai(e){return typeof e=="function"}function ej(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function tj(e,t){return go(t)||$n("changeType"),Object.keys(t).some(function(n){return!ej(e,n)})&&$n("changeField"),t}function nj(e){Ai(e)||$n("selectorType")}function rj(e){Ai(e)||go(e)||$n("handlerType"),go(e)&&Object.values(e).some(function(t){return!Ai(t)})&&$n("handlersType")}function sj(e){e||$n("initialIsRequired"),go(e)||$n("initialType"),ZT(e)&&$n("initialContent")}function ij(e,t){throw new Error(e[t]||e.default)}var aj={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},$n=Bs(ij)(aj),ma={changes:tj,selector:nj,handler:rj,initial:sj};function oj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ma.initial(e),ma.handler(t);var n={current:e},r=Bs(cj)(n,t),s=Bs(uj)(n),i=Bs(ma.changes)(e),a=Bs(lj)(n);function o(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return ma.selector(c),c(n.current)}function l(c){JT(r,s,i,a)(c)}return[o,l]}function lj(e,t){return Ai(t)?t(e.current):t}function uj(e,t){return e.current=pp(pp({},e.current),t),t}function cj(e,t,n){return Ai(t)?t(e.current):Object.keys(n).forEach(function(r){var s;return(s=t[r])===null||s===void 0?void 0:s.call(t,e.current[r])}),n}var dj={create:oj},fj={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function mj(e){return function t(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=e.length?e.apply(this,s):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t.apply(n,[].concat(s,o))}}}function hj(e){return{}.toString.call(e).includes("Object")}function pj(e){return e||gp("configIsRequired"),hj(e)||gp("configType"),e.urls?(gj(),{paths:{vs:e.urls.monacoBase}}):e}function gj(){console.warn(u0.deprecation)}function yj(e,t){throw new Error(e[t]||e.default)}var u0={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},gp=mj(yj)(u0),xj={config:pj},vj=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(s){return n.reduceRight(function(i,a){return a(i)},s)}};function c0(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],c0(e[n],t[n]))}),mp(mp({},e),t)}var bj={type:"cancelation",msg:"operation is manually canceled"};function Hl(e){var t=!1,n=new Promise(function(r,s){e.then(function(i){return t?s(bj):r(i)}),e.catch(s)});return n.cancel=function(){return t=!0},n}var wj=["monaco"],Sj=dj.create({config:fj,isInitialized:!1,resolve:null,reject:null,monaco:null}),d0=QT(Sj,2),Vi=d0[0],Ho=d0[1];function Ej(e){var t=xj.config(e),n=t.monaco,r=HT(t,wj);Ho(function(s){return{config:c0(s.config,r),monaco:n}})}function Nj(){var e=Vi(function(t){var n=t.monaco,r=t.isInitialized,s=t.resolve;return{monaco:n,isInitialized:r,resolve:s}});if(!e.isInitialized){if(Ho({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Hl(ql);if(window.monaco&&window.monaco.editor)return f0(window.monaco),e.resolve(window.monaco),Hl(ql);vj(Cj,Tj)(jj)}return Hl(ql)}function Cj(e){return document.body.appendChild(e)}function kj(e){var t=document.createElement("script");return e&&(t.src=e),t}function Tj(e){var t=Vi(function(r){var s=r.config,i=r.reject;return{config:s,reject:i}}),n=kj("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function jj(){var e=Vi(function(n){var r=n.config,s=n.resolve,i=n.reject;return{config:r,resolve:s,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;f0(r),e.resolve(r)},function(n){e.reject(n)})}function f0(e){Vi().monaco||Ho({monaco:e})}function Lj(){return Vi(function(e){var t=e.monaco;return t})}var ql=new Promise(function(e,t){return Ho({resolve:e,reject:t})}),yo={config:Ej,init:Nj,__getMonacoInstance:Lj},Aj={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Ql=Aj,Rj={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Mj=Rj;function Pj({children:e}){return ln.createElement("div",{style:Mj.container},e)}var _j=Pj,Ij=_j;function Oj({width:e,height:t,isEditorReady:n,loading:r,_ref:s,className:i,wrapperProps:a}){return ln.createElement("section",{style:{...Ql.wrapper,width:e,height:t},...a},!n&&ln.createElement(Ij,null,r),ln.createElement("div",{ref:s,style:{...Ql.fullWidth,...!n&&Ql.hide},className:i}))}var Dj=Oj,m0=b.memo(Dj);function $j(e){b.useEffect(e,[])}var cf=$j;function zj(e,t,n=!0){let r=b.useRef(!0);b.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var pt=zj;function ni(){}function Qr(e,t,n,r){return Fj(e,r)||Vj(e,t,n,r)}function Fj(e,t){return e.editor.getModel(h0(e,t))}function Vj(e,t,n,r){return e.editor.createModel(t,n,r?h0(e,r):void 0)}function h0(e,t){return e.Uri.parse(t)}function Bj({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:l=!1,theme:c="light",loading:d="Loading...",options:m={},height:f="100%",width:y="100%",className:v,wrapperProps:w={},beforeMount:x=ni,onMount:p=ni}){let[h,g]=b.useState(!1),[S,E]=b.useState(!0),C=b.useRef(null),k=b.useRef(null),N=b.useRef(null),M=b.useRef(p),T=b.useRef(x),B=b.useRef(!1);cf(()=>{let j=yo.init();return j.then(P=>(k.current=P)&&E(!1)).catch(P=>(P==null?void 0:P.type)!=="cancelation"&&console.error("Monaco initialization: error:",P)),()=>C.current?L():j.cancel()}),pt(()=>{if(C.current&&k.current){let j=C.current.getOriginalEditor(),P=Qr(k.current,e||"",r||n||"text",i||"");P!==j.getModel()&&j.setModel(P)}},[i],h),pt(()=>{if(C.current&&k.current){let j=C.current.getModifiedEditor(),P=Qr(k.current,t||"",s||n||"text",a||"");P!==j.getModel()&&j.setModel(P)}},[a],h),pt(()=>{let j=C.current.getModifiedEditor();j.getOption(k.current.editor.EditorOption.readOnly)?j.setValue(t||""):t!==j.getValue()&&(j.executeEdits("",[{range:j.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),j.pushUndoStop())},[t],h),pt(()=>{var j,P;(P=(j=C.current)==null?void 0:j.getModel())==null||P.original.setValue(e||"")},[e],h),pt(()=>{let{original:j,modified:P}=C.current.getModel();k.current.editor.setModelLanguage(j,r||n||"text"),k.current.editor.setModelLanguage(P,s||n||"text")},[n,r,s],h),pt(()=>{var j;(j=k.current)==null||j.editor.setTheme(c)},[c],h),pt(()=>{var j;(j=C.current)==null||j.updateOptions(m)},[m],h);let X=b.useCallback(()=>{var J;if(!k.current)return;T.current(k.current);let j=Qr(k.current,e||"",r||n||"text",i||""),P=Qr(k.current,t||"",s||n||"text",a||"");(J=C.current)==null||J.setModel({original:j,modified:P})},[n,t,s,e,r,i,a]),Q=b.useCallback(()=>{var j;!B.current&&N.current&&(C.current=k.current.editor.createDiffEditor(N.current,{automaticLayout:!0,...m}),X(),(j=k.current)==null||j.editor.setTheme(c),g(!0),B.current=!0)},[m,c,X]);b.useEffect(()=>{h&&M.current(C.current,k.current)},[h]),b.useEffect(()=>{!S&&!h&&Q()},[S,h,Q]);function L(){var P,J,R,O;let j=(P=C.current)==null?void 0:P.getModel();o||((J=j==null?void 0:j.original)==null||J.dispose()),l||((R=j==null?void 0:j.modified)==null||R.dispose()),(O=C.current)==null||O.dispose()}return ln.createElement(m0,{width:y,height:f,isEditorReady:h,loading:d,_ref:N,className:v,wrapperProps:w})}var Uj=Bj;b.memo(Uj);function Wj(){let[e,t]=b.useState(yo.__getMonacoInstance());return cf(()=>{let n;return e||(n=yo.init(),n.then(r=>{t(r)})),()=>n==null?void 0:n.cancel()}),e}var Hj=Wj;function qj(e){let t=b.useRef();return b.useEffect(()=>{t.current=e},[e]),t.current}var Qj=qj,ha=new Map;function Kj({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:s,path:i,theme:a="light",line:o,loading:l="Loading...",options:c={},overrideServices:d={},saveViewState:m=!0,keepCurrentModel:f=!1,width:y="100%",height:v="100%",className:w,wrapperProps:x={},beforeMount:p=ni,onMount:h=ni,onChange:g,onValidate:S=ni}){let[E,C]=b.useState(!1),[k,N]=b.useState(!0),M=b.useRef(null),T=b.useRef(null),B=b.useRef(null),X=b.useRef(h),Q=b.useRef(p),L=b.useRef(),j=b.useRef(r),P=Qj(i),J=b.useRef(!1),R=b.useRef(!1);cf(()=>{let z=yo.init();return z.then(U=>(M.current=U)&&N(!1)).catch(U=>(U==null?void 0:U.type)!=="cancelation"&&console.error("Monaco initialization: error:",U)),()=>T.current?_():z.cancel()}),pt(()=>{var U,A,D,V;let z=Qr(M.current,e||r||"",t||s||"",i||n||"");z!==((U=T.current)==null?void 0:U.getModel())&&(m&&ha.set(P,(A=T.current)==null?void 0:A.saveViewState()),(D=T.current)==null||D.setModel(z),m&&((V=T.current)==null||V.restoreViewState(ha.get(i))))},[i],E),pt(()=>{var z;(z=T.current)==null||z.updateOptions(c)},[c],E),pt(()=>{!T.current||r===void 0||(T.current.getOption(M.current.editor.EditorOption.readOnly)?T.current.setValue(r):r!==T.current.getValue()&&(R.current=!0,T.current.executeEdits("",[{range:T.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),T.current.pushUndoStop(),R.current=!1))},[r],E),pt(()=>{var U,A;let z=(U=T.current)==null?void 0:U.getModel();z&&s&&((A=M.current)==null||A.editor.setModelLanguage(z,s))},[s],E),pt(()=>{var z;o!==void 0&&((z=T.current)==null||z.revealLine(o))},[o],E),pt(()=>{var z;(z=M.current)==null||z.editor.setTheme(a)},[a],E);let O=b.useCallback(()=>{var z;if(!(!B.current||!M.current)&&!J.current){Q.current(M.current);let U=i||n,A=Qr(M.current,r||e||"",t||s||"",U||"");T.current=(z=M.current)==null?void 0:z.editor.create(B.current,{model:A,automaticLayout:!0,...c},d),m&&T.current.restoreViewState(ha.get(U)),M.current.editor.setTheme(a),o!==void 0&&T.current.revealLine(o),C(!0),J.current=!0}},[e,t,n,r,s,i,c,d,m,a,o]);b.useEffect(()=>{E&&X.current(T.current,M.current)},[E]),b.useEffect(()=>{!k&&!E&&O()},[k,E,O]),j.current=r,b.useEffect(()=>{var z,U;E&&g&&((z=L.current)==null||z.dispose(),L.current=(U=T.current)==null?void 0:U.onDidChangeModelContent(A=>{R.current||g(T.current.getValue(),A)}))},[E,g]),b.useEffect(()=>{if(E){let z=M.current.editor.onDidChangeMarkers(U=>{var D;let A=(D=T.current.getModel())==null?void 0:D.uri;if(A&&U.find(V=>V.path===A.path)){let V=M.current.editor.getModelMarkers({resource:A});S==null||S(V)}});return()=>{z==null||z.dispose()}}return()=>{}},[E,S]);function _(){var z,U;(z=L.current)==null||z.dispose(),f?m&&ha.set(i,T.current.saveViewState()):(U=T.current.getModel())==null||U.dispose(),T.current.dispose()}return ln.createElement(m0,{width:y,height:v,isEditorReady:E,loading:l,_ref:B,className:w,wrapperProps:x})}var Gj=Kj,Yj=b.memo(Gj),p0=Yj;function yp(){return{from:{name:"",schema:void 0,alias:void 0},joins:[],select:[],groupBy:[],orderBy:[]}}function Xj(){return{operator:"AND",conditions:[]}}const Bt=Zt(e=>({isOpen:!1,model:yp(),open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),reset:()=>e({model:yp()}),setFromTable:t=>e(n=>({model:{...n.model,from:t}})),addJoin:t=>e(n=>({model:{...n.model,joins:[...n.model.joins,t]}})),removeJoin:t=>e(n=>({model:{...n.model,joins:n.model.joins.filter((r,s)=>s!==t)}})),updateJoin:(t,n)=>e(r=>({model:{...r.model,joins:r.model.joins.map((s,i)=>i===t?n:s)}})),addColumn:t=>e(n=>({model:{...n.model,select:[...n.model.select,t]}})),removeColumn:t=>e(n=>({model:{...n.model,select:n.model.select.filter((r,s)=>s!==t)}})),toggleColumn:t=>e(n=>n.model.select.some(s=>s.table===t.table&&s.column===t.column)?{model:{...n.model,select:n.model.select.filter(s=>!(s.table===t.table&&s.column===t.column))}}:{model:{...n.model,select:[...n.model.select,t]}}),setWhere:t=>e(n=>({model:{...n.model,where:t}})),addCondition:t=>e(n=>{const r=n.model.where||Xj();return{model:{...n.model,where:{...r,conditions:[...r.conditions,t]}}}}),removeCondition:t=>e(n=>n.model.where?{model:{...n.model,where:{...n.model.where,conditions:n.model.where.conditions.filter((r,s)=>s!==t)}}}:n),addGroupBy:t=>e(n=>({model:{...n.model,groupBy:[...n.model.groupBy,t]}})),removeGroupBy:t=>e(n=>({model:{...n.model,groupBy:n.model.groupBy.filter((r,s)=>s!==t)}})),addOrderBy:t=>e(n=>({model:{...n.model,orderBy:[...n.model.orderBy,t]}})),removeOrderBy:t=>e(n=>({model:{...n.model,orderBy:n.model.orderBy.filter((r,s)=>s!==t)}})),updateOrderBy:(t,n)=>e(r=>({model:{...r.model,orderBy:r.model.orderBy.map((s,i)=>i===t?n:s)}})),setLimit:t=>e(n=>({model:{...n.model,limit:t}}))})),rr=class rr{parse(t,n){const r=this.extractAliases(t),s=this.detectCursorContext(t,n),{currentWord:i,prefix:a}=this.extractCurrentWord(t,n);return{aliases:r,cursorContext:s,currentWord:i,prefix:a}}extractAliases(t){const n=new Map,r=t.replace(/\s+/g," ");let s;for(rr.TABLE_ALIAS_PATTERN.lastIndex=0;(s=rr.TABLE_ALIAS_PATTERN.exec(r))!==null;){const i=s[1],a=s[2];this.isKeyword(a)||n.set(a.toLowerCase(),i)}return n}detectCursorContext(t,n){const r=t.substring(0,n).toUpperCase(),s=[{pattern:/\bSELECT\b(?!.*\bFROM\b)/i,context:"select_columns"},{pattern:/\b(?:FROM|JOIN)\s+[^,]*$/i,context:"from_clause"},{pattern:/\bWHERE\b(?!.*\b(?:ORDER|GROUP)\b)/i,context:"where_clause"},{pattern:/\bON\s+[^,]*$/i,context:"join_condition"},{pattern:/\bORDER\s+BY\b/i,context:"order_by"},{pattern:/\bGROUP\s+BY\b/i,context:"group_by"}];for(const{pattern:i,context:a}of s)if(i.test(r))return a;return"general"}extractCurrentWord(t,n){const s=t.substring(0,n).match(/([a-zA-Z_][a-zA-Z0-9_]*)?\.?([a-zA-Z_][a-zA-Z0-9_]*)?$/);if(!s)return{currentWord:""};const i=s[0];if(i.includes(".")){const a=i.split(".");return{prefix:a[0],currentWord:a[1]||""}}return{currentWord:i}}isKeyword(t){return rr.CONTEXT_KEYWORDS.includes(t.toUpperCase())}resolveAlias(t,n){return t.get(n.toLowerCase())||n}};Ie(rr,"TABLE_ALIAS_PATTERN",/(?:FROM|JOIN)\s+([a-zA-Z_][a-zA-Z0-9_]*(?:\.[a-zA-Z_][a-zA-Z0-9_]*)?)\s+(?:AS\s+)?([a-zA-Z_][a-zA-Z0-9_]*)/gi),Ie(rr,"CONTEXT_KEYWORDS",["SELECT","FROM","JOIN","LEFT","RIGHT","INNER","OUTER","CROSS","WHERE","AND","OR","ON","ORDER","BY","GROUP","HAVING","LIMIT","OFFSET","INSERT","UPDATE","DELETE","SET","VALUES","INTO"]);let xc=rr;const g0=new xc;class xp{formatTableName(t){return t.schema&&t.schema!=="public"?`${t.schema}.${t.name}`:t.name}formatSchemaName(t){return t}getSeparator(){return"."}supportsSchemas(){return!0}getKeywords(){return["SELECT","FROM","WHERE","JOIN","LEFT JOIN","RIGHT JOIN","INNER JOIN","OUTER JOIN","CROSS JOIN","ON","AND","OR","ORDER BY","GROUP BY","HAVING","LIMIT","OFFSET","AS","INSERT INTO","VALUES","UPDATE","SET","DELETE FROM","CREATE TABLE","ALTER TABLE","DROP TABLE","TRUNCATE","DISTINCT","COUNT","SUM","AVG","MIN","MAX","CASE","WHEN","THEN","ELSE","END","NULL","NOT NULL","PRIMARY KEY","FOREIGN KEY","REFERENCES","UNIQUE","INDEX","RETURNING","WITH","RECURSIVE","UNION","INTERSECT","EXCEPT","COALESCE","NULLIF","CAST","EXTRACT","DATE_TRUNC","ARRAY","JSONB","JSON","LATERAL","FILTER","OVER","PARTITION BY"]}}class Jj{formatTableName(t){return t.database?`${t.database}.${t.name}`:t.name}formatSchemaName(t){return t}getSeparator(){return"."}supportsSchemas(){return!0}getKeywords(){return["SELECT","FROM","WHERE","JOIN","LEFT JOIN","RIGHT JOIN","INNER JOIN","OUTER JOIN","CROSS JOIN","ON","AND","OR","ORDER BY","GROUP BY","HAVING","LIMIT","OFFSET","AS","INSERT INTO","VALUES","UPDATE","SET","DELETE FROM","CREATE TABLE","ALTER TABLE","DROP TABLE","TRUNCATE","DISTINCT","COUNT","SUM","AVG","MIN","MAX","CASE","WHEN","THEN","ELSE","END","NULL","NOT NULL","PRIMARY KEY","FOREIGN KEY","REFERENCES","UNIQUE","INDEX","AUTO_INCREMENT","ENGINE","CHARSET","COLLATE","IF EXISTS","IF NOT EXISTS","REPLACE INTO","ON DUPLICATE KEY","COALESCE","IFNULL","NULLIF","CAST","CONVERT","DATE_FORMAT","STR_TO_DATE","NOW","CURDATE","CURTIME","JSON","JSON_EXTRACT","JSON_OBJECT","JSON_ARRAY"]}}class Zj{formatTableName(t){return t.name}formatSchemaName(t){return t}getSeparator(){return"."}supportsSchemas(){return!1}getKeywords(){return["SELECT","FROM","WHERE","JOIN","LEFT JOIN","CROSS JOIN","INNER JOIN","NATURAL JOIN","ON","AND","OR","ORDER BY","GROUP BY","HAVING","LIMIT","OFFSET","AS","INSERT INTO","VALUES","UPDATE","SET","DELETE FROM","CREATE TABLE","ALTER TABLE","DROP TABLE","DISTINCT","COUNT","SUM","AVG","MIN","MAX","TOTAL","CASE","WHEN","THEN","ELSE","END","NULL","NOT NULL","PRIMARY KEY","FOREIGN KEY","REFERENCES","UNIQUE","AUTOINCREMENT","WITHOUT ROWID","STRICT","IF EXISTS","IF NOT EXISTS","REPLACE INTO","INSERT OR REPLACE","COALESCE","IFNULL","NULLIF","TYPEOF","CAST","DATE","TIME","DATETIME","JULIANDAY","STRFTIME","JSON","JSON_EXTRACT","JSON_OBJECT","JSON_ARRAY","GLOB","LIKE","BETWEEN","IN","EXISTS"]}}function y0(e){switch(e){case"postgresql":return new xp;case"mysql":return new Jj;case"sqlite":return new Zj;default:return new xp}}function Kl(e,t,n){return(n?e.searchTables(n):e.getTables()).map((s,i)=>({label:t.formatTableName(s),insertText:t.formatTableName(s),kind:s.type==="view"?"view":"table",detail:s.type==="view"?"View":"Table",documentation:s.schema?`Schema: ${s.schema}`:void 0,sortOrder:i}))}function vp(e,t){return t.supportsSchemas()?e.getSchemas().map((n,r)=>({label:t.formatSchemaName(n),insertText:t.formatSchemaName(n),kind:"schema",detail:"Schema",sortOrder:r})):[]}function eL(e,t,n){return(n?e.searchColumns(t,n):e.getColumns(t)).map((s,i)=>({label:s.name,insertText:s.name,kind:"column",detail:s.dataType,documentation:[s.isPrimaryKey?" Primary Key":"",s.nullable?"Nullable":"NOT NULL",s.comment||""].filter(Boolean).join(" | "),sortOrder:s.isPrimaryKey?-1:i}))}function tL(e,t){switch(e){case"schema":return t.languages.CompletionItemKind.Module;case"table":return t.languages.CompletionItemKind.Class;case"view":return t.languages.CompletionItemKind.Interface;case"column":return t.languages.CompletionItemKind.Field;case"keyword":return t.languages.CompletionItemKind.Keyword;default:return t.languages.CompletionItemKind.Text}}function nL(e,t,n){return e.map(r=>({label:r.label,kind:tL(r.kind,n),insertText:r.insertText,detail:r.detail,documentation:r.documentation,sortText:String(r.sortOrder).padStart(5,"0"),range:t}))}function rL(e){const n=y0(me.getEngine()).getKeywords(),r=e.toUpperCase();return n.filter(s=>s.startsWith(r)).map((s,i)=>({label:s,insertText:s,kind:"keyword",detail:"Keyword",sortOrder:100+i}))}function sL(e,t,n,r){const s=y0(me.getEngine()),i=[];if(n){const a=g0.resolveAlias(r,n);return eL(me,a,t)}switch(e){case"from_clause":i.push(...vp(me,s)),i.push(...Kl(me,s,t));break;case"select_columns":case"where_clause":case"join_condition":case"order_by":case"group_by":for(const[a,o]of r)i.push({label:a,insertText:a,kind:"table",detail:`Alias  ${o}`,sortOrder:0});i.push(...Kl(me,s,t));break;case"general":default:i.push(...rL(t)),i.push(...vp(me,s)),i.push(...Kl(me,s,t));break}return i}function iL(e){let t="",n=0,r=null;return{triggerCharacters:["."," "],provideCompletionItems(s,i){if(me.isEmpty())return{suggestions:[]};const a=s.getValue(),o=s.getOffsetAt(i),l=a!==t,c=Math.abs(o-n)>5;(l||c||!r)&&(r=g0.parse(a,o),t=a,n=o);const{aliases:d,cursorContext:m,currentWord:f,prefix:y}=r,v=s.getWordUntilPosition(i),w={startLineNumber:i.lineNumber,startColumn:y?i.column-f.length-y.length-1:v.startColumn,endLineNumber:i.lineNumber,endColumn:i.column},x=sL(m,f,y,d);return{suggestions:nL(x,w,e)}}}}function aL(e){return e.languages.registerCompletionItemProvider("sql",iL(e))}function oL(e){var m;const t=b.useRef(null),{connections:n,activeConnectionId:r}=_e(),{nodes:s}=a0(),i=yt(f=>{var y;return r?((y=f.byConnection[r])==null?void 0:y.schemas)||[]:[]}),a=yt(f=>{var y;return r?((y=f.byConnection[r])==null?void 0:y.tables)||[]:[]}),o=yt(f=>{var y;return r&&((y=f.byConnection[r])==null?void 0:y.selectedDatabase)||null}),l=yt(f=>{var y;return r&&((y=f.byConnection[r])==null?void 0:y.selectedTable)||null}),c=n.find(f=>f.id===r),d=(m=c==null?void 0:c.engine)!=null?m:"postgresql";b.useEffect(()=>{const f=[],y=[];for(const[,x]of Object.entries(s)){if(x.type==="schema"&&x.metadata){const h={name:x.metadata.schema,tables:[],views:[],functions:[],sequences:[],is_system:x.metadata.isSystem||!1};y.push(h)}if(x.type==="table"&&x.metadata){const p=x.name,h=x.metadata.schema;if(x.metadata.connectionId===r){const S={name:p,schema:h,columns:[],foreign_keys:[],indexes:[],constraints:[],triggers:[]};f.push(S)}}if(x.type==="view"&&x.metadata){const p=x.name,h=x.metadata.schema;if(x.metadata.connectionId===r){const S={name:p,schema:h,columns:[],foreign_keys:[],indexes:[],constraints:[],triggers:[]};f.push(S)}}}const v=[...i];for(const x of y)v.find(p=>p.name===x.name)||v.push(x);let w;if(f.length>a.length){w=[...f];for(const x of a){const p=x.schema?`${x.schema}.${x.name}`:x.name,h=w.findIndex(g=>(g.schema?`${g.schema}.${g.name}`:g.name)===p);h>=0&&x.columns.length>0?w[h]=x:h<0&&w.push(x)}}else{w=[...a];for(const x of f){const p=x.schema?`${x.schema}.${x.name}`:x.name;w.find(g=>(g.schema?`${g.schema}.${g.name}`:g.name)===p)||w.push(x)}}r&&me.update(r,d,o!=null?o:void 0,v,w)},[d,o,i,a,s,r]),b.useEffect(()=>{l&&me.updateTable(l)},[l]),b.useEffect(()=>{if(e)return t.current&&t.current.dispose(),t.current=aL(e),()=>{t.current&&(t.current.dispose(),t.current=null)}},[e]),b.useEffect(()=>{r||me.clear()},[r])}const Rs=new Map,lL=50;function df(e){const t=Rs.get(e);if(t)return t;const n=[];let r="",s=0,i=1,a=1,o=!1,l=!1,c=!1,d=!1,m=!1;for(let y=0;y<e.length;y++){const v=e[y],w=e[y+1];if(v===`
`&&(a++,c&&(c=!1)),m){r+=v,m=!1;continue}if(v==="\\"&&(o||l)){m=!0,r+=v;continue}if(!o&&!l){if(v==="-"&&w==="-"){c=!0,r+=v;continue}if(v==="/"&&w==="*"){d=!0,r+=v;continue}if(d&&v==="*"&&w==="/"){r+=v+w,y++,d=!1;continue}}if(c||d){r+=v;continue}if(v==="'"&&!l){o=!o,r+=v;continue}if(v==='"'&&!o){l=!l,r+=v;continue}if(v===";"&&!o&&!l){r+=v;const x=r.trim();x&&x!==";"&&n.push({sql:x,startLine:i,endLine:a,startOffset:s,endOffset:y+1}),r="",s=y+1,i=a;continue}r+=v}const f=r.trim();if(f&&n.push({sql:f,startLine:i,endLine:a,startOffset:s,endOffset:e.length}),Rs.size>=lL){const y=Rs.keys().next().value;y!==void 0&&Rs.delete(y)}return Rs.set(e,n),n}function x0(e,t){const n=df(e);for(let r=0;r<n.length;r++){const s=n[r];if(t>=s.startOffset&&t<=s.endOffset)return{statement:s,index:r}}return null}const uL=Object.freeze(Object.defineProperty({__proto__:null,findStatementAtCursor:x0,parseMultipleStatements:df},Symbol.toStringTag,{value:"Module"}));async function Y(e){return ne("tauri",e)}async function cL(e={}){return typeof e=="object"&&Object.freeze(e),Y({__tauriModule:"Dialog",message:{cmd:"openDialog",options:e}})}async function _a(e={}){return typeof e=="object"&&Object.freeze(e),Y({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:e}})}var bp;(function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Desktop=6]="Desktop",e[e.Document=7]="Document",e[e.Download=8]="Download",e[e.Executable=9]="Executable",e[e.Font=10]="Font",e[e.Home=11]="Home",e[e.Picture=12]="Picture",e[e.Public=13]="Public",e[e.Runtime=14]="Runtime",e[e.Template=15]="Template",e[e.Video=16]="Video",e[e.Resource=17]="Resource",e[e.App=18]="App",e[e.Log=19]="Log",e[e.Temp=20]="Temp",e[e.AppConfig=21]="AppConfig",e[e.AppData=22]="AppData",e[e.AppLocalData=23]="AppLocalData",e[e.AppCache=24]="AppCache",e[e.AppLog=25]="AppLog"})(bp||(bp={}));async function dL(e,t={}){return Y({__tauriModule:"Fs",message:{cmd:"readTextFile",path:e,options:t}})}async function vc(e,t,n){typeof e=="object"&&Object.freeze(e);const r={path:"",contents:""};let s=n;return typeof e=="string"?r.path=e:(r.path=e.path,r.contents=e.contents),typeof t=="string"?r.contents=t!=null?t:"":s=t,Y({__tauriModule:"Fs",message:{cmd:"writeFile",path:r.path,contents:Array.from(new TextEncoder().encode(r.contents)),options:s}})}function fL({tab:e}){const{updateQuery:t,executeQuery:n,executeMultiStatement:r,cancelQuery:s}=rt(),i=Bt(C=>C.open),a=Hj(),o=b.useRef(null),{connections:l,activeConnectionId:c}=_e();oL(a),b.useEffect(()=>{const C=l.find(k=>k.id===c);!c||!C||!me.isEmpty()||Li(C)},[c,l]);const d=b.useMemo(()=>e.query.trim()?df(e.query):[],[e.query]),m=d.length>1,f=b.useCallback(C=>{t(e.id,C||"")},[e.id,t]),y=b.useRef(()=>{}),v=b.useRef(()=>{}),w=b.useCallback(()=>{if(!o.current){n(e.id);return}const C=o.current.getPosition(),k=o.current.getModel().getOffsetAt(C),N=x0(e.query,k);N?n(e.id,N.statement.sql):n(e.id)},[e.id,e.query,n]),x=b.useCallback(()=>{d.length>1?r(e.id):n(e.id)},[e.id,d.length,r,n]);b.useEffect(()=>{y.current=w,v.current=x},[w,x]);const p=b.useCallback((C,k)=>{o.current=C,k.editor.defineTheme("queryx-dark",{base:"vs-dark",inherit:!0,rules:[{token:"keyword",foreground:"00e676",fontStyle:"bold"},{token:"operator",foreground:"00e676"},{token:"string",foreground:"a5d6ff"},{token:"comment",foreground:"6272a4",fontStyle:"italic"},{token:"number",foreground:"bd93f9"},{token:"delimiter",foreground:"f8f8f2"}],colors:{"editor.background":"#00000000","editor.lineHighlightBackground":"#00e67610","editorCursor.foreground":"#00e676","editor.selectionBackground":"#00e67630"}}),k.editor.setTheme("queryx-dark"),C.addCommand(k.KeyMod.CtrlCmd|k.KeyCode.Enter,()=>{y.current()}),C.addCommand(k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.Enter,()=>{v.current()})},[]),h=b.useCallback(()=>{s(e.id)},[e.id,s]),g=b.useCallback(async()=>{const C=await _a({filters:[{name:"SQL",extensions:["sql"]}],defaultPath:"query.sql"});C&&await vc(C,e.query||"")},[e.query]),S=b.useCallback(async()=>{const C=await cL({filters:[{name:"SQL",extensions:["sql"]}],multiple:!1});if(!C||Array.isArray(C))return;const k=await dL(C);t(e.id,k)},[e.id,t]),E=b.useCallback(C=>{(C.ctrlKey||C.metaKey)&&C.key==="Enter"&&(C.preventDefault(),C.shiftKey?x():w())},[w,x]);return u.jsxs("div",{className:"h-full flex flex-col bg-dark-bg",onKeyDown:E,children:[u.jsxs(se.div,{initial:{y:-5,opacity:0},animate:{y:0,opacity:1},transition:{duration:.15},className:"flex items-center justify-between px-3 py-1.5 bg-dark-surface/70 backdrop-blur-md border-b border-dark-border/30",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[e.isExecuting?u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,className:"btn btn-danger flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",children:[u.jsx(Jv,{className:"w-3 h-3"}),"Cancel"]}):u.jsxs(u.Fragment,{children:[u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:w,disabled:!e.query.trim(),className:"btn btn-primary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7 shadow-glow-sm",title:"Run current statement (Ctrl+Enter)",children:[u.jsx(lf,{className:"w-3 h-3"}),"Run"]}),m&&u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:x,className:"btn btn-secondary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",title:"Run all statements (Ctrl+Shift+Enter)",children:[u.jsx(Ck,{className:"w-3 h-3"}),"Run All (",d.length,")"]})]}),u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:S,className:"btn btn-secondary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",title:"Abrir .sql",children:[u.jsx(fc,{className:"w-3 h-3"}),"Abrir"]}),u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:g,className:"btn btn-secondary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",title:"Guardar .sql",children:[u.jsx(uf,{className:"w-3 h-3"}),"Guardar"]}),u.jsxs(se.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"btn btn-secondary flex items-center gap-1.5 text-xs py-1 px-2.5 h-7",title:"Visual Query Builder (Ctrl+Shift+B)",children:[u.jsx(yk,{className:"w-3 h-3"}),"Builder"]}),e.isExecuting&&u.jsxs(se.div,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},exit:{opacity:0,x:-5},className:"flex items-center gap-1.5 text-matrix-400 ml-1",children:[u.jsx(Gv,{className:"w-3.5 h-3.5 animate-spin"}),u.jsx("span",{className:"text-xs font-medium",children:"Executing..."})]})]}),u.jsxs("div",{className:"flex items-center gap-2.5 text-xs text-dark-muted/60",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Wv,{className:"w-3 h-3 text-matrix-500/70"}),u.jsx("span",{className:"text-[11px]",children:"SQL Editor"})]}),u.jsx("div",{className:"h-3 w-px bg-dark-border/30"}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("kbd",{className:"text-[10px] px-1.5 py-0.5",children:"Ctrl+Enter"}),u.jsx("span",{className:"text-[11px]",children:"Run"})]}),m&&u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("kbd",{className:"text-[10px] px-1.5 py-0.5",children:"Ctrl+Shift+Enter"}),u.jsx("span",{className:"text-[11px]",children:"Run All"})]})})]})]}),u.jsx("div",{className:"flex-1 relative",children:u.jsx(p0,{height:"100%",defaultLanguage:"sql",value:e.query,onChange:f,onMount:p,theme:"queryx-dark",options:{minimap:{enabled:!1},fontSize:14,fontFamily:"JetBrains Mono, Fira Code, Consolas, monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,wordWrap:"on",padding:{top:12,bottom:12},suggestOnTriggerCharacters:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},lineHeight:21,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",smoothScrolling:!0,renderLineHighlight:"line",renderWhitespace:"selection",folding:!0,foldingHighlight:!0,bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0},acceptSuggestionOnCommitCharacter:!0,acceptSuggestionOnEnter:"on",accessibilitySupport:"off",codeLens:!1,contextmenu:!0,fastScrollSensitivity:5,formatOnPaste:!1,formatOnType:!1,glyphMargin:!1,hover:{enabled:!0,delay:300},links:!1,mouseWheelZoom:!1,occurrencesHighlight:"off",overviewRulerBorder:!1,overviewRulerLanes:0,quickSuggestionsDelay:100,renderControlCharacters:!1,renderFinalNewline:"off",renderLineHighlightOnlyWhenFocus:!0,renderValidationDecorations:"on",scrollbar:{useShadows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10},selectionHighlight:!1,snippetSuggestions:"top",suggest:{filterGraceful:!0,localityBonus:!0,shareSuggestSelections:!1,showIcons:!0},suggestFontSize:13,suggestLineHeight:20,wordBasedSuggestions:"off"}})})]})}function mL(e){const t=e.trim().toUpperCase();if(!t.startsWith("SELECT")&&!t.startsWith("WITH"))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Only SELECT queries can be edited"};if(t.includes(" JOIN ")||t.includes(" INNER JOIN ")||t.includes(" LEFT JOIN ")||t.includes(" RIGHT JOIN ")||t.includes(" FULL JOIN ")||t.includes(" CROSS JOIN "))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with JOINs cannot be edited"};if(t.includes(" GROUP BY "))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with GROUP BY cannot be edited"};if(t.includes("SELECT DISTINCT"))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with DISTINCT cannot be edited"};if(t.includes(" UNION "))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with UNION cannot be edited"};const n=["COUNT(","SUM(","AVG(","MIN(","MAX("];for(const s of n)if(t.includes(s))return{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Queries with aggregate functions cannot be edited"};const r=hL(e);return r.tableName?{isEditable:!0,tableName:r.tableName,schemaName:r.schemaName,primaryKeyColumns:[]}:{isEditable:!1,tableName:null,schemaName:null,primaryKeyColumns:[],reason:"Could not determine table name"}}function hL(e){const t=/FROM\s+(?:([a-zA-Z_][a-zA-Z0-9_]*|"[^"]+"|`[^`]+`)\.)?([a-zA-Z_][a-zA-Z0-9_]*|"[^"]+"|`[^`]+`)(?:\s+(?:AS\s+)?[a-zA-Z_][a-zA-Z0-9_]*)?(?:\s|$|,)/i,n=e.match(t);if(!n)return{tableName:null,schemaName:null};const r=n[1]?wp(n[1]):null;return{tableName:wp(n[2]),schemaName:r}}function wp(e){return e.replace(/^["'`]|["'`]$/g,"")}function pL(e,t,n,r,s){const i=t?sn(t,s)+"."+sn(e,s):sn(e,s),a=[];for(const[l,c]of n.entries())a.push(`${sn(l,s)} = ${bc(c)}`);const o=[];for(const[l,c]of r.entries())o.push(`${sn(l,s)} = ${bc(c)}`);if(o.length===0)throw new Error("Cannot generate UPDATE without primary key values");return`UPDATE ${i}
SET ${a.join(", ")}
WHERE ${o.join(" AND ")};`}function gL(e,t,n,r){const s=t?sn(t,r)+"."+sn(e,r):sn(e,r),i=[];for(const[a,o]of n.entries())i.push(`${sn(a,r)} = ${bc(o)}`);if(i.length===0)throw new Error("Cannot generate DELETE without primary key values");return`DELETE FROM ${s}
WHERE ${i.join(" AND ")};`}function sn(e,t){switch(t){case"mysql":return`\`${e}\``;case"postgresql":case"sqlite":case"sqlserver":return`"${e}"`;default:return`"${e}"`}}function bc(e){return e==null?"NULL":typeof e=="string"?`'${e.replace(/'/g,"''")}'`:typeof e=="boolean"?e?"TRUE":"FALSE":typeof e=="number"?String(e):e instanceof Date?`'${e.toISOString()}'`:`'${JSON.stringify(e).replace(/'/g,"''")}'`}function qo(e){var t;switch(e.type){case"Null":return null;case"Bool":case"Int":case"Float":case"Uuid":case"Date":case"Time":case"DateTime":return(t=e.value)!=null?t:null;case"String":return e.value;case"Json":return e.value;case"Bytes":return(e.value||[]).map(n=>String(n)).join(",");case"Array":return JSON.stringify(e.value.map(n=>qo(n)));default:return null}}function Sp(e,t){if(e==null)return"";const n=typeof e=="string"?e:JSON.stringify(e);return n.includes(t)||n.includes(`
`)||n.includes("\r")||n.includes('"')?`"${n.replace(/"/g,'""')}"`:n}function yL(e,t=","){const n=e.columns.map(s=>Sp(s.name,t)).join(t),r=e.rows.map(s=>s.map(i=>Sp(qo(i),t)).join(t));return[n,...r].join(`
`)}function pa(e,t){return t==="mysql"?`\`${e}\``:`"${e}"`}function xL(e,t){return e==null?"NULL":typeof e=="number"?String(e):typeof e=="boolean"?e?"TRUE":"FALSE":`'${(typeof e=="string"?e:JSON.stringify(e)).replace(/'/g,"''")}'`}function vL(e,t,n){const r=(n==null?void 0:n.schema)||null,s=(n==null?void 0:n.table)||null,i=s?r?`${pa(r,t)}.${pa(s,t)}`:`${pa(s,t)}`:"/* set table name */",a=e.columns.map(l=>pa(l.name,t)).join(", ");return e.rows.map(l=>{const c=l.map(d=>xL(qo(d))).join(", ");return`INSERT INTO ${i} (${a}) VALUES (${c});`}).join(`
`)}function bL(e){const t=e.columns.map(r=>r.name),n=e.rows.map(r=>r.map(s=>{const i=qo(s);return typeof i=="object"&&i!==null?JSON.stringify(i):i}));return{columns:t,rows:n}}class wc{constructor(t){this.engine=t}compile(t){const n=[];return n.push(this.compileSelect(t.select)),n.push(this.compileFrom(t.from)),t.joins.length>0&&n.push(this.compileJoins(t.joins)),t.where&&t.where.conditions.length>0&&n.push(this.compileWhere(t.where)),t.groupBy.length>0&&n.push(this.compileGroupBy(t.groupBy)),t.orderBy.length>0&&n.push(this.compileOrderBy(t.orderBy)),t.limit!==void 0&&t.limit>0&&n.push(this.compileLimit(t.limit)),n.join(`
`)+";"}compileSelect(t){return t.length===0?"SELECT *":`SELECT ${t.map(r=>{const s=this.quoteIdentifier(r.column),i=r.table?`${this.quoteIdentifier(r.table)}.`:"",a=r.alias?` AS ${this.quoteIdentifier(r.alias)}`:"";return`${i}${s}${a}`}).join(", ")}`}compileFrom(t){const n=this.formatTableName(t),r=t.alias?` AS ${this.quoteIdentifier(t.alias)}`:"";return`FROM ${n}${r}`}compileJoins(t){return t.map(n=>{const r=this.formatTableName(n.table),s=n.table.alias?` AS ${this.quoteIdentifier(n.table.alias)}`:"",i=`${this.quoteIdentifier(n.on.leftTable)}.${this.quoteIdentifier(n.on.leftColumn)}`,a=`${this.quoteIdentifier(n.on.rightTable)}.${this.quoteIdentifier(n.on.rightColumn)}`;return`${n.type} JOIN ${r}${s} ON ${i} = ${a}`}).join(`
`)}compileWhere(t){const n=this.compileConditionGroup(t);return n?`WHERE ${n}`:""}compileConditionGroup(t){return t.conditions.map(r=>{if("operator"in r&&r.operator==="AND"||r.operator==="OR"){const s=this.compileConditionGroup(r);return s?`(${s})`:""}else return this.compileCondition(r)}).filter(r=>r!=="").join(` ${t.operator} `)}compileCondition(t){const n=`${this.quoteIdentifier(t.column.table)}.${this.quoteIdentifier(t.column.column)}`;switch(t.operator){case"IS NULL":return`${n} IS NULL`;case"IS NOT NULL":return`${n} IS NOT NULL`;case"IN":if(!t.values||t.values.length===0)return"";const r=t.values.map(s=>this.formatValue(s)).join(", ");return`${n} IN (${r})`;case"LIKE":return`${n} LIKE ${this.formatValue(t.value)}`;default:return`${n} ${t.operator} ${this.formatValue(t.value)}`}}compileGroupBy(t){return`GROUP BY ${t.map(r=>`${r.table?`${this.quoteIdentifier(r.table)}.`:""}${this.quoteIdentifier(r.column)}`).join(", ")}`}compileOrderBy(t){return`ORDER BY ${t.map(r=>`${`${r.column.table?`${this.quoteIdentifier(r.column.table)}.`:""}${this.quoteIdentifier(r.column.column)}`} ${r.direction}`).join(", ")}`}compileLimit(t){return`LIMIT ${t}`}formatTableName(t){return t.schema?`${this.quoteIdentifier(t.schema)}.${this.quoteIdentifier(t.name)}`:this.quoteIdentifier(t.name)}quoteIdentifier(t){switch(this.engine){case"postgresql":return`"${t}"`;case"mysql":return`\`${t}\``;case"sqlite":return`"${t}"`;default:return t}}formatValue(t){return t==null?"NULL":typeof t=="string"?`'${t.replace(/'/g,"''")}'`:typeof t=="boolean"?t?"TRUE":"FALSE":String(t)}}const xo=100;function Sc(e){return e.type==="String"?e.value.length>xo:e.type==="Json"?JSON.stringify(e.value).length>xo:!1}function wr(e){return e.type==="Null"?"NULL":e.type==="Bool"?e.value?"true":"false":e.type==="Bytes"?`[${e.value.length} bytes]`:e.type==="Json"?JSON.stringify(e.value,null,2):e.type==="Array"?JSON.stringify(e.value.map(t=>wr(t)),null,2):String(e.value)}function v0(e){const t=wr(e);return t.length>xo?t.substring(0,xo)+"...":t}function Ms(e){return e.type==="Null"?null:e.type==="Bool"||e.type==="Int"||e.type==="Float"||e.type==="String"||e.type==="Json"||e.type==="Date"||e.type==="Time"||e.type==="DateTime"||e.type==="Uuid"||e.type==="Bytes"||e.type==="Array"?e.value:null}function wL(e){if(e.type==="Json")return"json";if(e.type==="String"){const t=e.value.trim();if(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]"))try{return JSON.parse(t),"json"}catch{}if(t.startsWith("<")&&t.includes(">"))return"html"}return"plaintext"}function SL({value:e,columnName:t,onClose:n}){const[r,s]=b.useState(!1),i=wr(e),a=wL(e),o=b.useCallback(()=>{navigator.clipboard.writeText(i),s(!0),setTimeout(()=>s(!1),2e3)},[i]);return u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:n,children:u.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-dark-surface border border-dark-border/50 rounded-lg shadow-2xl w-[800px] max-w-[90vw] h-[600px] max-h-[80vh] flex flex-col",onClick:l=>l.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-dark-border/50 bg-dark-elevated/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-semibold text-matrix-400 text-sm",children:t}),u.jsxs("span",{className:"text-xs text-dark-muted bg-dark-surface/50 px-2 py-0.5 rounded border border-dark-border/30",children:[e.type,"  ",i.length," chars"]})]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsxs(se.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:o,className:"btn btn-ghost px-2 py-1 text-xs flex items-center gap-1",children:[r?u.jsx(sf,{className:"w-3.5 h-3.5 text-matrix-400"}):u.jsx(qv,{className:"w-3.5 h-3.5"}),r?"Copied!":"Copy"]}),u.jsx(se.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"btn btn-ghost p-1",children:u.jsx(Vt,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"flex-1",children:u.jsx(p0,{height:"100%",language:a,value:i,theme:"vs-dark",options:{readOnly:!0,minimap:{enabled:!1},fontSize:13,fontFamily:"JetBrains Mono, Fira Code, monospace",lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",padding:{top:12}}})})]})})}function EL({onModal:e,onPin:t,onCsv:n,onXlsx:r,onInsert:s}){const[i,a]=b.useState(!1),o=b.useRef(null),l=b.useRef(null),c=b.useRef(null),[d,m]=b.useState(null);return b.useEffect(()=>{const f=y=>{var p,h;const v=y.target,w=(p=o.current)==null?void 0:p.contains(v),x=(h=c.current)==null?void 0:h.contains(v);!w&&!x&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:o,className:"relative",children:[u.jsxs("button",{ref:l,onClick:()=>{var y;a(v=>!v);const f=(y=l.current)==null?void 0:y.getBoundingClientRect();f&&m({left:Math.min(f.left,window.innerWidth-160),top:f.bottom+4})},className:"btn btn-secondary px-2 py-1 text-xs flex items-center gap-1",title:"Ms acciones",children:[u.jsx(yn,{className:"w-3 h-3"}),"+"]}),i&&d&&xr.createPortal(u.jsxs("div",{ref:c,className:"fixed w-40 bg-dark-surface border border-dark-border/40 rounded shadow-xl pointer-events-auto",style:{left:d.left,top:d.top,zIndex:1e5},children:[u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),e()},children:"Modal"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),t()},children:"Pinear"}),u.jsx("div",{className:"h-px bg-dark-border/30 my-1"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),n()},children:"CSV"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),r()},children:"Excel"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{a(!1),s()},children:"INSERT"})]}),document.body)]})}function NL({x:e,y:t,cell:n,columnName:r,isEditMode:s,canEdit:i,onClose:a,onViewContent:o,onStartEdit:l,onDeleteRow:c}){const[d,m]=b.useState(!1),f=b.useCallback(()=>{navigator.clipboard.writeText(wr(n)),m(!0),setTimeout(()=>{m(!1),a()},500)},[n,a]);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:a}),u.jsxs(se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},className:"fixed z-50 bg-dark-surface/95 backdrop-blur-sm border border-dark-border/50 rounded-lg shadow-xl py-1 min-w-[160px]",style:{left:e,top:t},onClick:y=>y.stopPropagation(),children:[u.jsx("div",{className:"px-3 py-1.5 text-xs text-dark-muted/70 border-b border-dark-border/30 mb-1",children:r}),u.jsxs("button",{onClick:f,className:"w-full px-3 py-1.5 text-left text-xs hover:bg-dark-hover/50 flex items-center gap-2 transition-colors",children:[d?u.jsx(sf,{className:"w-3.5 h-3.5 text-matrix-400"}):u.jsx(qv,{className:"w-3.5 h-3.5"}),d?"Copied!":"Copy Value"]}),Sc(n)&&u.jsx("button",{onClick:o,className:"w-full px-3 py-1.5 text-left text-xs hover:bg-dark-hover/50 transition-colors",children:"View Full Content"}),i&&s&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-dark-border/30 my-1"}),u.jsxs("button",{onClick:l,className:"w-full px-3 py-1.5 text-left text-xs hover:bg-dark-hover/50 flex items-center gap-2 transition-colors",children:[u.jsx(Xv,{className:"w-3.5 h-3.5"}),"Edit Cell"]}),u.jsxs("button",{onClick:c,className:"w-full px-3 py-1.5 text-left text-xs hover:bg-red-900/30 text-accent-red flex items-center gap-2 transition-colors",children:[u.jsx(br,{className:"w-3.5 h-3.5"}),"Delete Row"]})]})]})]})}function CL({editedRowsCount:e,statements:t,onConfirm:n,onCancel:r}){return u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:r,children:u.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-dark-surface border border-dark-border/50 rounded-lg shadow-2xl w-[700px] max-w-[90vw] max-h-[80vh] flex flex-col",onClick:s=>s.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-dark-border/50 bg-dark-elevated/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(zv,{className:"w-5 h-5 text-yellow-500"}),u.jsx("h2",{className:"text-lg font-semibold",children:"Confirm Changes"})]}),u.jsx("button",{onClick:r,className:"btn btn-ghost p-1",children:u.jsx(Vt,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4",children:[u.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700/30 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-yellow-200",children:["You are about to update ",u.jsx("span",{className:"font-bold",children:e})," row",e>1?"s":""," in the database."]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold mb-2 text-dark-muted",children:"SQL Statements to Execute:"}),u.jsx("div",{className:"bg-dark-bg/50 border border-dark-border/30 rounded-lg p-3 max-h-[300px] overflow-auto",children:u.jsx("pre",{className:"text-xs font-mono text-dark-text whitespace-pre-wrap",children:t.join(`

`)})})]}),u.jsx("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-3",children:u.jsxs("p",{className:"text-xs text-blue-200",children:[u.jsx("strong",{children:"Note:"})," These changes will be applied immediately and cannot be undone from this interface. Make sure you have backups if needed."]})})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 px-4 py-3 border-t border-dark-border/50 bg-dark-elevated/50",children:[u.jsx("button",{onClick:r,className:"btn btn-ghost px-4 py-2",children:"Cancel"}),u.jsxs("button",{onClick:n,className:"btn btn-primary px-4 py-2 flex items-center gap-2",children:[u.jsx(uf,{className:"w-4 h-4"}),"Confirm & Save"]})]})]})})}function kL({statement:e,onConfirm:t,onCancel:n}){return u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:n,children:u.jsxs(se.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-dark-surface border border-red-700/50 rounded-lg shadow-2xl w-[600px] max-w-[90vw] flex flex-col",onClick:r=>r.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-red-700/50 bg-red-900/20",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(br,{className:"w-5 h-5 text-red-400"}),u.jsx("h2",{className:"text-lg font-semibold text-red-400",children:"Confirm Delete"})]}),u.jsx("button",{onClick:n,className:"btn btn-ghost p-1",children:u.jsx(Vt,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{className:"bg-red-900/20 border border-red-700/30 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-red-200",children:[u.jsx("strong",{children:"Warning:"})," You are about to permanently delete this row from the database."]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold mb-2 text-dark-muted",children:"SQL Statement to Execute:"}),u.jsx("div",{className:"bg-dark-bg/50 border border-dark-border/30 rounded-lg p-3",children:u.jsx("pre",{className:"text-xs font-mono text-dark-text whitespace-pre-wrap",children:e})})]}),u.jsx("div",{className:"bg-yellow-900/20 border border-yellow-700/30 rounded-lg p-3",children:u.jsxs("p",{className:"text-xs text-yellow-200",children:[u.jsx("strong",{children:"Note:"})," This action cannot be undone. Make sure you have backups if needed."]})})]}),u.jsxs("div",{className:"flex items-center justify-end gap-3 px-4 py-3 border-t border-red-700/50 bg-red-900/10",children:[u.jsx("button",{onClick:n,className:"btn btn-ghost px-4 py-2",children:"Cancel"}),u.jsxs("button",{onClick:t,className:"btn bg-red-600 hover:bg-red-700 text-white px-4 py-2 flex items-center gap-2",children:[u.jsx(br,{className:"w-4 h-4"}),"Confirm Delete"]})]})]})})}function TL({value:e,isEditing:t,isModified:n,onStartEdit:r,onSave:s,onCancel:i}){const[a,o]=b.useState(wr(e));return b.useEffect(()=>{t&&o(wr(e))},[t,e]),t?u.jsx("div",{className:"flex items-center gap-1",children:u.jsx("input",{type:"text",value:a,onChange:l=>o(l.target.value),onKeyDown:l=>{l.key==="Enter"?s(a):l.key==="Escape"&&i()},onBlur:()=>s(a),autoFocus:!0,className:"flex-1 bg-dark-surface border border-matrix-500 rounded px-2 py-0.5 text-xs focus:outline-none focus:ring-1 focus:ring-matrix-400"})}):u.jsx("div",{className:xe("truncate",n&&"text-matrix-400 font-semibold"),onDoubleClick:r,children:v0(e)})}function ff({tab:e}){const{executeQuery:t}=rt(),{connections:n}=_e(),{result:r,error:s,isExecuting:i,connectionId:a,query:o}=e,[l,c]=b.useState(null),[d,m]=b.useState(null),[f,y]=b.useState(!1),[v,w]=b.useState(new Map),[x,p]=b.useState(null),[h,g]=b.useState([]),[,S]=b.useState(!1),[E,C]=b.useState(!1),[k,N]=b.useState([]),[M,T]=b.useState(!1),[B,X]=b.useState(""),[,Q]=b.useState(null),[L,j]=b.useState(""),[P,J]=b.useState(null),R=b.useMemo(()=>{if(!r)return[];let $=r.rows.map((F,G)=>({row:F,index:G}));if(L.trim()){const F=L.toLowerCase();$=$.filter(({row:G})=>G.some(oe=>wr(oe).toLowerCase().includes(F)))}return P&&$.sort((F,G)=>{const oe=F.row[P.key],Z=G.row[P.key],le=Ms(oe),je=Ms(Z);if(le===je)return 0;if(le===null)return 1;if(je===null)return-1;const Re=le<je?-1:1;return P.direction==="asc"?Re:-Re}),$},[r,L,P]),O=$=>{J(F=>(F==null?void 0:F.key)===$?F.direction==="asc"?{key:$,direction:"desc"}:null:{key:$,direction:"asc"})},_=b.useMemo(()=>!o||!r?null:mL(o),[o,r]);b.useEffect(()=>{async function $(){var F;if(!(_!=null&&_.isEditable)||!_.tableName||!a){g([]);return}S(!0);try{const oe=((F=(await Ge.getTableInfo(a,_.tableName,_.schemaName||void 0)).primary_key)==null?void 0:F.columns)||[];g(oe)}catch(G){console.error("Failed to load primary keys:",G),g([])}finally{S(!1)}}$()},[_,a]);const z=(_==null?void 0:_.isEditable)&&h.length>0,U=n.find($=>$.id===a),A=(U==null?void 0:U.engine)||"postgresql",[D,V]=b.useState([{column:"",operator:"=",value:""}]),[K,H]=b.useState("AND"),ee=b.useCallback(()=>{V($=>[...$,{column:"",operator:"=",value:""}])},[]),ae=b.useCallback($=>{V(F=>F.filter((G,oe)=>oe!==$))},[]),ce=b.useCallback(($,F)=>{V(G=>G.map((oe,Z)=>Z===$?{...oe,...F}:oe))},[]),Ae=b.useCallback($=>{switch(A){case"mysql":return`\`${$}\``;case"postgresql":case"sqlite":default:return`"${$}"`}},[A]),Ve=b.useCallback(($,F)=>$?`${Ae($)}.${Ae(F)}`:Ae(F),[Ae]),fe=b.useCallback(($,F)=>{const G=$.trim();if(G.length===0)return null;const oe=(F||"").toLowerCase();if(oe.includes("int")||oe.includes("decimal")||oe.includes("numeric")||oe.includes("float")||oe.includes("double")){const Z=Number(G);return isNaN(Z)?G:Z}if(oe.includes("bool")){const Z=G.toLowerCase();return Z==="true"||Z==="1"||Z==="t"}return G},[]),at=b.useCallback(()=>{if(!(_!=null&&_.tableName)||!r)return"";const $=new wc(A),F={operator:K,conditions:[]},G=_.tableName;return D.forEach(Z=>{if(!Z.column||!Z.operator)return;const le=r.columns.find(Re=>Re.name===Z.column),je={column:{table:G,column:Z.column},operator:Z.operator};if(!(Z.operator==="IS NULL"||Z.operator==="IS NOT NULL"))if(Z.operator==="IN"){const Re=Z.value.split(",").map(Ut=>Ut.trim()).filter(Boolean);je.values=Re.map(Ut=>fe(Ut,le==null?void 0:le.data_type))}else je.value=fe(Z.value,le==null?void 0:le.data_type);F.conditions.push(je)}),F.conditions.length===0?"":$.compileWhere(F)},[A,K,D,_,r,fe]),Kn=b.useCallback(async()=>{var Re;if(!r)return;const $=at();if(!$)return;const F=(_==null?void 0:_.tableName)||null,G=(_==null?void 0:_.schemaName)||null;if(!F)return;const oe=Ve(G,F);let Z="";const le=o.match(/LIMIT\s+\d+/i);le?Z=le[0]:(Re=r.pagination)!=null&&Re.page_size&&(Z=`LIMIT ${r.pagination.page_size}`);const je=[`SELECT * FROM ${oe}`,$,Z].filter(Boolean).join(`
`)+";";await t(e.id,je)},[r,at,_,Ve,o,t,e.id]),Gn=$=>{var F;t(e.id,void 0,$,((F=r==null?void 0:r.pagination)==null?void 0:F.page_size)||50)},xs=b.useCallback(async()=>{if(!r)return;const $=yL(r),F=await _a({filters:[{name:"CSV",extensions:["csv"]}],defaultPath:"query-results.csv"});F&&await vc(F,$)},[r]),qe=b.useCallback(async()=>{if(!r)return;const $=vL(r,A,{schema:(_==null?void 0:_.schemaName)||null,table:(_==null?void 0:_.tableName)||null}),F=await _a({filters:[{name:"SQL",extensions:["sql"]}],defaultPath:"insert-data.sql"});F&&await vc(F,$)},[r,A,_]),Bi=b.useCallback(async()=>{if(!r)return;const{columns:$,rows:F}=bL(r),G=await _a({filters:[{name:"Excel",extensions:["xlsx"]}],defaultPath:"query-results.xlsx"});G&&await ST.exportXlsx($,F,G)},[r]),Qo=b.useCallback(($,F,G,oe,Z)=>{$.preventDefault(),c({x:$.clientX,y:$.clientY,cell:F,columnName:G,rowIndex:oe,columnIndex:Z})},[]),Yn=b.useCallback(($,F)=>{Sc($)&&m({cell:$,columnName:F})},[]),vs=b.useCallback(()=>{f&&(w(new Map),p(null)),y(!f)},[f]),bs=b.useCallback(($,F)=>{f&&p({rowIndex:$,columnIndex:F})},[f]),N0=b.useCallback(($,F,G)=>{if(!r)return;const oe=r.rows[$][F];let Z;if(G.trim().toUpperCase()==="NULL"||G.trim()==="")Z={type:"Null"};else if(oe.type==="Bool"){const le=G.toLowerCase();Z={type:"Bool",value:le==="true"||le==="1"||le==="t"}}else if(oe.type==="Int"){const le=parseInt(G);Z=isNaN(le)?oe:{type:"Int",value:le}}else if(oe.type==="Float"){const le=parseFloat(G);Z=isNaN(le)?oe:{type:"Float",value:le}}else if(oe.type==="Json")try{Z={type:"Json",value:JSON.parse(G)}}catch{Z={type:"String",value:G}}else Z={type:"String",value:G};w(le=>{const je=new Map(le);return je.has($)||je.set($,new Map),je.get($).set(F,Z),je})},[r]),C0=b.useCallback(($,F)=>{const G=v.get($);return G!=null&&G.has(F)?G.get(F):(r==null?void 0:r.rows[$][F])||{type:"Null"}},[v,r]),pf=v.size>0,k0=b.useCallback(()=>{if(!r||!_||!z)return;const $=[];for(const[F,G]of v.entries()){const oe=r.rows[F],Z=new Map;for(const[Re,Ut]of G.entries()){const ws=r.columns[Re].name;Z.set(ws,Ms(Ut))}const le=new Map;for(const Re of h){const Ut=r.columns.findIndex(ws=>ws.name===Re);Ut>=0&&le.set(Re,Ms(oe[Ut]))}const je=pL(_.tableName,_.schemaName,Z,le,A);$.push(je)}N($),C(!0)},[r,_,z,v,h,A]),T0=b.useCallback(async()=>{if(!(!r||!_||!z)){C(!1);try{for(const $ of k)await t(e.id,$);await t(e.id,o),w(new Map),y(!1),p(null),N([])}catch($){console.error("Failed to save changes:",$),alert("Failed to save changes: "+String($))}}},[r,_,z,k,t,e.id,o]),j0=b.useCallback(async $=>{if(!r||!_||!z)return;const F=r.rows[$],G=new Map;for(const Z of h){const le=r.columns.findIndex(je=>je.name===Z);le>=0&&G.set(Z,Ms(F[le]))}const oe=gL(_.tableName,_.schemaName,G,A);X(oe),Q($),T(!0)},[r,_,z,h,A]),L0=b.useCallback(async()=>{if(B){T(!1);try{await t(e.id,B),await t(e.id,o),X(""),Q(null)}catch($){console.error("Failed to delete row:",$),alert("Failed to delete row: "+String($))}}},[B,t,e.id,o]);return i?u.jsx("div",{className:"h-full flex items-center justify-center bg-dark-bg/50 text-dark-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx(se.div,{className:"w-8 h-8 border-2 border-matrix-500 border-t-transparent rounded-full mx-auto mb-2",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),u.jsx("p",{className:"text-sm",children:"Executing query..."})]})}):s?u.jsx("div",{className:"h-full flex items-center justify-center p-4 bg-dark-bg/50",children:u.jsx(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-2xl w-full",children:u.jsx("div",{className:"bg-accent-red/10 border border-accent-red/30 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(zv,{className:"w-5 h-5 text-accent-red flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm font-semibold text-accent-red mb-2",children:"Query Error"}),u.jsx("pre",{className:"text-xs text-dark-text/90 font-mono bg-dark-surface/50 p-3 rounded border border-dark-border/30 whitespace-pre-wrap overflow-auto max-h-[200px]",children:s})]})]})})})}):r?u.jsxs("div",{className:"h-full flex flex-col bg-dark-bg/50",children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-b border-dark-border/30 bg-dark-surface/50 backdrop-blur-sm text-xs",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1 text-dark-muted/80",children:[u.jsx(jk,{className:"w-3.5 h-3.5"}),u.jsxs("span",{children:[r.row_count," rows"]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-dark-muted/80",children:[u.jsx(of,{className:"w-3.5 h-3.5"}),u.jsxs("span",{children:[r.execution_time_ms,"ms"]})]}),r.affected_rows!==void 0&&u.jsxs("span",{className:"text-matrix-400 font-medium",children:[r.affected_rows," rows affected"]}),_&&!_.isEditable&&u.jsx("span",{className:"text-dark-muted/60 text-[10px]",children:_.reason})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(EL,{onModal:()=>Un.getState().setPanelState(e.id,"modal"),onPin:()=>Un.getState().setPanelState(e.id,"pinned"),onCsv:xs,onXlsx:Bi,onInsert:qe}),z&&u.jsxs("div",{className:"flex items-center gap-2",children:[f&&pf&&u.jsxs("span",{className:"text-matrix-400 text-[10px]",children:[v.size," row(s) modified"]}),f?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:k0,disabled:!pf,className:"btn btn-primary px-2 py-1 text-xs flex items-center gap-1 disabled:opacity-50",children:[u.jsx(uf,{className:"w-3 h-3"}),"Save"]}),u.jsxs("button",{onClick:vs,className:"btn btn-ghost px-2 py-1 text-xs flex items-center gap-1",children:[u.jsx(qr,{className:"w-3 h-3"}),"Cancel"]})]}):u.jsxs("button",{onClick:vs,className:"btn btn-secondary px-2 py-1 text-xs flex items-center gap-1",children:[u.jsx(Xv,{className:"w-3 h-3"}),"Edit"]})]})]})]}),u.jsxs("div",{className:"flex-1 overflow-auto",children:[u.jsxs("div",{className:"px-3 py-2 border-b border-dark-border/30 bg-dark-surface/40",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsxs("select",{value:K,onChange:$=>H($.target.value),className:"bg-dark-surface border border-dark-border/50 rounded px-2 py-1 text-xs",children:[u.jsx("option",{value:"AND",children:"AND"}),u.jsx("option",{value:"OR",children:"OR"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(mc,{className:"w-3 h-3 absolute left-2 top-1/2 -translate-y-1/2 text-dark-muted"}),u.jsx("input",{type:"text",value:L,onChange:$=>j($.target.value),placeholder:"Buscar en resultados...",className:"pl-7 pr-2 py-1 bg-dark-surface border border-dark-border/50 rounded text-xs focus:outline-none focus:border-matrix-500 w-48 transition-all focus:w-64"})]}),u.jsx("div",{className:"w-px h-4 bg-dark-border/30 mx-1"}),u.jsxs("button",{onClick:ee,className:"btn btn-secondary px-2 py-1 text-xs flex items-center gap-1",children:[u.jsx(yn,{className:"w-3 h-3"}),"Filtro SQL"]}),u.jsxs("button",{onClick:Kn,disabled:!(_!=null&&_.tableName),className:"btn btn-primary px-2 py-1 text-xs flex items-center gap-1 disabled:opacity-50",children:[u.jsx(mc,{className:"w-3 h-3"}),"Aplicar filtros"]})]}),u.jsx("div",{className:"space-y-2",children:D.map(($,F)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:$.column,onChange:G=>ce(F,{column:G.target.value}),className:"bg-dark-surface border border-dark-border/50 rounded px-2 py-1 text-xs min-w-[160px]",children:[u.jsx("option",{value:"",children:"Columna"}),r.columns.map(G=>u.jsx("option",{value:G.name,children:G.name},G.name))]}),u.jsxs("select",{value:$.operator,onChange:G=>ce(F,{operator:G.target.value}),className:"bg-dark-surface border border-dark-border/50 rounded px-2 py-1 text-xs min-w-[120px]",children:[u.jsx("option",{value:"=",children:"="}),u.jsx("option",{value:"!=",children:"!="}),u.jsx("option",{value:">",children:">"}),u.jsx("option",{value:"<",children:"<"}),u.jsx("option",{value:">=",children:">="}),u.jsx("option",{value:"<=",children:"<="}),u.jsx("option",{value:"LIKE",children:"LIKE"}),u.jsx("option",{value:"IN",children:"IN"}),u.jsx("option",{value:"IS NULL",children:"IS NULL"}),u.jsx("option",{value:"IS NOT NULL",children:"IS NOT NULL"})]}),$.operator!=="IS NULL"&&$.operator!=="IS NOT NULL"&&u.jsx("input",{type:"text",placeholder:"Valor",value:$.value,onChange:G=>ce(F,{value:G.target.value}),className:"flex-1 bg-dark-surface border border-dark-border/50 rounded px-2 py-1 text-xs"}),u.jsx("button",{onClick:()=>ae(F),className:"btn btn-ghost p-1",children:u.jsx(Yv,{className:"w-3 h-3"})})]},F))})]}),u.jsxs("table",{className:"w-full text-xs",children:[u.jsx("thead",{className:"sticky top-0 bg-dark-surface/90 backdrop-blur-sm z-10",children:u.jsx("tr",{children:r.columns.map(($,F)=>{const G=h.includes($.name);return u.jsx("th",{className:"px-3 py-2 text-left font-semibold text-matrix-400/90 border-b border-dark-border/50 whitespace-nowrap cursor-pointer hover:bg-dark-surface/50 transition-colors select-none group",onClick:()=>O(F),children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[G&&u.jsx(Kv,{className:"w-3 h-3 text-yellow-500"}),$.name,u.jsx("span",{className:"text-[10px] text-dark-muted/60 font-normal",children:$.data_type}),(P==null?void 0:P.key)===F?P.direction==="asc"?u.jsx(Vv,{className:"w-3 h-3 text-matrix-500"}):u.jsx(Fv,{className:"w-3 h-3 text-matrix-500"}):u.jsx(gk,{className:"w-3 h-3 text-dark-muted/30 opacity-0 group-hover:opacity-100 transition-opacity"})]})},F)})})}),u.jsx("tbody",{children:R.map(({row:$,index:F})=>{const G=v.has(F);return u.jsx("tr",{className:xe("hover:bg-dark-surface/30 border-b border-dark-border/20 transition-colors",G&&"bg-matrix-900/10"),children:$.map((oe,Z)=>{var gf,yf;const le=((gf=r.columns[Z])==null?void 0:gf.name)||`Column ${Z}`,je=Sc(oe),Re=C0(F,Z),Ut=((yf=v.get(F))==null?void 0:yf.has(Z))||!1,ws=(x==null?void 0:x.rowIndex)===F&&(x==null?void 0:x.columnIndex)===Z;return u.jsx("td",{className:xe("px-3 py-1.5 font-mono max-w-[300px]",Re.type==="Null"&&"text-dark-muted/60 italic",je&&!f&&"cursor-pointer hover:bg-matrix-900/20",f&&"cursor-pointer hover:bg-dark-surface/50"),onContextMenu:Ko=>Qo(Ko,Re,le,F,Z),onDoubleClick:()=>{f?bs(F,Z):Yn(Re,le)},title:je&&!f?"Double-click to view full content":void 0,children:f?u.jsx(TL,{value:Re,isEditing:ws,isModified:Ut,onStartEdit:()=>bs(F,Z),onSave:Ko=>{N0(F,Z,Ko),p(null)},onCancel:()=>p(null)}):u.jsx("div",{className:"truncate",children:v0(Re)})},Z)})},F)})})]})]}),r.pagination&&u.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-t border-dark-border/30 bg-dark-surface/50 backdrop-blur-sm",children:[u.jsxs("span",{className:"text-xs text-dark-muted/70",children:["Page ",r.pagination.page," of ",r.pagination.total_pages||"?",r.pagination.total_rows&&` (${r.pagination.total_rows} total)`]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:()=>Gn(r.pagination.page-1),disabled:!r.pagination.has_previous,className:"btn btn-ghost p-1 disabled:opacity-30",children:u.jsx(Uv,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>Gn(r.pagination.page+1),disabled:!r.pagination.has_next,className:"btn btn-ghost p-1 disabled:opacity-30",children:u.jsx(af,{className:"w-4 h-4"})})]})]}),l&&u.jsx(NL,{x:l.x,y:l.y,cell:l.cell,columnName:l.columnName,rowIndex:l.rowIndex,columnIndex:l.columnIndex,isEditMode:f,canEdit:z||!1,onClose:()=>c(null),onViewContent:()=>{m({cell:l.cell,columnName:l.columnName}),c(null)},onStartEdit:()=>{bs(l.rowIndex,l.columnIndex),c(null)},onDeleteRow:()=>{j0(l.rowIndex),c(null)}}),d&&u.jsx(SL,{value:d.cell,columnName:d.columnName,onClose:()=>m(null)}),E&&u.jsx(CL,{editedRowsCount:v.size,statements:k,onConfirm:T0,onCancel:()=>{C(!1),N([])}}),M&&u.jsx(kL,{statement:B,onConfirm:L0,onCancel:()=>{T(!1),X(""),Q(null)}})]}):u.jsx("div",{className:"h-full flex items-center justify-center bg-dark-bg/50 text-dark-muted/60",children:u.jsx("p",{className:"text-sm",children:"Run a query to see results"})})}function jL({results:e,totalExecutionTimeMs:t,connectionId:n,tabId:r}){const[s,i]=b.useState(0),a=e[s],o=e.filter(d=>d.success).length,l=e.filter(d=>!d.success).length;function c({onModal:d,onPin:m}){const[f,y]=b.useState(!1),v=b.useRef(null),w=b.useRef(null),x=b.useRef(null),[p,h]=b.useState(null);return b.useEffect(()=>{const g=S=>{var N,M;const E=S.target,C=(N=v.current)==null?void 0:N.contains(E),k=(M=x.current)==null?void 0:M.contains(E);!C&&!k&&y(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),u.jsxs("div",{ref:v,className:"relative",children:[u.jsxs("button",{ref:w,onClick:()=>{var S;y(E=>!E);const g=(S=w.current)==null?void 0:S.getBoundingClientRect();g&&h({left:Math.min(g.left,window.innerWidth-160),top:g.bottom+4})},className:"btn btn-secondary px-2 py-1 text-xs flex items-center gap-1",title:"Ms acciones",children:[u.jsx(yn,{className:"w-3 h-3"}),"+"]}),f&&p&&xr.createPortal(u.jsxs("div",{ref:x,className:"fixed w-36 bg-dark-surface border border-dark-border/40 rounded shadow-xl",style:{left:p.left,top:p.top,zIndex:1e5},children:[u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{y(!1),d()},children:"Modal"}),u.jsx("button",{className:"w-full text-left px-3 py-1.5 text-xs hover:bg-dark-hover",onClick:()=>{y(!1),m()},children:"Pinear"})]}),document.body)]})}return u.jsxs("div",{className:"h-full flex flex-col bg-dark-bg",children:[u.jsxs("div",{className:"flex items-center gap-4 px-3 py-2 border-b border-dark-border/30 bg-dark-surface/50 backdrop-blur-sm text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-matrix-400",children:[u.jsx(da,{className:"w-3.5 h-3.5"}),u.jsxs("span",{className:"font-medium",children:[o," succeeded"]})]}),l>0&&u.jsxs("div",{className:"flex items-center gap-1.5 text-accent-red",children:[u.jsx(qr,{className:"w-3.5 h-3.5"}),u.jsxs("span",{className:"font-medium",children:[l," failed"]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-dark-muted/80",children:[u.jsx(of,{className:"w-3.5 h-3.5"}),u.jsxs("span",{children:["Total: ",t,"ms"]})]})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsx("div",{className:"w-64 border-r border-dark-border/30 bg-dark-surface/30 overflow-y-auto",children:u.jsx("div",{className:"p-2 space-y-1",children:e.map((d,m)=>u.jsxs(se.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>i(m),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${s===m?"bg-matrix-900/30 border border-matrix-500/30":"hover:bg-dark-hover/30 border border-transparent"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.success?u.jsx(da,{className:"w-3.5 h-3.5 text-matrix-400 flex-shrink-0"}):u.jsx(qr,{className:"w-3.5 h-3.5 text-accent-red flex-shrink-0"}),u.jsxs("span",{className:"text-xs font-medium text-dark-text truncate",children:["Statement ",m+1]})]}),u.jsxs("div",{className:"text-[10px] text-dark-muted/70 font-mono truncate",children:[d.sql.substring(0,40),"..."]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1 text-[10px] text-dark-muted/60",children:[u.jsxs("span",{children:[d.execution_time_ms,"ms"]}),d.affected_rows!==void 0&&u.jsxs("span",{children:[" ",d.affected_rows," rows"]})]})]},m))})}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"px-4 py-2 border-b border-dark-border/30 bg-dark-elevated/50",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.success?u.jsx(da,{className:"w-4 h-4 text-matrix-400"}):u.jsx(qr,{className:"w-4 h-4 text-accent-red"}),u.jsxs("span",{className:"text-sm font-semibold text-dark-text",children:["Statement ",s+1]}),u.jsxs("span",{className:"text-xs text-dark-muted/70",children:[a.execution_time_ms,"ms"]}),u.jsx("div",{className:"ml-auto",children:u.jsx(c,{onModal:()=>Un.getState().setPanelState(`${r}:stmt:${s}`,"modal"),onPin:()=>Un.getState().setPanelState(`${r}:stmt:${s}`,"pinned")})})]}),u.jsx("pre",{className:"text-xs font-mono text-dark-muted/90 bg-dark-surface/50 px-2 py-1 rounded border border-dark-border/30 overflow-x-auto",children:a.sql})]}),u.jsx("div",{className:"flex-1 overflow-hidden",children:a.error?u.jsx("div",{className:"h-full flex items-center justify-center p-4",children:u.jsx("div",{className:"max-w-2xl w-full bg-accent-red/10 border border-accent-red/30 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(qr,{className:"w-5 h-5 text-accent-red flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm font-semibold text-accent-red mb-2",children:"Execution Error"}),u.jsx("pre",{className:"text-xs text-dark-text/90 font-mono whitespace-pre-wrap",children:a.error})]})]})})}):a.result?u.jsx(ff,{tab:{id:`multi-${s}`,connectionId:n,query:a.sql,result:a.result,error:null,isExecuting:!1}}):u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(da,{className:"w-8 h-8 text-matrix-400 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-dark-text font-medium",children:"Statement executed successfully"}),a.affected_rows!==void 0&&u.jsxs("p",{className:"text-xs text-dark-muted mt-1",children:[a.affected_rows," rows affected"]})]})})})]})]})]})}function LL(){const{tabs:e,activeTabId:t,createTab:n,closeTab:r,setActiveTab:s}=rt(),{activeConnectionId:i}=_e();return u.jsxs("div",{className:"flex items-center bg-dark-surface/50 backdrop-blur-sm border-b border-dark-border/30",children:[u.jsx("div",{className:"flex-1 flex overflow-x-auto scrollbar-thin",children:u.jsx($o,{mode:"popLayout",children:e.map((a,o)=>{const l=t===a.id;return u.jsxs(se.div,{layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.12},className:xe("group relative flex items-center gap-1.5 px-3 py-2 border-r border-dark-border/30 cursor-pointer transition-all",l?"bg-dark-bg text-matrix-400":"text-dark-muted hover:text-dark-text hover:bg-dark-hover/30"),onClick:()=>s(a.id),children:[l&&u.jsx(se.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-matrix-500 shadow-glow-sm",transition:{type:"spring",stiffness:500,damping:30}}),u.jsxs("span",{className:"text-xs font-medium whitespace-nowrap",children:["Query ",o+1]}),a.isExecuting&&u.jsx(se.span,{initial:{scale:0},animate:{scale:1},className:"w-1.5 h-1.5 rounded-full bg-matrix-500 animate-pulse-glow"}),u.jsx(se.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:c=>{c.stopPropagation(),r(a.id)},className:xe("p-0.5 rounded transition-all",l?"opacity-100 hover:bg-dark-hover/50":"opacity-0 group-hover:opacity-100 hover:bg-dark-border/50"),children:u.jsx(Vt,{className:"w-3 h-3"})})]},a.id)})})}),u.jsx(se.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>i&&n(i),disabled:!i,className:"p-2 hover:bg-dark-hover/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"New Query Tab",children:u.jsx(yn,{className:"w-3.5 h-3.5 text-matrix-400"})})]})}const AL=({definition:e,onChange:t,engine:n})=>{const r=(a,o,l)=>{const c=[...e.columns];c[a]={...c[a],[o]:l},t({...e,columns:c})},s=()=>{t({...e,columns:[...e.columns,{name:"new_column",type:"VARCHAR(255)",nullable:!0,primaryKey:!1}]})},i=a=>{const o=e.columns.filter((l,c)=>c!==a);t({...e,columns:o})};return u.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Table Name"}),u.jsx("input",{type:"text",className:"input",value:e.name,onChange:a=>t({...e,name:a.target.value})})]}),e.schema!==void 0&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Schema"}),u.jsx("input",{type:"text",className:"input",value:e.schema,onChange:a=>t({...e,schema:a.target.value})})]})]}),u.jsxs("div",{className:"border rounded-md",children:[u.jsxs("div",{className:"bg-muted p-2 font-medium flex gap-2",children:[u.jsx("div",{className:"w-8"}),u.jsx("div",{className:"flex-1",children:"Name"}),u.jsx("div",{className:"w-32",children:"Type"}),u.jsx("div",{className:"w-20 text-center",children:"Nullable"}),u.jsx("div",{className:"w-20 text-center",children:"PK"}),u.jsx("div",{className:"w-32",children:"Default"}),u.jsx("div",{className:"w-8"})]}),u.jsx("div",{className:"divide-y",children:e.columns.map((a,o)=>u.jsxs("div",{className:"flex gap-2 p-2 items-center hover:bg-muted/50",children:[u.jsx("div",{className:"w-8 flex justify-center text-muted-foreground",children:o+1}),u.jsx("div",{className:"flex-1",children:u.jsx("input",{type:"text",className:"input h-8",value:a.name,onChange:l=>r(o,"name",l.target.value)})}),u.jsx("div",{className:"w-32",children:u.jsx("input",{type:"text",className:"input h-8",value:a.type,onChange:l=>r(o,"type",l.target.value)})}),u.jsx("div",{className:"w-20 flex justify-center",children:u.jsx("input",{type:"checkbox",checked:a.nullable,onChange:l=>r(o,"nullable",l.target.checked)})}),u.jsx("div",{className:"w-20 flex justify-center",children:u.jsx("input",{type:"checkbox",checked:a.primaryKey,onChange:l=>r(o,"primaryKey",l.target.checked)})}),u.jsx("div",{className:"w-32",children:u.jsx("input",{type:"text",className:"input h-8",value:a.defaultValue||"",onChange:l=>r(o,"defaultValue",l.target.value),placeholder:"NULL"})}),u.jsx("div",{className:"w-8",children:u.jsx("button",{onClick:()=>i(o),className:"text-destructive hover:bg-destructive/10 p-1 rounded",children:u.jsx(Lk,{className:"h-4 w-4"})})})]},o))}),u.jsx("div",{className:"p-2 border-t bg-muted/20",children:u.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-sm font-medium text-primary hover:text-primary/80",children:[u.jsx(yn,{className:"h-4 w-4"})," Add Column"]})})]})]})},b0=({isOpen:e,onClose:t,sql:n,title:r,isDangerous:s=!1,connectionId:i,onSuccess:a})=>{const[o,l]=b.useState(n),[c,d]=b.useState(!1),[m,f]=b.useState(null);if(!e)return null;const y=async()=>{d(!0),f(null);try{await Kt.executeStatement(i,o),a==null||a(),t()}catch(v){f(String(v))}finally{d(!1)}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:u.jsxs("div",{className:"w-full max-w-2xl rounded-lg border border-border bg-background shadow-xl",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border p-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[s&&u.jsx(pk,{className:"h-5 w-5 text-destructive"}),u.jsx("h2",{className:"text-lg font-semibold",children:r})]}),u.jsx("button",{onClick:t,className:"rounded-full p-1 hover:bg-muted",children:u.jsx(Vt,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("div",{className:"mb-4 rounded-md border border-border bg-muted/50 p-2",children:u.jsx("textarea",{value:o,onChange:v=>l(v.target.value),className:"h-64 w-full resize-none bg-transparent font-mono text-sm focus:outline-none",spellCheck:!1})}),m&&u.jsx("div",{className:"mb-4 rounded-md bg-destructive/10 p-3 text-sm text-destructive",children:m}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:t,className:"rounded-md px-4 py-2 text-sm font-medium hover:bg-muted",disabled:c,children:"Cancel"}),u.jsxs("button",{onClick:y,className:`flex items-center gap-2 rounded-md px-4 py-2 text-sm font-medium text-white ${s?"bg-destructive hover:bg-destructive/90":"bg-primary hover:bg-primary/90"}`,disabled:c,children:[u.jsx(lf,{className:"h-4 w-4"}),c?"Executing...":"Execute"]})]})]})]})})},RL=({initialDefinition:e,engine:t,connectionId:n,onClose:r,mode:s})=>{const[i,a]=b.useState("structure"),[o,l]=b.useState(e||{name:"new_table",columns:[{name:"id",type:"INTEGER",nullable:!1,primaryKey:!0,autoIncrement:!0}],constraints:[]}),[c,d]=b.useState(!1),m=b.useMemo(()=>Qt.getAdapter(t),[t]),f=b.useMemo(()=>s==="create"?m.getCreateTableSQL(o):e?m.getAlterTableSQL(e,o):"",[m,o,s,e]);return u.jsxs("div",{className:"flex flex-col h-full bg-background text-foreground",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-2",children:[u.jsx("h1",{className:"text-xl font-bold",children:s==="create"?"Create Table":`Edit Table: ${o.name}`}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>d(!0),className:"btn btn-primary",children:"Preview SQL"}),u.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})]})]}),u.jsx("div",{className:"flex border-b border-border",children:["structure","permissions","sql","history"].map(y=>u.jsx("button",{onClick:()=>a(y),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${i===y?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),u.jsxs("div",{className:"flex-1 overflow-auto",children:[i==="structure"&&u.jsx(AL,{definition:o,onChange:l,engine:t}),i==="sql"&&u.jsx("div",{className:"p-4 h-full",children:u.jsx("textarea",{readOnly:!0,value:f,className:"w-full h-full bg-muted/50 p-4 font-mono text-sm resize-none focus:outline-none rounded-md"})}),i==="permissions"&&u.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Permissions management coming soon..."}),i==="history"&&u.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Table history coming soon..."})]}),u.jsx(b0,{isOpen:c,onClose:()=>d(!1),sql:f,title:s==="create"?"Create Table":"Alter Table",connectionId:n,isDangerous:s==="edit",onSuccess:()=>{r()}})]})},ML=({definition:e,onChange:t,engine:n,availableRoles:r})=>{const s=n==="mysql",i=a=>{const o=e.roles||[],l=o.includes(a)?o.filter(c=>c!==a):[...o,a];t({...e,roles:l})};return u.jsxs("div",{className:"flex flex-col gap-6 p-6 max-w-2xl mx-auto",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"User Details"}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1 block",children:"Username"}),u.jsx("input",{type:"text",className:"input w-full",value:e.name,onChange:a=>t({...e,name:a.target.value}),placeholder:"username"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1 block",children:"Password"}),u.jsx("input",{type:"password",className:"input w-full",value:e.password||"",onChange:a=>t({...e,password:a.target.value}),placeholder:e.password===void 0?"Leave empty to keep current":"Enter password"})]}),s&&u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1 block",children:"Host"}),u.jsx("input",{type:"text",className:"input w-full",value:e.host||"%",onChange:a=>t({...e,host:a.target.value}),placeholder:"%"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"MySQL specific: Host from which the user can connect (default: %)"})]})]})]}),r.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium border-b pb-2",children:"Roles & Groups"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 bg-muted/20 p-4 rounded-md border",children:r.map(a=>u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 p-2 rounded transition-colors",children:[u.jsx("input",{type:"checkbox",checked:(e.roles||[]).includes(a),onChange:()=>i(a),className:"rounded border-gray-300 text-primary focus:ring-primary"}),u.jsx("span",{className:"text-sm",children:a})]},a))})]})]})},PL=e=>!e||e.type==="Null"?null:e.value,_L=({initialDefinition:e,engine:t,connectionId:n,onClose:r,mode:s})=>{const[i,a]=b.useState(e||{name:"new_user",password:"",host:"%",roles:[]}),[o,l]=b.useState([]),[c,d]=b.useState(!1),m=b.useMemo(()=>Qt.getAdapter(t),[t]);b.useEffect(()=>{(async()=>{const v=m.getRolesQuery();if(v&&m.features.roles)try{const w=await Kt.execute(n,v);if(w.rows){const x=w.rows.map(p=>{const h={};return w.columns.forEach((g,S)=>{h[g.name]=PL(p[S])}),h});l(x.map(p=>p.name))}}catch(w){console.error("Failed to load roles",w)}})()},[m,n]);const f=b.useMemo(()=>s==="create"?m.getCreateUserSQL(i):m.getAlterUserSQL(i),[m,i,s]);return u.jsxs("div",{className:"flex flex-col h-full bg-background text-foreground",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border px-4 py-2",children:[u.jsx("h1",{className:"text-xl font-bold",children:s==="create"?"Create User":`Edit User: ${i.name}`}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>d(!0),className:"btn btn-primary",children:"Preview SQL"}),u.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})]})]}),u.jsx("div",{className:"flex-1 overflow-auto",children:u.jsx(ML,{definition:i,onChange:a,engine:t,availableRoles:o})}),u.jsx(b0,{isOpen:c,onClose:()=>d(!1),sql:f,title:s==="create"?"Create User":"Alter User",connectionId:n,isDangerous:s==="edit",onSuccess:()=>{r()}})]})};function IL(){var l,c;const{tabs:e,activeTabId:t,closeTab:n}=rt(),{activeConnectionId:r}=_e(),s=e.find(d=>d.id===t),i=b.useRef(null),a=b.useRef(null),o=Un(d=>d.panels.find(m=>m.id===(s==null?void 0:s.id)));return!r||e.length===0?u.jsx("div",{className:"h-full flex items-center justify-center bg-dark-bg",children:u.jsxs(se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},className:"text-center max-w-md",children:[u.jsxs("div",{className:"relative mb-6 inline-block",children:[u.jsx(cs,{className:"w-20 h-20 text-dark-border/50"}),u.jsx(se.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.15,type:"spring",stiffness:200},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:u.jsx(Wv,{className:"w-9 h-9 text-matrix-500 drop-shadow-[0_0_12px_rgba(0,230,118,0.5)]"})})]}),u.jsx("h2",{className:"text-lg font-semibold text-matrix-400 mb-2",children:r?"No Open Queries":"No Active Connection"}),u.jsx("p",{className:"text-sm text-dark-muted/80 mb-6",children:r?"Create a new query tab to get started":"Connect to a database from the sidebar to start writing queries"}),u.jsxs("div",{className:"flex flex-col items-center gap-2.5 text-xs text-dark-muted/70",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("kbd",{className:"text-xs",children:"Ctrl+P"}),u.jsx("span",{children:"Command Palette"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("kbd",{className:"text-xs",children:"Ctrl+Shift+B"}),u.jsx("span",{children:"Query Builder"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("kbd",{className:"text-xs",children:"Ctrl+Enter"}),u.jsx("span",{children:"Execute Query"})]})]})]})}):u.jsxs("div",{className:"h-full flex flex-col bg-dark-bg",children:[u.jsx(LL,{}),s&&(s.type==="admin"?u.jsxs("div",{className:"flex-1 overflow-hidden",children:[((l=s.adminState)==null?void 0:l.type)==="table"&&u.jsx(RL,{initialDefinition:s.adminState.initialDefinition,engine:s.adminState.engine,connectionId:s.connectionId,mode:s.adminState.mode,onClose:()=>n(s.id)}),((c=s.adminState)==null?void 0:c.type)==="user"&&u.jsx(_L,{initialDefinition:s.adminState.initialDefinition,engine:s.adminState.engine,connectionId:s.connectionId,mode:s.adminState.mode,onClose:()=>n(s.id)})]}):u.jsxs(nf,{direction:"vertical",className:"flex-1",children:[u.jsx(Ci,{defaultSize:65,minSize:30,maxSize:85,ref:i,children:u.jsx(fL,{tab:s})}),u.jsx(rf,{className:"h-px bg-dark-border/30 hover:bg-matrix-700/50 transition-all relative group",children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(se.div,{className:"w-12 h-0.5 bg-dark-border/50 rounded-full group-hover:bg-matrix-700/70 group-hover:w-16 transition-all",whileHover:{scaleY:2}})})}),u.jsx(Ci,{minSize:15,maxSize:70,ref:a,children:s.multiResults?u.jsx(jL,{results:s.multiResults,totalExecutionTimeMs:s.multiResults.reduce((d,m)=>d+m.execution_time_ms,0),connectionId:s.connectionId,tabId:s.id}):u.jsx(ff,{tab:s})})]})),(o==null?void 0:o.state)==="pinned"&&u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-dark-surface/70 backdrop-blur-md border-t border-dark-border/30 px-4 py-1.5 flex items-center justify-end",children:u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded border border-matrix-600/40 text-matrix-400 bg-matrix-900/20",children:[u.jsx(Tk,{className:"w-3 h-3"}),"Pineado"]})})]})}const OL=[{value:"postgresql",label:"PostgreSQL",icon:""},{value:"mysql",label:"MySQL / MariaDB",icon:""},{value:"sqlite",label:"SQLite",icon:""}],ga={postgresql:5432,mysql:3306,sqlite:0,sqlserver:1433};function DL(){const{closeConnectionModal:e,editingConnectionId:t}=Nr(),{connections:n,createConnection:r,updateConnection:s,testConnection:i}=_e(),a=t?n.find(g=>g.id===t):null,[o,l]=b.useState({name:"",engine:"postgresql",host:"localhost",port:5432,database:void 0,username:"",password:"",file_path:""}),[c,d]=b.useState(!1),[m,f]=b.useState(!1),[y,v]=b.useState(null),w=o.engine==="sqlite";b.useEffect(()=>{a&&l({name:a.name,engine:a.engine,host:a.host||"localhost",port:a.port||ga[a.engine],database:a.database,username:a.username||"",password:"",file_path:a.file_path||""})},[a]);const x=g=>{l(S=>({...S,engine:g,port:ga[g]}))},p=async g=>{g.preventDefault(),v(null),f(!0);try{const S={name:o.name,engine:o.engine,database:w?o.file_path:o.database||void 0,host:w?void 0:o.host||"localhost",port:w?void 0:o.port&&o.port>0?o.port:ga[o.engine],username:w?void 0:o.username,password:w?void 0:o.password,file_path:w?o.file_path:void 0};console.log("Creating connection with payload:",S),t?await s(t,{name:S.name,host:S.host,port:S.port,database:S.database,username:S.username,password:S.password||void 0}):await r(S),e()}catch(S){v(String(S))}finally{f(!1)}},h=async()=>{v(null),d(!0);try{if(t)await i(t),alert("Connection successful!");else{const g=await r(o);await i(g.id),alert("Connection successful!")}}catch(g){v(String(g))}finally{d(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-dark-surface rounded-xl shadow-2xl w-full max-w-lg mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[u.jsx("h2",{className:"text-lg font-semibold",children:t?"Edit Connection":"New Connection"}),u.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-dark-border",children:u.jsx(Vt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:p,className:"p-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Database Type"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:OL.map(g=>u.jsxs("button",{type:"button",onClick:()=>x(g.value),className:`p-3 rounded-lg border text-center transition-colors ${o.engine===g.value?"border-primary-500 bg-primary-900/30":"border-dark-border hover:border-dark-muted"}`,children:[u.jsx("span",{className:"text-2xl block mb-1",children:g.icon}),u.jsx("span",{className:"text-sm",children:g.label})]},g.value))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Connection Name"}),u.jsx("input",{type:"text",className:"input",value:o.name,onChange:g=>l(S=>({...S,name:g.target.value})),placeholder:"My Database",required:!0})]}),w?u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Database File"}),u.jsx("input",{type:"text",className:"input",value:o.file_path,onChange:g=>l(S=>({...S,file_path:g.target.value,database:g.target.value})),placeholder:"/path/to/database.db",required:!0})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"col-span-2",children:[u.jsx("label",{className:"label",children:"Host"}),u.jsx("input",{type:"text",className:"input",value:o.host,onChange:g=>l(S=>({...S,host:g.target.value})),placeholder:"localhost",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Port"}),u.jsx("input",{type:"number",className:"input",value:o.port,onChange:g=>{const S=parseInt(g.target.value);l(E=>({...E,port:isNaN(S)?ga[E.engine]:S}))},min:1,max:65535,required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Database"}),u.jsx("input",{type:"text",className:"input",value:o.database||"",onChange:g=>l(S=>({...S,database:g.target.value||void 0})),placeholder:"mydb"}),u.jsx("p",{className:"text-xs text-dark-muted mt-1",children:"Optional  if left empty, all databases/schemas will be shown"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Username"}),u.jsx("input",{type:"text",className:"input",value:o.username,onChange:g=>l(S=>({...S,username:g.target.value})),placeholder:o.engine==="postgresql"?"postgres":"root"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Password"}),u.jsx("input",{type:"password",className:"input",value:o.password,onChange:g=>l(S=>({...S,password:g.target.value})),placeholder:""})]})]})]}),y&&u.jsx("div",{className:"p-3 bg-red-900/30 border border-red-700 rounded-lg text-red-400 text-sm",children:y}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:h,disabled:c,className:"btn btn-secondary",children:c?"Testing...":"Test Connection"}),u.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary",children:m?"Saving...":t?"Update":"Create"})]})]})]})})}function $L(){const{model:e,setFromTable:t}=Bt(),[n,r]=b.useState(""),{activeConnectionId:s}=_e(),i=yt(c=>{var d;return s?((d=c.byConnection[s])==null?void 0:d.tables)||[]:[]}),a=b.useMemo(()=>i,[i]),o=b.useMemo(()=>{if(!n)return a;const c=n.toLowerCase();return a.filter(d=>d.name.toLowerCase().includes(c)||d.schema&&d.schema.toLowerCase().includes(c))},[a,n]),l=(c,d)=>{t({name:c,schema:d,alias:void 0}),r("")};return u.jsx("div",{className:"space-y-3",children:e.from.name?u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded border border-dark-border",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"font-mono text-sm",children:[e.from.schema&&u.jsxs("span",{className:"text-primary-400",children:[e.from.schema,"."]}),u.jsx("span",{className:"text-white",children:e.from.name}),e.from.alias&&u.jsxs("span",{className:"text-dark-muted",children:[" AS ",e.from.alias]})]})}),u.jsx("button",{onClick:()=>t({name:"",schema:void 0,alias:void 0}),className:"btn btn-ghost btn-sm",children:"Cambiar"})]}):u.jsxs("div",{children:[u.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),placeholder:"Buscar tabla...",className:"input w-full mb-2",autoFocus:!0}),u.jsx("div",{className:"max-h-48 overflow-y-auto border border-dark-border rounded",children:a.length===0?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx("div",{className:"text-red-500 text-sm mb-2",children:" No hay tablas disponibles en el catlogo"}),u.jsxs("div",{className:"text-xs text-dark-muted",children:["Asegrate de:",u.jsxs("ul",{className:"list-disc text-left ml-5 mt-2",children:[u.jsx("li",{children:"Estar conectado a una base de datos"}),u.jsx("li",{children:"Haber explorado el schema en el Database Explorer"})]})]})]}):o.length===0?u.jsxs("div",{className:"p-4 text-center text-dark-muted text-sm",children:['No se encontraron tablas con "',n,'"']}):o.map(c=>u.jsx("button",{onClick:()=>l(c.name,c.schema),className:"w-full text-left px-3 py-2 hover:bg-dark-hover border-b border-dark-border last:border-b-0 transition-colors",children:u.jsxs("div",{className:"font-mono text-sm",children:[c.schema&&u.jsxs("span",{className:"text-primary-400",children:[c.schema,"."]}),u.jsx("span",{children:c.name})]})},`${c.schema}.${c.name}`))})]})})}function zL(){const{model:e,toggleColumn:t,addColumn:n}=Bt(),{selectTable:r}=yt(),{activeConnectionId:s}=_e(),i=yt(d=>{var m;return s?((m=d.byConnection[s])==null?void 0:m.tables)||[]:[]}),a=b.useMemo(()=>{const d=[e.from];return e.joins.forEach(m=>d.push(m.table)),d},[e.from,e.joins]);b.useEffect(()=>{s&&a.forEach(d=>{if(!d.name)return;const m=i.find(f=>f.name===d.name&&(d.schema&&f.schema===d.schema||!d.schema||!f.schema));(!m||!m.columns||m.columns.length===0)&&r(s,d.name,d.schema)})},[a,s,r,i]),console.log("ColumnSelector - availableTables:",a),console.log("ColumnSelector - model.from:",e.from);const o=(d,m)=>{t({table:d,column:m})},l=d=>{const m=i.find(f=>f.name===d);m&&m.columns.forEach(f=>{const y={table:d,column:f.name};e.select.some(w=>w.table===d&&w.column===f.name)||n(y)})},c=(d,m)=>e.select.some(f=>f.table===d&&f.column===m);return u.jsxs("div",{className:"space-y-4",children:[e.select.length===0&&i.length>0&&u.jsx("div",{className:"text-sm text-yellow-500 bg-yellow-500/10 border border-yellow-500/20 rounded p-3",children:" Selecciona al menos una columna"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(d=>{const m=i.find(y=>y.name===d.name&&(d.schema&&y.schema===d.schema||!d.schema||!y.schema));if(console.log("Buscando tabla:",d.name,"Encontrada:",m),!m)return u.jsxs("div",{className:"border border-red-500/50 rounded-lg p-4 text-red-400",children:[u.jsxs("p",{className:"text-sm",children:[' Tabla "',d.name,'" no encontrada en el catlogo']}),u.jsx("p",{className:"text-xs mt-2",children:"Asegrate de estar conectado a la base de datos"})]},d.name);if(!m.columns||m.columns.length===0)return u.jsxs("div",{className:"border border-yellow-500/50 rounded-lg p-4",children:[u.jsxs("div",{className:"font-mono text-sm font-semibold mb-2",children:[d.schema&&u.jsxs("span",{className:"text-primary-400",children:[d.schema,"."]}),d.name]}),u.jsx("div",{className:"text-yellow-500 text-xs",children:" Esta tabla no tiene columnas cargadas."}),u.jsx("div",{className:"text-xs text-dark-muted mt-2",children:"Haz clic en la tabla en el Database Explorer para cargar sus columnas."})]},d.name);const f=d.alias||d.name;return u.jsxs("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:[u.jsxs("div",{className:"bg-dark-hover px-3 py-2 flex items-center justify-between",children:[u.jsxs("div",{className:"font-mono text-sm font-semibold",children:[d.schema&&u.jsxs("span",{className:"text-primary-400",children:[d.schema,"."]}),d.name,d.alias&&u.jsxs("span",{className:"text-dark-muted",children:[" (",d.alias,")"]})]}),u.jsx("button",{onClick:()=>l(f),className:"text-xs text-primary-400 hover:text-primary-300",children:"Todas"})]}),u.jsx("div",{className:"max-h-64 overflow-y-auto",children:m.columns.map(y=>{const v=c(f,y.name);return u.jsxs("button",{onClick:()=>o(f,y.name),className:`w-full text-left px-3 py-2 flex items-center gap-2 hover:bg-dark-hover transition-colors border-b border-dark-border last:border-b-0 ${v?"bg-primary-500/10":""}`,children:[u.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${v?"bg-primary-500 border-primary-500":"border-dark-border"}`,children:v&&u.jsx(sf,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-mono text-sm truncate",children:y.name}),u.jsxs("div",{className:"text-xs text-dark-muted truncate",children:[y.data_type,y.is_primary_key&&"  PK"]})]})]},y.name)})})]},f)})}),e.select.length>0&&u.jsxs("div",{className:"text-sm text-dark-muted",children:[e.select.length," columna",e.select.length!==1?"s":""," ","seleccionada",e.select.length!==1?"s":""]})]})}function Ia({options:e,value:t,onChange:n,placeholder:r,disabled:s}){var w;const[i,a]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(0),m=b.useRef(null),f=b.useRef(null),y=b.useMemo(()=>{if(!o)return e;const x=o.toLowerCase();return e.filter(p=>p.label.toLowerCase().includes(x))},[e,o]);b.useEffect(()=>{i||d(0)},[i]),b.useEffect(()=>{const x=p=>{!f.current||!m.current||!f.current.contains(p.target)&&!m.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const v=x=>{const p=y[x];p&&(n(p.value),a(!1),l(""))};return u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{ref:m,type:"text",value:o,onChange:x=>{l(x.target.value),a(!0)},onFocus:()=>a(!0),onKeyDown:x=>{x.key==="ArrowDown"?(x.preventDefault(),a(!0),d(p=>Math.min(p+1,Math.max(y.length-1,0)))):x.key==="ArrowUp"?(x.preventDefault(),d(p=>Math.max(p-1,0))):x.key==="Enter"?(x.preventDefault(),v(c)):x.key==="Escape"&&a(!1)},placeholder:r,className:"input w-full",disabled:s}),t&&u.jsx("div",{className:"text-xs text-dark-muted truncate max-w-[12rem]",children:(w=e.find(x=>x.value===t))==null?void 0:w.label})]}),i&&!s&&u.jsx("div",{ref:f,className:"absolute z-50 mt-2 w-full max-h-48 overflow-auto border border-dark-border rounded bg-dark-surface shadow-lg",children:y.length===0?u.jsx("div",{className:"px-3 py-2 text-sm text-dark-muted",children:"Sin resultados"}):y.map((x,p)=>u.jsx("button",{onMouseEnter:()=>d(p),onClick:()=>v(p),className:`w-full text-left px-3 py-2 border-b border-dark-border last:border-b-0 ${p===c?"bg-dark-hover":"hover:bg-dark-hover"}`,children:x.label},x.value))})]})}function FL(){const{model:e,addJoin:t,removeJoin:n}=Bt(),[r,s]=b.useState(!1),i=()=>{s(!0)},a=()=>{s(!1)},o=l=>{t(l),s(!1)};return u.jsxs("div",{className:"space-y-3",children:[e.joins.map((l,c)=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded border border-dark-border",children:[u.jsxs("div",{className:"flex-1 font-mono text-sm",children:[u.jsxs("span",{className:"text-primary-400",children:[l.type," JOIN"]})," ",l.table.schema&&u.jsxs("span",{className:"text-primary-400",children:[l.table.schema,"."]}),u.jsx("span",{children:l.table.name}),l.table.alias&&u.jsxs("span",{className:"text-dark-muted",children:[" AS ",l.table.alias]}),u.jsx("span",{className:"text-dark-muted",children:" ON "}),u.jsxs("span",{children:[l.on.leftTable,".",l.on.leftColumn]}),u.jsx("span",{className:"text-dark-muted",children:" = "}),u.jsxs("span",{children:[l.on.rightTable,".",l.on.rightColumn]})]}),u.jsx("button",{onClick:()=>n(c),className:"btn btn-ghost btn-sm text-red-400 hover:text-red-300",children:u.jsx(br,{className:"w-4 h-4"})})]},c)),r?u.jsx(VL,{onSave:o,onCancel:a}):u.jsxs("button",{onClick:i,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[u.jsx(yn,{className:"w-4 h-4"}),"Agregar JOIN"]})]})}function VL({onSave:e,onCancel:t}){const{model:n}=Bt(),[r,s]=b.useState("INNER"),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(""),[m,f]=b.useState(n.from.alias||n.from.name),[y,v]=b.useState(""),[w,x]=b.useState(""),p=[n.from,...n.joins.map(T=>T.table)],{selectTable:h}=yt(),{activeConnectionId:g}=_e(),S=yt(T=>{var B;return g?((B=T.byConnection[g])==null?void 0:B.tables)||[]:[]});b.useEffect(()=>{i&&g&&h(g,i,o||void 0)},[i,o,g,h]);const E=b.useMemo(()=>{if(!i)return[];const T=S.find(B=>B.name===i&&(o&&B.schema===o||!o||!B.schema));return(T==null?void 0:T.columns)||[]},[i,o,S]),C=b.useMemo(()=>S.map(T=>({value:T.schema?`${T.schema}.${T.name}`:T.name,label:T.schema?`${T.schema}.${T.name}`:T.name})),[S]),k=b.useMemo(()=>p.flatMap(T=>{const B=T.alias||T.name,X=S.find(L=>L.name===T.name);return((X==null?void 0:X.columns)||[]).map(L=>({value:`${B}.${L.name}`,label:`${B}.${L.name}`,table:B,column:L.name}))}),[p,S]),N=()=>{if(!i||!y||!w)return;e({type:r,table:{name:i,schema:o||void 0,alias:c||void 0},on:{leftTable:m,leftColumn:y,rightTable:c||i,rightColumn:w}})},M=i&&y&&w;return u.jsxs("div",{className:"border border-dark-border rounded-lg p-4 space-y-4 bg-dark-bg",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipo de JOIN"}),u.jsxs("select",{value:r,onChange:T=>s(T.target.value),className:"input w-full",children:[u.jsx("option",{value:"INNER",children:"INNER JOIN"}),u.jsx("option",{value:"LEFT",children:"LEFT JOIN"}),u.jsx("option",{value:"RIGHT",children:"RIGHT JOIN"}),u.jsx("option",{value:"FULL",children:"FULL JOIN"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tabla"}),u.jsx(Ia,{options:C,value:o?`${o}.${i}`:i,onChange:T=>{const[B,X]=T.includes(".")?T.split("."):["",T];a(X),l(B)},placeholder:"Buscar y seleccionar tabla..."})]})]}),i&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Alias (opcional)"}),u.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),placeholder:"Ej: t2",className:"input w-full"})]}),i&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Columna izquierda"}),u.jsx(Ia,{options:k,value:`${m}.${y}`,onChange:T=>{const[B,X]=T.split(".");f(B),v(X)},placeholder:"Buscar y seleccionar columna..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Columna derecha"}),u.jsx(Ia,{options:E.map(T=>({value:T.name,label:T.name})),value:w,onChange:T=>x(T),placeholder:E.length===0?`Cargando columnas de ${i}...`:"Buscar y seleccionar columna...",disabled:E.length===0})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:t,className:"btn btn-secondary btn-sm",children:"Cancelar"}),u.jsx("button",{onClick:N,disabled:!M,className:"btn btn-primary btn-sm disabled:opacity-50",children:"Agregar"})]})]})}function BL(){var m,f;const{model:e,addCondition:t,removeCondition:n,setWhere:r}=Bt(),[s,i]=b.useState(!1),a=((m=e.where)==null?void 0:m.conditions)||[],o=()=>{i(!0)},l=y=>{t(y),i(!1)},c=()=>{i(!1)},d=()=>{if(!e.where)return;const y=e.where.operator==="AND"?"OR":"AND";r({...e.where,operator:y})};return u.jsxs("div",{className:"space-y-3",children:[a.length>0&&u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"text-sm text-dark-muted",children:"Operador lgico:"}),u.jsx("button",{onClick:d,className:"btn btn-secondary btn-sm",children:((f=e.where)==null?void 0:f.operator)||"AND"})]}),a.map((y,v)=>{var x;if("operator"in y&&(y.operator==="AND"||y.operator==="OR"))return null;const w=y;return u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded border border-dark-border",children:[u.jsxs("div",{className:"flex-1 font-mono text-sm",children:[u.jsxs("span",{children:[w.column.table,".",w.column.column]}),u.jsx("span",{className:"text-primary-400 mx-2",children:w.operator}),w.operator!=="IS NULL"&&w.operator!=="IS NOT NULL"&&u.jsx("span",{className:"text-green-400",children:w.operator==="IN"?`(${(x=w.values)==null?void 0:x.join(", ")})`:typeof w.value=="string"?`'${w.value}'`:w.value})]}),u.jsx("button",{onClick:()=>n(v),className:"btn btn-ghost btn-sm text-red-400 hover:text-red-300",children:u.jsx(br,{className:"w-4 h-4"})})]},v)}),s?u.jsx(UL,{onSave:l,onCancel:c}):u.jsxs("button",{onClick:o,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[u.jsx(yn,{className:"w-4 h-4"}),"Agregar Condicin"]})]})}function UL({onSave:e,onCancel:t}){const{model:n}=Bt(),{activeConnectionId:r}=_e(),s=yt(S=>{var E;return r?((E=S.byConnection[r])==null?void 0:E.tables)||[]:[]}),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState("="),[m,f]=b.useState(""),[y,v]=b.useState(""),w=[n.from,...n.joins.map(S=>S.table)],p=b.useMemo(()=>w.flatMap(S=>{const E=S.alias||S.name,C=s.find(N=>N.name===S.name);return((C==null?void 0:C.columns)||[]).map(N=>({value:`${E}.${N.name}`,label:`${E}.${N.name}`,table:E,column:N.name}))}),[w,s]),h=()=>{if(!i||!o||c!=="IS NULL"&&c!=="IS NOT NULL"&&!m&&c!=="IN"||c==="IN"&&!y)return;const E={column:{table:i,column:o},operator:c,value:c==="IN"?void 0:m,values:c==="IN"?y.split(",").map(C=>C.trim()):void 0};e(E)},g=i&&o&&(c==="IS NULL"||c==="IS NOT NULL"||c==="IN"&&y||m);return u.jsxs("div",{className:"border border-dark-border rounded-lg p-4 space-y-4 bg-dark-bg",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Columna"}),u.jsx(Ia,{options:p,value:`${i}.${o}`,onChange:S=>{const[E,C]=S.split(".");a(E),l(C)},placeholder:"Buscar y seleccionar columna..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Operador"}),u.jsxs("select",{value:c,onChange:S=>d(S.target.value),className:"input w-full",children:[u.jsx("option",{value:"=",children:"="}),u.jsx("option",{value:"!=",children:"!="}),u.jsx("option",{value:">",children:">"}),u.jsx("option",{value:"<",children:"<"}),u.jsx("option",{value:">=",children:">="}),u.jsx("option",{value:"<=",children:"<="}),u.jsx("option",{value:"LIKE",children:"LIKE"}),u.jsx("option",{value:"IN",children:"IN"}),u.jsx("option",{value:"IS NULL",children:"IS NULL"}),u.jsx("option",{value:"IS NOT NULL",children:"IS NOT NULL"})]})]})]}),c!=="IS NULL"&&c!=="IS NOT NULL"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:c==="IN"?"Valores (separados por coma)":"Valor"}),c==="IN"?u.jsx("input",{type:"text",value:y,onChange:S=>v(S.target.value),placeholder:"1, 2, 3",className:"input w-full"}):u.jsx("input",{type:"text",value:m,onChange:S=>f(S.target.value),placeholder:"Valor",className:"input w-full"})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:t,className:"btn btn-secondary btn-sm",children:"Cancelar"}),u.jsx("button",{onClick:h,disabled:!g,className:"btn btn-primary btn-sm disabled:opacity-50",children:"Agregar"})]})]})}function WL(){const{model:e,addOrderBy:t,removeOrderBy:n,updateOrderBy:r}=Bt(),[s,i]=b.useState(!1),a=()=>{i(!0)},o=d=>{t(d),i(!1)},l=()=>{i(!1)},c=d=>{const m=e.orderBy[d],f=m.direction==="ASC"?"DESC":"ASC";r(d,{...m,direction:f})};return u.jsxs("div",{className:"space-y-3",children:[e.orderBy.map((d,m)=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded border border-dark-border",children:[u.jsxs("div",{className:"flex-1 font-mono text-sm",children:[u.jsxs("span",{children:[d.column.table,".",d.column.column]}),u.jsx("span",{className:"text-primary-400 mx-2",children:d.direction})]}),u.jsx("button",{onClick:()=>c(m),className:"btn btn-ghost btn-sm",title:"Cambiar direccin",children:d.direction==="ASC"?u.jsx(Vv,{className:"w-4 h-4"}):u.jsx(Fv,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>n(m),className:"btn btn-ghost btn-sm text-red-400 hover:text-red-300",children:u.jsx(br,{className:"w-4 h-4"})})]},m)),s?u.jsx(HL,{onSave:o,onCancel:l}):u.jsxs("button",{onClick:a,className:"btn btn-secondary btn-sm flex items-center gap-2",children:[u.jsx(yn,{className:"w-4 h-4"}),"Agregar Ordenamiento"]})]})}function HL({onSave:e,onCancel:t}){const{model:n}=Bt(),[r,s]=b.useState(""),[i,a]=b.useState(""),[o,l]=b.useState("ASC"),[c,d]=b.useState(""),y=[n.from,...n.joins.map(x=>x.table)].flatMap(x=>{const p=x.alias||x.name;return me.getColumns(x.name).map(g=>({value:`${p}.${g.name}`,label:`${p}.${g.name}`,table:p,column:g.name}))}).filter(x=>c?x.label.toLowerCase().includes(c.toLowerCase()):!0),v=()=>{if(!r||!i)return;e({column:{table:r,column:i},direction:o})},w=r&&i;return u.jsxs("div",{className:"border border-dark-border rounded-lg p-4 space-y-4 bg-dark-bg",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Columna"}),u.jsx("input",{type:"text",value:c,onChange:x=>d(x.target.value),placeholder:"Buscar columna...",className:"input w-full mb-2"}),u.jsxs("select",{value:`${r}.${i}`,onChange:x=>{const[p,h]=x.target.value.split(".");s(p),a(h),d("")},className:"input w-full",size:5,children:[u.jsx("option",{value:"",children:"Seleccionar..."}),y.map(x=>u.jsx("option",{value:x.value,children:x.label},x.value))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Direccin"}),u.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"input w-full",children:[u.jsx("option",{value:"ASC",children:"Ascendente (ASC)"}),u.jsx("option",{value:"DESC",children:"Descendente (DESC)"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:t,className:"btn btn-secondary btn-sm",children:"Cancelar"}),u.jsx("button",{onClick:v,disabled:!w,className:"btn btn-primary btn-sm disabled:opacity-50",children:"Agregar"})]})]})}function qL(){const{isOpen:e,close:t,model:n,reset:r,setLimit:s}=Bt(),{connections:i,activeConnectionId:a}=_e(),{activeTabId:o,updateQuery:l}=rt(),{selectTable:c,byConnection:d}=yt(),m=i.find(h=>h.id===a),f=(m==null?void 0:m.engine)||"postgresql";b.useEffect(()=>{!e||!a||!m||Li(m)},[e,f,a,m]),b.useEffect(()=>{var S;if(!e||!a)return;const h=[n.from,...n.joins.map(E=>E.table)].filter(E=>E&&E.name),g=((S=d[a])==null?void 0:S.tables)||[];h.forEach(E=>{const C=g.find(k=>k.name===E.name&&(E.schema&&k.schema===E.schema||!E.schema||!k.schema));(!C||!C.columns||C.columns.length===0)&&c(a,E.name,E.schema)})},[e,a,n.from,n.joins,d,c]);const y=b.useMemo(()=>new wc(f).compile(n),[f,n]);if(!e)return null;const v=()=>{const g=new wc(f).compile(n);o&&l(o,g),t()},w=()=>{t()},x=()=>{confirm("Resetear el query builder?")&&r()},p=n.from.name!==""&&n.select.length>0;return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-2xl w-[92vw] h-[88vh] flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-dark-border",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Visual Query Builder"}),u.jsx("p",{className:"text-sm text-dark-muted mt-1",children:"Construye consultas SELECT sin escribir SQL"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:x,className:"btn btn-secondary text-sm",title:"Reset",children:u.jsx(br,{className:"w-4 h-4"})}),u.jsx("button",{onClick:w,className:"btn btn-ghost",title:"Cerrar",children:u.jsx(Vt,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden p-6",children:u.jsxs("div",{className:"grid grid-cols-12 gap-6 h-full",children:[u.jsxs("div",{className:"col-span-5 overflow-y-auto pr-2 space-y-6",children:[u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"1. Tabla Principal (FROM)"}),u.jsx($L,{})]}),n.from.name&&u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"2. Columnas (SELECT)"}),u.jsx(zL,{})]}),n.from.name&&u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"3. Uniones (JOIN) - Opcional"}),u.jsx(FL,{})]})]}),u.jsxs("div",{className:"col-span-7 overflow-y-auto pl-2 space-y-6",children:[n.from.name&&n.select.length>0&&u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"4. Condiciones (WHERE) - Opcional"}),u.jsx(BL,{})]}),n.from.name&&n.select.length>0&&u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"5. Ordenamiento (ORDER BY) - Opcional"}),u.jsx(WL,{})]}),n.from.name&&n.select.length>0&&u.jsxs("section",{className:"flex items-center gap-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase",children:"6. Lmite (LIMIT) - Opcional"}),u.jsx("input",{type:"number",min:"1",value:n.limit||"",onChange:h=>s(h.target.value?parseInt(h.target.value):void 0),placeholder:"Sin lmite",className:"input w-32"})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-sm font-semibold text-dark-muted uppercase mb-3",children:"Vista previa SQL"}),u.jsx("div",{className:"bg-dark-bg border border-dark-border rounded p-3 h-40 overflow-auto font-mono text-sm",children:y||""})]})]})]})}),u.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-dark-border",children:[u.jsx("div",{className:"text-sm text-dark-muted",children:!p&&u.jsx("span",{className:"text-yellow-500",children:" Selecciona una tabla y al menos una columna"})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:w,className:"btn btn-secondary",children:"Cancelar"}),u.jsxs("button",{onClick:v,disabled:!p,className:"btn btn-primary flex items-center gap-2 disabled:opacity-50",children:[u.jsx(lf,{className:"w-4 h-4"}),"Generar SQL"]})]})]})]})})}const w0=Zt(e=>({isOpen:!1,query:"",items:[],selectedIndex:0,action:"insert",open:()=>e({isOpen:!0,query:"",selectedIndex:0}),close:()=>e({isOpen:!1}),setQuery:t=>e({query:t,selectedIndex:0}),setItems:t=>e({items:t,selectedIndex:0}),setSelectedIndex:t=>e(n=>({selectedIndex:Math.max(0,Math.min(t,n.items.length-1))})),selectNext:()=>e(t=>({selectedIndex:Math.min(t.selectedIndex+1,t.items.length-1)})),selectPrevious:()=>e(t=>({selectedIndex:Math.max(t.selectedIndex-1,0)})),setAction:t=>e({action:t}),reset:()=>e({query:"",items:[],selectedIndex:0,action:"insert"})}));function QL(){const{isOpen:e,query:t,items:n,selectedIndex:r,close:s,setQuery:i,setItems:a,selectNext:o,selectPrevious:l}=w0(),{activeTabId:c,updateQuery:d}=rt(),{connections:m,activeConnectionId:f}=_e(),{queries:y,loadQueries:v}=l0(),w=m.find(N=>N.id===f),x=(w==null?void 0:w.engine)||"postgresql",[p,h]=b.useState(0);b.useEffect(()=>me.subscribe(()=>{h(N=>N+1)}),[]);const g=b.useCallback((N,M)=>{if(!N)return"";switch(M){case"mysql":return`\`${N}\``;case"postgresql":return`"${N}"`;case"sqlite":return`"${N}"`;default:return`"${N}"`}},[]),S=b.useCallback((N,M)=>{const T=g(M,x);return N?`${g(N,x)}.${T}`:T},[x,g]),E=b.useMemo(()=>{const N=me.getTables(),M=y.map(Q=>({id:`saved-${Q.id}`,type:"saved-query",name:Q.name,fullName:Q.name,savedQuery:Q}));if(!t){const Q=N.map(L=>{const j=L.schema?`${L.schema}.${L.name}`:L.name;return{id:j,type:L.type,name:L.name,schema:L.schema,database:L.database,fullName:j,table:L}});return[...M,...Q]}const T=t.toLowerCase(),B=N.map(Q=>{var O;const L=Q.schema?`${Q.schema}.${Q.name}`:Q.name,j=Q.name.toLowerCase().includes(T),P=(O=Q.schema)==null?void 0:O.toLowerCase().includes(T),J=L.toLowerCase().includes(T);let R=0;return Q.name.toLowerCase().startsWith(T)&&(R+=10),j&&(R+=5),P&&(R+=3),J&&(R+=1),{id:L,type:Q.type,name:Q.name,schema:Q.schema,database:Q.database,fullName:L,table:Q,score:R}}).filter(Q=>Q.score>0);return[...M.map(Q=>{const L=Q.name.toLowerCase().includes(T);let j=0;return Q.name.toLowerCase().startsWith(T)&&(j+=12),L&&(j+=6),{...Q,score:j}}).filter(Q=>Q.score>0),...B].sort((Q,L)=>L.score-Q.score).slice(0,50).map(({score:Q,...L})=>L)},[t,e,y,p]);b.useEffect(()=>{a(E)},[E,a]),b.useEffect(()=>{!e||!f||!w||(me.getConnectionId()!==f&&Li(w),v(f))},[e,f,x,w,v]);const C=b.useCallback(N=>{if(c){if(N.type==="saved-query"&&N.savedQuery)d(c,N.savedQuery.sql);else{const M=`SELECT * FROM ${S(N.schema,N.name)} LIMIT 100`;d(c,M)}s()}},[c,d,s,S]),k=b.useCallback(N=>{switch(N.key){case"Escape":N.preventDefault(),s();break;case"ArrowDown":N.preventDefault(),o();break;case"ArrowUp":N.preventDefault(),l();break;case"Enter":N.preventDefault(),n[r]&&C(n[r]);break}},[s,o,l,n,r,C]);return b.useEffect(()=>{if(e){const N=document.getElementById(`palette-item-${r}`);N==null||N.scrollIntoView({block:"nearest"})}},[r,e]),e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[15vh] bg-black/50",onClick:s,children:u.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-2xl w-[600px] max-h-[500px] flex flex-col",onClick:N=>N.stopPropagation(),onKeyDown:k,children:[u.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-dark-border",children:[u.jsx(mc,{className:"w-5 h-5 text-dark-muted"}),u.jsx("input",{type:"text",value:t,onChange:N=>i(N.target.value),placeholder:"Buscar tablas y vistas...",className:"flex-1 bg-transparent outline-none text-white placeholder-dark-muted",autoFocus:!0}),u.jsx("button",{onClick:s,className:"text-dark-muted hover:text-white transition-colors",children:u.jsx(Vt,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?u.jsxs("div",{className:"p-8 text-center text-dark-muted",children:[u.jsx(hc,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),u.jsx("p",{children:"No se encontraron tablas"})]}):u.jsx("div",{children:n.map((N,M)=>{var T;return u.jsxs("button",{id:`palette-item-${M}`,onClick:()=>C(N),className:`w-full text-left px-4 py-3 flex items-center gap-3 transition-colors border-b border-dark-border last:border-b-0 ${M===r?"bg-primary-500/20 border-l-2 border-l-primary-500":"hover:bg-dark-hover"}`,children:[u.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center ${N.type==="table"?"bg-blue-500/20 text-blue-400":N.type==="saved-query"?"bg-green-500/20 text-green-400":"bg-purple-500/20 text-purple-400"}`,children:N.type==="table"?u.jsx(hc,{className:"w-4 h-4"}):N.type==="saved-query"?u.jsx(Bv,{className:"w-4 h-4"}):u.jsx(Qv,{className:"w-4 h-4"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"font-mono text-sm truncate",children:[N.schema&&u.jsxs("span",{className:"text-primary-400",children:[N.schema,"."]}),u.jsx("span",{className:"text-white",children:N.name})]}),u.jsxs("div",{className:"text-xs text-dark-muted",children:[N.type==="table"?"Tabla":N.type==="saved-query"?"Consulta Guardada":"Vista"," "," ",((T=N.table)==null?void 0:T.columns.length)||0," columnas"]})]}),u.jsx("div",{className:"text-xs text-dark-muted",children:"Enter"})]},N.id)})})}),u.jsxs("div",{className:"px-4 py-2 border-t border-dark-border flex items-center justify-between text-xs text-dark-muted",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{children:" Navegar"}),u.jsx("span",{children:"Enter Seleccionar"}),u.jsx("span",{children:"Esc Cerrar"})]}),u.jsxs("div",{children:[n.length," resultados"]})]})]})}):null}function KL(e,t){let n=null;return function(...s){const i=()=>{n=null,e(...s)};n&&clearTimeout(n),n=setTimeout(i,t)}}const GL=KL(async e=>{const t=rt.getState(),r=t.tabs.filter(i=>i.connectionId===e).map(i=>({id:i.id,tab_type:"sql-editor",title:i.title,payload:{type:"sqlEditor",sql:i.query}})),s={connection_id:e,active_tab_id:t.activeTabId||void 0,tabs:r};await gc.save(s)},1e3),mf=Zt(e=>({isRestoring:!1,lastSaved:{},saveWorkspace:async t=>{await GL(t),e(n=>({lastSaved:{...n.lastSaved,[t]:new Date}}))},restoreWorkspace:async t=>{e({isRestoring:!0});try{const n=await gc.get(t);if(!n||n.tabs.length===0){e({isRestoring:!1});return}const r=rt.getState();n.tabs.forEach(s=>{s.payload.type==="sqlEditor"&&r.addTab({title:s.title,query:s.payload.sql,connectionId:t})}),n.active_tab_id&&r.setActiveTab(n.active_tab_id),e({isRestoring:!1})}catch(n){console.error("Failed to restore workspace:",n),e({isRestoring:!1})}},deleteWorkspace:async t=>{await gc.delete(t),e(n=>{const{[t]:r,...s}=n.lastSaved;return{lastSaved:s}})}})),YL=()=>{let e=null;rt.subscribe(t=>{const n=JSON.stringify({tabs:t.tabs.map(r=>({id:r.id,query:r.query,connectionId:r.connectionId})),activeTabId:t.activeTabId});n!==e&&(e=n,new Set(t.tabs.map(s=>s.connectionId).filter(Boolean)).forEach(s=>{mf.getState().saveWorkspace(s)}))})};function XL(){const{isRestoring:e}=mf();return e?u.jsxs("div",{className:"fixed top-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2 z-50",children:[u.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),u.jsx("span",{children:"Restaurando sesin..."})]}):null}function JL(){const{isAboutModalOpen:e,setAboutModalOpen:t}=Nr();return e?u.jsx($o,{children:u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),u.jsxs(se.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative bg-dark-surface border border-dark-border rounded-lg shadow-2xl w-full max-w-md mx-4 overflow-hidden",children:[u.jsxs("div",{className:"relative bg-gradient-to-br from-matrix-900/50 via-dark-surface to-dark-surface border-b border-dark-border/50 p-6",children:[u.jsx("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 p-1.5 rounded-lg hover:bg-dark-hover/50 transition-colors group",children:u.jsx(Vt,{className:"w-4 h-4 text-dark-muted group-hover:text-dark-text"})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 bg-matrix-500/20 blur-xl rounded-full"}),u.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-matrix-500 to-matrix-700 rounded-xl flex items-center justify-center shadow-lg",children:u.jsx("img",{src:"/icon.png",alt:"QueryX Logo",className:"w-12 h-12 object-contain",onError:n=>{n.currentTarget.style.display="none",n.currentTarget.parentElement.innerHTML='<svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"></path></svg>'}})})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-dark-text",children:"QueryX"}),u.jsx("p",{className:"text-sm text-matrix-400 font-medium",children:"Professional SQL Database Manager"})]})]})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg/50 rounded-lg border border-dark-border/30",children:[u.jsx("span",{className:"text-sm text-dark-muted",children:"Versin"}),u.jsx("span",{className:"text-sm font-mono text-matrix-400 font-semibold",children:"1.0.0"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-sm text-dark-text leading-relaxed",children:"QueryX es un gestor de bases de datos SQL profesional con soporte para mltiples motores de bases de datos."}),u.jsx("p",{className:"text-xs text-dark-muted leading-relaxed",children:"Diseado para desarrolladores que necesitan una herramienta potente, rpida y elegante para trabajar con PostgreSQL, MySQL y SQLite."})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xs font-semibold text-dark-muted uppercase tracking-wider",children:"Caractersticas"}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{icon:cs,text:"Multi-motor"},{icon:Hv,text:"Editor SQL"},{icon:bk,text:"Query Builder"},{icon:cs,text:"Workspaces"}].map((n,r)=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-dark-bg/30 rounded border border-dark-border/20",children:[u.jsx(n.icon,{className:"w-3.5 h-3.5 text-matrix-500"}),u.jsx("span",{className:"text-xs text-dark-text",children:n.text})]},r))})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xs font-semibold text-dark-muted uppercase tracking-wider",children:"Tecnologas"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["React","TypeScript","Tauri","Rust","Monaco Editor"].map(n=>u.jsx("span",{className:"px-2 py-1 text-xs bg-matrix-900/30 text-matrix-400 rounded border border-matrix-700/30 font-medium",children:n},n))})]}),u.jsxs("div",{className:"pt-4 border-t border-dark-border/30",children:[u.jsx("p",{className:"text-xs text-center text-dark-muted",children:" 2024-2026 QueryX. Todos los derechos reservados."}),u.jsx("p",{className:"text-xs text-center text-dark-muted/70 mt-1",children:"Hecho con  para desarrolladores"})]})]})]})]})}):null}async function S0(e,t){return Y({__tauriModule:"Event",message:{cmd:"unlisten",event:e,eventId:t}})}async function ZL(e,t,n){await Y({__tauriModule:"Event",message:{cmd:"emit",event:e,windowLabel:t,payload:n}})}async function E0(e,t,n){return Y({__tauriModule:"Event",message:{cmd:"listen",event:e,windowLabel:t,handler:pc(n)}}).then(r=>async()=>S0(e,r))}async function e2(e,t,n){return E0(e,t,r=>{n(r),S0(e,r.id).catch(()=>{})})}var ft;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_CREATED="tauri://window-created",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_FILE_DROP="tauri://file-drop",e.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",e.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",e.MENU="tauri://menu",e.CHECK_UPDATE="tauri://update",e.UPDATE_AVAILABLE="tauri://update-available",e.INSTALL_UPDATE="tauri://update-install",e.STATUS_UPDATE="tauri://update-status",e.DOWNLOAD_PROGRESS="tauri://update-download-progress"})(ft||(ft={}));class t2{constructor(t,n){this.type="Logical",this.width=t,this.height=n}}class Ec{constructor(t,n){this.type="Physical",this.width=t,this.height=n}toLogical(t){return new t2(this.width/t,this.height/t)}}class n2{constructor(t,n){this.type="Logical",this.x=t,this.y=n}}class Nc{constructor(t,n){this.type="Physical",this.x=t,this.y=n}toLogical(t){return new n2(this.x/t,this.y/t)}}var Cc;(function(e){e[e.Critical=1]="Critical",e[e.Informational=2]="Informational"})(Cc||(Cc={}));function Ep(){return window.__TAURI_METADATA__.__windows.map(e=>new Ri(e.label,{skip:!0}))}const Np=["tauri://created","tauri://error"];class r2{constructor(t){this.label=t,this.listeners=Object.create(null)}async listen(t,n){return this._handleTauriEvent(t,n)?Promise.resolve(()=>{const r=this.listeners[t];r.splice(r.indexOf(n),1)}):E0(t,this.label,n)}async once(t,n){return this._handleTauriEvent(t,n)?Promise.resolve(()=>{const r=this.listeners[t];r.splice(r.indexOf(n),1)}):e2(t,this.label,n)}async emit(t,n){if(Np.includes(t)){for(const r of this.listeners[t]||[])r({event:t,id:-1,windowLabel:this.label,payload:n});return Promise.resolve()}return ZL(t,this.label,n)}_handleTauriEvent(t,n){return Np.includes(t)?(t in this.listeners?this.listeners[t].push(n):this.listeners[t]=[n],!0):!1}}class s2 extends r2{async scaleFactor(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})}async innerPosition(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(({x:t,y:n})=>new Nc(t,n))}async outerPosition(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(({x:t,y:n})=>new Nc(t,n))}async innerSize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(({width:t,height:n})=>new Ec(t,n))}async outerSize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(({width:t,height:n})=>new Ec(t,n))}async isFullscreen(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})}async isMinimized(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimized"}}}})}async isMaximized(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})}async isFocused(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFocused"}}}})}async isDecorated(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})}async isResizable(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})}async isMaximizable(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximizable"}}}})}async isMinimizable(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMinimizable"}}}})}async isClosable(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isClosable"}}}})}async isVisible(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})}async title(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"title"}}}})}async theme(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})}async center(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})}async requestUserAttention(t){let n=null;return t&&(t===Cc.Critical?n={type:"Critical"}:n={type:"Informational"}),Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:n}}}})}async setResizable(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:t}}}})}async setMaximizable(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaximizable",payload:t}}}})}async setMinimizable(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinimizable",payload:t}}}})}async setClosable(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setClosable",payload:t}}}})}async setTitle(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:t}}}})}async maximize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})}async unmaximize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})}async toggleMaximize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})}async minimize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})}async unminimize(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})}async show(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})}async hide(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})}async close(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})}async setDecorations(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:t}}}})}async setAlwaysOnTop(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:t}}}})}async setContentProtected(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setContentProtected",payload:t}}}})}async setSize(t){if(!t||t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:t.type,data:{width:t.width,height:t.height}}}}}})}async setMinSize(t){if(t&&t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:t?{type:t.type,data:{width:t.width,height:t.height}}:null}}}})}async setMaxSize(t){if(t&&t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:t?{type:t.type,data:{width:t.width,height:t.height}}:null}}}})}async setPosition(t){if(!t||t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:t.type,data:{x:t.x,y:t.y}}}}}})}async setFullscreen(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:t}}}})}async setFocus(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})}async setIcon(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof t=="string"?t:Array.from(t)}}}}})}async setSkipTaskbar(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:t}}}})}async setCursorGrab(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:t}}}})}async setCursorVisible(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:t}}}})}async setCursorIcon(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:t}}}})}async setCursorPosition(t){if(!t||t.type!=="Logical"&&t.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:t.type,data:{x:t.x,y:t.y}}}}}})}async setIgnoreCursorEvents(t){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIgnoreCursorEvents",payload:t}}}})}async startDragging(){return Y({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})}async onResized(t){return this.listen(ft.WINDOW_RESIZED,n=>{n.payload=o2(n.payload),t(n)})}async onMoved(t){return this.listen(ft.WINDOW_MOVED,n=>{n.payload=a2(n.payload),t(n)})}async onCloseRequested(t){return this.listen(ft.WINDOW_CLOSE_REQUESTED,n=>{const r=new i2(n);Promise.resolve(t(r)).then(()=>{if(!r.isPreventDefault())return this.close()})})}async onFocusChanged(t){const n=await this.listen(ft.WINDOW_FOCUS,s=>{t({...s,payload:!0})}),r=await this.listen(ft.WINDOW_BLUR,s=>{t({...s,payload:!1})});return()=>{n(),r()}}async onScaleChanged(t){return this.listen(ft.WINDOW_SCALE_FACTOR_CHANGED,t)}async onMenuClicked(t){return this.listen(ft.MENU,t)}async onFileDropEvent(t){const n=await this.listen(ft.WINDOW_FILE_DROP,i=>{t({...i,payload:{type:"drop",paths:i.payload}})}),r=await this.listen(ft.WINDOW_FILE_DROP_HOVER,i=>{t({...i,payload:{type:"hover",paths:i.payload}})}),s=await this.listen(ft.WINDOW_FILE_DROP_CANCELLED,i=>{t({...i,payload:{type:"cancel"}})});return()=>{n(),r(),s()}}async onThemeChanged(t){return this.listen(ft.WINDOW_THEME_CHANGED,t)}}class i2{constructor(t){this._preventDefault=!1,this.event=t.event,this.windowLabel=t.windowLabel,this.id=t.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}class Ri extends s2{constructor(t,n={}){super(t),n!=null&&n.skip||Y({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:{label:t,...n}}}}).then(async()=>this.emit("tauri://created")).catch(async r=>this.emit("tauri://error",r))}static getByLabel(t){return Ep().some(n=>n.label===t)?new Ri(t,{skip:!0}):null}static async getFocusedWindow(){for(const t of Ep())if(await t.isFocused())return t;return null}}let tn;"__TAURI_METADATA__"in window?tn=new Ri(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),tn=new Ri("main",{skip:!0}));function a2(e){return new Nc(e.x,e.y)}function o2(e){return new Ec(e.width,e.height)}var Cp;(function(e){e[e.JSON=1]="JSON",e[e.Text=2]="Text",e[e.Binary=3]="Binary"})(Cp||(Cp={}));function hf(){return navigator.appVersion.includes("Win")}hf();hf();hf();async function l2(){return Y({__tauriModule:"Os",message:{cmd:"platform"}})}async function u2(){return Y({__tauriModule:"Os",message:{cmd:"osType"}})}function c2(){const[e,t]=b.useState(!0),[n,r]=b.useState(""),s=Nr(y=>y.setAboutModalOpen),{activeConnectionId:i,connections:a}=_e(),o=a.find(y=>y.id===i);b.useEffect(()=>{l2().then(r).catch(()=>r("unknown"));const y=tn.onResized(async()=>{const v=await tn.isMaximized();t(v)});return tn.isMaximized().then(t),()=>{y.then(v=>v())}},[]);const l=()=>tn.minimize(),c=async()=>{e?await tn.unmaximize():await tn.maximize()},d=()=>tn.close(),m=n==="darwin",f=()=>u.jsxs("div",{className:"flex items-center h-full",children:[u.jsx("button",{onClick:l,className:"h-full w-11 flex items-center justify-center hover:bg-dark-hover transition-colors group",title:"Minimizar",children:u.jsx(Yv,{className:"w-4 h-4 text-dark-muted group-hover:text-dark-text"})}),u.jsx("button",{onClick:c,className:"h-full w-11 flex items-center justify-center hover:bg-dark-hover transition-colors group",title:e?"Restaurar":"Maximizar",children:e?u.jsx(Jv,{className:"w-3.5 h-3.5 text-dark-muted group-hover:text-dark-text"}):u.jsx(kk,{className:"w-3.5 h-3.5 text-dark-muted group-hover:text-dark-text"})}),u.jsx("button",{onClick:d,className:"h-full w-11 flex items-center justify-center hover:bg-red-600 transition-colors group",title:"Cerrar",children:u.jsx(Vt,{className:"w-4 h-4 text-dark-muted group-hover:text-white"})})]});return u.jsxs("div",{"data-tauri-drag-region":!0,className:"h-9 bg-dark-surface/95 backdrop-blur-sm border-b border-dark-border/50 flex items-center select-none",children:[m&&u.jsxs(u.Fragment,{children:[u.jsx(f,{}),u.jsx("div",{className:"h-4 w-px bg-dark-border/30"})]}),u.jsxs("div",{"data-tauri-drag-region":!0,className:"flex items-center gap-2 px-3 h-full",children:[u.jsx("img",{src:"/icon.png",alt:"QueryX",className:"w-4 h-4 object-contain pointer-events-none",draggable:!1}),u.jsx("span",{className:"text-xs font-bold text-matrix-400 tracking-wide pointer-events-none",children:"QueryX"})]}),o&&u.jsxs("div",{"data-tauri-drag-region":!0,className:"flex items-center gap-2 px-2 h-full",children:[u.jsx("div",{className:"h-3 w-px bg-dark-border/50"}),u.jsxs("div",{className:"flex items-center gap-1.5 text-xs pointer-events-none",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-matrix-500 animate-pulse"}),u.jsx("span",{className:"text-dark-muted",children:"Connected:"}),u.jsx("span",{className:"text-matrix-400 font-medium",children:o.name}),u.jsx("span",{className:"text-dark-muted/50",children:""}),u.jsx("span",{className:"text-dark-text/80",children:o.database})]})]}),u.jsx("div",{"data-tauri-drag-region":!0,className:"flex-1 h-full"}),u.jsx("button",{onClick:()=>s(!0),className:"h-full px-3 flex items-center justify-center hover:bg-dark-hover/50 transition-colors group",title:"Acerca de QueryX (F1)",children:u.jsx(Ek,{className:"w-3.5 h-3.5 text-dark-muted group-hover:text-matrix-400"})}),!m&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-4 w-px bg-dark-border/30"}),u.jsx(f,{})]})]})}function d2(){const{panels:e,setPanelState:t}=Un(),n=a=>a.result?u.jsx(ff,{tab:{id:a.id,connectionId:a.connectionId,query:a.query,result:a.result,error:null,isExecuting:!1}}):null,r=u.jsx($o,{children:e.filter(a=>a.state==="modal").map(a=>u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] flex items-center justify-center",onClick:()=>t(a.id,"docked"),children:u.jsxs(se.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-dark-surface border border-dark-border/50 rounded-lg shadow-2xl w-[94vw] h-[90vh] flex flex-col overflow-hidden",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-b border-dark-border/30 bg-dark-elevated/50",children:[u.jsxs("span",{className:"text-xs text-dark-muted",children:[a.type,"  ",a.executedAt.toLocaleString()]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>t(a.id,"pinned"),className:"btn btn-ghost px-2 py-1 text-xs flex items-center gap-1",title:"Pinear",children:u.jsx(Xh,{className:"w-3 h-3 rotate-45"})}),u.jsx("button",{onClick:()=>t(a.id,"docked"),className:"btn btn-ghost p-1",title:"Cerrar modal",children:u.jsx(Vt,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden bg-dark-bg",children:n(a)})]})},`modal-${a.id}`))}),s=u.jsx("div",{className:"fixed top-16 right-4 z-[9999] flex flex-col gap-3 max-h-[80vh] overflow-auto pointer-events-auto",children:e.filter(a=>a.state==="pinned").map(a=>u.jsxs("div",{className:"w-[420px] bg-dark-surface/90 border border-dark-border/50 rounded-lg shadow-xl overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 border-b border-dark-border/30 bg-dark-elevated/50",children:[u.jsx("span",{className:"text-xs text-dark-muted",children:a.type}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>t(a.id,"modal"),className:"btn btn-ghost px-2 py-1 text-xs",title:"Abrir en modal",children:"Modal"}),u.jsx("button",{onClick:()=>t(a.id,"docked"),className:"btn btn-ghost px-2 py-1 text-xs",title:"Volver a dock",children:"Dock"}),u.jsx("button",{onClick:()=>t(a.id,"docked"),className:"btn btn-ghost p-1",title:"Despinear",children:u.jsx(Xh,{className:"w-3 h-3 rotate-45"})})]})]}),u.jsx("div",{className:"max-h-[60vh] overflow-auto bg-dark-bg",children:n(a)})]},`pinned-${a.id}`))});return u.jsxs(u.Fragment,{children:[xr.createPortal(r,document.body),xr.createPortal(s,document.body),null]})}function f2(){const e=w0(r=>r.open),t=Bt(r=>r.open),n=Nr(r=>r.setAboutModalOpen);b.useEffect(()=>{const r=s=>{if((s.ctrlKey||s.metaKey)&&s.key==="p"){s.preventDefault(),e();return}if((s.ctrlKey||s.metaKey)&&s.shiftKey&&s.key==="B"){s.preventDefault(),t();return}if(s.key==="F1"){s.preventDefault(),n(!0);return}};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e,t,n])}class m2 extends b.Component{constructor(){super(...arguments);Ie(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){var n;return this.state.hasError?(n=this.props.fallback)!=null?n:null:this.props.children}}function h2(){const e=_e(o=>o.loadConnections),t=Nr(o=>o.isConnectionModalOpen),{activeConnectionId:n}=_e(),{restoreWorkspace:r}=mf(),{addTab:s}=rt(),[i,a]=b.useState(!1);return f2(),b.useEffect(()=>{e(),YL()},[e]),b.useEffect(()=>{n&&r(n)},[n,r]),b.useEffect(()=>{async function o(){try{const l=await ne("get_launch_file");if(l){const{path:c,content:d}=l,m=c.split(/[\\/]/).pop()||"Untitled.sql";s({title:m,query:d,connectionId:_e.getState().activeConnectionId||""})}}catch(l){console.error("Failed to open launch file:",l)}}o()},[s]),u.jsxs("div",{className:"h-screen flex flex-col overflow-hidden bg-dark-bg",children:[u.jsx(c2,{}),u.jsx("div",{className:"flex-1 flex overflow-hidden",children:u.jsxs(nf,{direction:"horizontal",children:[u.jsx($o,{mode:"wait",children:!i&&u.jsx(Ci,{defaultSize:16,minSize:12,maxSize:25,children:u.jsx(se.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{duration:.15},className:"h-full",children:u.jsx(FT,{})})})}),!i&&u.jsx(rf,{className:"w-px bg-dark-border/50 hover:bg-matrix-700/50 transition-all relative group",children:u.jsx("button",{onClick:()=>a(!0),className:"absolute top-1/2 -translate-y-1/2 -right-2 w-4 h-12 bg-dark-surface/90 border border-dark-border/50 rounded-r flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all hover:bg-dark-hover hover:border-matrix-700/50 hover:w-5",title:"Collapse sidebar (Ctrl+B)",children:u.jsx(Uv,{className:"w-3 h-3 text-matrix-400"})})}),i&&u.jsxs(se.button,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{duration:.15},onClick:()=>a(!1),className:"w-7 bg-dark-surface/80 border-r border-dark-border/50 flex flex-col items-center py-3 gap-2 hover:bg-dark-hover hover:w-8 transition-all group",title:"Expand sidebar (Ctrl+B)",children:[u.jsx(af,{className:"w-3.5 h-3.5 text-matrix-400 group-hover:text-matrix-300"}),u.jsx("div",{className:"h-px w-3 bg-dark-border/50"}),u.jsx(cs,{className:"w-3.5 h-3.5 text-dark-muted group-hover:text-matrix-400"})]}),u.jsx(Ci,{minSize:50,children:u.jsx(IL,{})})]})}),t&&u.jsx(DL,{}),u.jsx(m2,{fallback:u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-2xl w-[60vw] p-6 text-center",children:[u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Error en Query Builder"}),u.jsx("p",{className:"text-dark-muted",children:"Ocurri un problema al renderizar el Query Builder. Cierra y vuelve a abrir el modal."})]})}),children:u.jsx(qL,{})}),u.jsx(QL,{}),u.jsx(XL,{}),u.jsx(JL,{}),u.jsx(d2,{})]})}let Ps=null;const p2=async()=>{if(Ps!==null)return Ps;try{Ps=await u2()==="Linux"}catch(e){console.warn("Failed to detect OS via Tauri API, falling back to UserAgent",e),Ps=navigator.userAgent.includes("Linux")}return Ps||!1},g2=async()=>{await p2()&&(console.log("Applying Linux-specific fixes..."),document.body.classList.add("is-linux"),document.documentElement.classList.add("is-linux"),document.body.style.backgroundColor="#0f0f0f",setInterval(()=>{document.querySelectorAll('div[style*="position: fixed"][style*="opacity: 0"]').forEach(n=>{n.style.display="none"}),document.querySelectorAll("div").forEach(n=>{const r=window.getComputedStyle(n);r.position==="fixed"&&r.opacity==="0"&&r.zIndex!=="auto"&&parseInt(r.zIndex)>100&&(n.style.display="none")})},2e3))};g2().catch(console.error);Gl.createRoot(document.getElementById("root")).render(u.jsx(ln.StrictMode,{children:u.jsx(h2,{})}));
